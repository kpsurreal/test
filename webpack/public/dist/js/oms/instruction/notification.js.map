{"version":3,"sources":["oms/instruction/notification.js"],"names":["notificationSort","order","order_by","display_rules","id","label","format","class","style","sub_style","Vue","component","props","template","methods","refresh","_this","Object","prototype","toString","call","$root","doRefresh","data","display_change","change_num","watch","item","item_drop","indexOf","product_volume","product","volume","numeralNumber","change_status","status","color_class","direction","html","all_account","product_position_list","investment_target","price","account_single","product_list","forEach","e","user_id","window","LOGIN_INFO","product_id","common_storage","getItem","rtn","customCls","pro_volume","code","product_name","$","confirm","title","content","closeIcon","columnClass","confirmButton","confirmButtonClass","ajax","url","type","action","success","msg","omsAlert","error","cancelButton","width","off","on","attr","hasClass","removeClass","addClass","setItem","product_change","$emit","displayValue","sub_value","rule","value","Array","Function","args","concat","slice","apply","unit","arg","num","undefined","str","i","numeral","active","notificationData","index","itemDrop","computed","user_data","instruction_data","creatorList","list","obj","creator_name","ins_status","submit_num","creator_id","push","sort","a","b","noticeData","lists","isEmptytype","join","fund_manager_memo","isNumBold","created_at","parseFloat","number","paddedNumber","figures","strNum","length","fix","goto","creator","idx","changeItemShow","event","chgType","splice","notification","el","user_list","instructionLIst","startLoading","direction_list","page_type","count","clearLoading","refreshData","dataType","today_not_finished_ins_count","omsSoundNotice","setInterval"],"mappings":"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","file":"notification.js","sourcesContent":["/*\n指令通知页面3.9.0\n*/ \n\n//\nlet notificationSort = {\n  order: '',\n  order_by: '',\n  display_rules: [\n    {\n      id: 'operation', // 变量id\n      label: '指令操作',         // 变量显示名称\n      format: '',               // 格式化处理函数，不能提前进行处理，因为数据还要用来排序什么的。此处的处理理解为只为显示，脱离于逻辑 （函数定义于vue中）\n      class: '',           // 样式\n      style: 'width:20%;text-align:left;',\n      sub_style: 'padding-left:10px;'\n    },\n    {\n      id: 'number',\n      label: '指令编号',\n      format: '',\n      class: '',\n      style: 'width:5%;text-align:left;',\n      sub_style: 'padding-left:10px;'\n    },\n    {\n      id: 'ins_status',\n      label: '指令状态',\n      format: '',\n      class: '',\n      style: 'width:6%;text-align:left;',\n      sub_style: 'padding-left:10px;'\n    },\n    {\n      id: 'investment_target',\n      label: '证券',\n      format: '',\n      class: '',\n      style: 'width:10%;text-align:left;',\n      sub_style: 'padding-left:10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:140px;display:inline-block;'\n    },\n    {\n      id: 'product_position_list',\n      label: '产品账户',\n      format: '',\n      class: '',\n      style: 'width:18%;text-align:left;',\n      sub_style: 'padding-left:10px;cursor:pointer;height:36px;'\n    },\n    {\n      id: 'volume',\n      label: '指令数量',\n      format: '',\n      class: '',\n      style: 'width:10%;text-align:right;',\n      sub_style: 'padding-right:60px;'\n    },\n    {\n      id: 'direction',\n      label: '买卖方向',\n      format: '',\n      class: '',\n      style: 'width:6%;text-align:left;',\n      sub_style: 'padding-left:10px;'\n    },\n    {\n      id: 'price',\n      label: '指令价格',\n      format: '',\n      class: '',\n      style: 'width:5%;text-align:right;',\n      sub_style: 'padding-right:10px;'\n    },\n    {\n      id: 'fund_manager_memo',\n      label: '备注',\n      format: '',\n      class: '',\n      style: 'width:5%;text-align:left;',\n      sub_style: 'padding-left:24px;width:140px;display:inline-block;line-height:18px;'\n    },\n    {\n      id: 'created_at',\n      label: '指令下达时间',\n      format: '',\n      class: '',\n      style: 'width:15%;text-align:right;',\n      sub_style: 'padding-right:10px;'\n    }\n  ]\n}\n//头部\nVue.component('vue-notification-header', {\n  props: [],\n  template: `\n    <div class=\"notification-header\">\n      <h2 class=\"notification-header__name\">指令通知</h2>\n      <div style=\"flex-grow: 1\"></div>\n      <a v-on:click=\"refresh()\" class=\"custom-grey-btn custom-grey-btn__refresh\">\n        <i class=\"oms-icon refresh\"></i>刷新\n      </a>\n    </div>\n  `,\n  methods: {\n    refresh: function () {\n      let _this = this;\n      //刷新页面,方便组件重复利用\n      if (\"[object Function]\" == Object.prototype.toString.call(_this.$root.doRefresh)) {\n        _this.$root.doRefresh(true);\n      }\n    }\n  }\n})\n\nVue.component('vue-product-sub', {\n  props:['item', 'notification_display', 'product_index', 'item_drop'],\n  template: `\n    <div class=\"instruction-notifition__content\">\n      <ul class=\"instruction-notifition__content__account\">\n        <li v-bind:class=\"rule.class\" v-bind:style=\"rule.style\" v-for=\"rule in notification_display\">\n          <form v-if=\"'operation' == rule.id\" v-bind:style=\"rule.sub_style\">\n            <input type=\"radio\" name=\"change\" :checked=\"2 == item.status\" :class=\"'product_'+item.id\" @click=\"change_status(item, '1')\"/>已收到\n            <input type=\"radio\" name=\"change\" style=\"margin-left:20px;\" :checked=\"3 == item.status\" :class=\"'product_'+item.id\" @click=\"change_status(item, '2')\"/>执行中\n            <input type=\"radio\" name=\"change\" style=\"margin-left:20px;\" :checked=\"4 == item.status\" :class=\"'product_'+item.id\" @click=\"change_status(item, '3')\"/>已完成\n          </form>\n          <div v-if=\"'product_position_list' == rule.id\" @click=\"product_change()\" v-bind:style=\"rule.sub_style\">\n            <div class=\"display_hide_icon\" :class=\"{display_show_icon: true == display_change}\" style=\"vertical-align:top;margin-top:15px;\"></div>\n            <div style=\"display:inline-block;width:200px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;\">{{item.product_position_list}}</div>\n          </div>\n          <span v-bind:style=\"rule.sub_style\" v-if=\"'direction' == rule.id\" :class=\"{red: '买入' == item.direction || '买入开仓' == item.direction || '卖出平仓' == item.direction, blue: '卖出' == item.direction || '卖出开仓' == item.direction || '买入平仓' == item.direction}\">{{item.direction}}</span>\n          <span v-bind:style=\"rule.sub_style\" v-if=\"'ins_status' == rule.id\" :class=\"{status_submit: 1 == item.status, status_receive: 2 == item.status, status_execution: 3 == item.status, status_complete: 4 == item.status, status_complete: 5 == item.status, status_complete: 6 == item.status}\">{{item.ins_status}}</span>\n          <span v-bind:style=\"rule.sub_style\" v-if=\"'investment_target' == rule.id\" :title=\"item.investment_target\">{{item.investment_target}}</span>\n          <span v-bind:style=\"item.isNumBold ? rule.sub_style+'fontWeight:bold;' : rule.sub_style\" v-if=\"'price' == rule.id\" >{{item.price}}</span>\n          <span v-bind:style=\"rule.sub_style\" v-if=\"'fund_manager_memo' == rule.id\" :title=\"item.fund_manager_memo\">{{item.fund_manager_memo}}</span>\n          <span v-bind:style=\"rule.sub_style\" v-if=\"'fund_manager_memo' != rule.id &&'price' != rule.id && 'direction' != rule.id && 'investment_target' != rule.id && 'operation' != rule.id && 'product_position_list' != rule.id && 'ins_status' != rule.id\">{{displayValue(item, rule)}}</span>\n        </li>\n      </ul>\n      <ul class=\"instruction-notifition__content__sub\" v-for=\"product_item in item.product_list\" v-show=\"display_change\">\n        <li style=\"width:20%;text-align:left;padding-left:10px;\"></li>\n        <li style=\"width:5%;text-align:left;padding-left:10px;\"></li>\n        <li style=\"width:6%;text-align:left;padding-left:10px;\"></li>\n        <li style=\"width:10%;text-align:left;padding-left:10px;\"></li>\n        <li style=\"width:18%;text-align:left;padding-left:10px;\">{{product_item.product_name}}</li>\n        <li style=\"width:10%;text-align:right;padding-right:60px;\" v-text=\"product_volume(product_item)\"></li>\n        <li style=\"width:6%;text-align:left;padding-left:10px;\" :class=\"{red: '买入' == item.direction || '买入开仓' == item.direction || '卖出平仓' == item.direction, blue: '卖出' == item.direction || '卖出开仓' == item.direction || '买入平仓' == item.direction}\">{{item.direction}}</li>\n        <li style=\"width:5%;text-align:right;padding-right:10px;\">{{item.price}}</li>\n        <li style=\"width:5%;text-align:right;padding-right:10px;\"></li>\n        <li style=\"width:15%;text-align:right;padding-right:10px;\"></li>\n      </ul>\n    </div>\n  `,\n  data: function () {\n    return {\n      display_change: false, //显示产品账户\n      change_num: -1\n    }\n  },\n  watch: {\n    change_num: function () {\n      this.display_change = false;\n    },\n    // item或者item_drop被修改时，都需要重新判断是否显示详细\n    item: function(){\n      if (this.item_drop.indexOf(this.item.id) != -1) {\n        this.display_change = true;\n      }else{\n        this.display_change = false;\n      }\n    },\n    // item或者item_drop被修改时，都需要重新判断是否显示详细\n    item_drop: function(){\n      if (this.item_drop.indexOf(this.item.id) != -1) {\n        this.display_change = true;\n      }else{\n        this.display_change = false;\n      }\n    }\n  },\n  methods: {\n    product_volume: function (product) {\n      if('全部清仓' == product.volume){\n        return product.volume;\n      }else{\n        return this.numeralNumber(product.volume, 0);\n      }\n    },\n    change_status: function (item, status) { //修改指令\n      let _this = this;\n      let color_class = '';\n\n      if ('买入' == item.direction || '买入开仓' == item.direction || '卖出平仓' == item.direction) {\n        color_class = 'red';\n      } else {\n        color_class = 'blue';\n      }\n      if (2 == status) {\n        let html = '';\n        let all_account = `\n          <ul class=\"product-confirm__head\" style=\"background-color:#BEBEBE;\">\n            <li>\n              <div>                \n                <p style=\"display:inline-block;width:200px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;\">`+item.product_position_list+`</p>\n              </div>\n            </li>\n            <li>`+item.investment_target+`</li>\n            <li class=\"`+color_class+`\">`+item.direction+`</li>\n            <li style=\"font-weight: 600;\">`+item.price+`</li>\n            <li>`+item.volume+`</li>\n          </ul>\n        `;\n        let account_single = '';\n        item.product_list.forEach((e) => {\n          var user_id = window.LOGIN_INFO.user_id;\n          var id = item.id;\n          var product_id = e.product_id;\n          common_storage.getItem('notification_userid' + user_id + '_id' + id + '_productid' + product_id, function(rtn){\n            let customCls = 'normal_color';\n            let pro_volume = 0;\n            if (0 == rtn.code) {\n              if (true == rtn.data) {\n                customCls = 'start_color'\n              }\n            }else{\n              ;\n            }\n            if ('全部清仓' == e.volume) {\n              pro_volume = e.volume\n            }else {\n              pro_volume = _this.numeralNumber(e.volume,0)\n            }\n            account_single += `\n            <ul class=\"product-confirm__head\">\n              <li><i class=\"single-color `+ customCls +`\" data-id=\"` + item.id + `\" data-product-id=\"`+e.product_id+`\"></i>`+e.product_name+`</li>\n              <li>`+item.investment_target+`</li>\n              <li class=\"`+color_class+`\">`+item.direction+`</li>\n              <li>`+item.price+`</li>\n              <li>`+pro_volume+`</li>\n            </ul>\n            `;\n          });\n        })\n        // html = account_single + all_account;\n        html = account_single;\n\n        $.confirm({\n          title: '执行中确认',\n          content: `\n            <div class=\"product-confirm\">\n              <ul class=\"product-confirm__head\">\n                <li>产品账户</li>\n                <li>证券</li>\n                <li>买卖方向</li>\n                <li>指令价格</li>\n                <li>指令数量</li>\n              </ul>\n              <div class=\"product-confirm__content\">\n                `+html+`\n              </div>\n              <div>\n                `+ all_account +`\n              </div>\n            </div>\n          `,\n          closeIcon: true,\n          columnClass: 'custom-window-width',\n          confirmButton: '确定',\n          confirmButtonClass: 'vue-confirm__btns--cancel',\n          confirm: function(){\n            $.ajax({\n              url: '/omsv2/sync/instruction/notification_modify_status',\n              type: 'POST',\n              data: {\n                id: item.id,\n                action: status\n              },\n              success: ({code, msg, data})=> {\n                if (0 == code) {\n                  //刷新页面,方便组件重复利用\n                  if (\"[object Function]\" == Object.prototype.toString.call(_this.$root.doRefresh)) {\n                    _this.$root.doRefresh(true);\n                  }\n                } else {\n                  $.omsAlert('指令状态无法修改！');\n                }\n              },\n              error: ()=> {\n                $.omsAlert('网络异常，请重试');\n              }\n            })\n          },\n          cancelButton: '取消'\n        })\n        $(\".product-confirm .product-confirm__head:eq(0)\").width($(\".product-confirm__content .product-confirm__head:eq(0)\").width());\n\n        //产品标记的切换\n        $('.product-confirm').off().on('click', '.single-color', function () {\n          var user_id = window.LOGIN_INFO.user_id;\n          var id = $(this).attr('data-id');\n          var product_id = $(this).attr('data-product-id');\n\n          if ($(this).hasClass('normal_color')) {\n            $(this).removeClass('normal_color').addClass('start_color');\n            common_storage.setItem('notification_userid' + user_id + '_id' + id + '_productid' + product_id, true);\n          } else {\n            $(this).removeClass('start_color').addClass('normal_color');\n            common_storage.setItem('notification_userid' + user_id + '_id' + id + '_productid' + product_id, false);\n          }\n        })\n      } else {\n        $.ajax({\n          url: '/omsv2/sync/instruction/notification_modify_status',\n          type: 'POST',\n          data: {\n            id: item.id,\n            action: status\n          },\n          success: ({code, msg, data})=> {\n            if (0 == code) {\n              //刷新页面,方便组件重复利用\n              if (\"[object Function]\" == Object.prototype.toString.call(_this.$root.doRefresh)) {\n                _this.$root.doRefresh(true);\n              }\n            } else {\n              $.omsAlert('指令状态无法修改！');\n            }\n          },\n          error: ()=> {\n            $.omsAlert('网络异常，请重试');\n          }\n        })\n      }\n    },\n    product_change: function () { //产品账户的显示\n      // 用户点击这一行时，this.display_change不应该被修改。this.display_change必须基于item和item_drop的值来变化的。也就是说，其它可以考虑把它放进computed\n      // this.display_change = !this.display_change;\n      this.$emit('displayType', [this.item.id, !this.display_change])\n    }, \n    displayValue: function(sub_value, rule){ //数据判断显示\n      let value = sub_value[rule.id];\n      if ((rule.format != '') && (rule.format instanceof Array) && (this[rule.format[0]] instanceof Function)) {\n        let args = [value].concat(rule.format.slice(1))\n        value = this[rule.format[0]].apply(this, args);\n      }\n      if (rule.unit) {\n        return value + rule.unit;\n      }else{\n        return value;\n      }\n    },\n    numeralNumber: function(arg, num){\n      if ('--' == arg || '' === arg || undefined == arg) {\n        return '--'\n      }\n      if (undefined != num) {\n        var str = '0.'\n        for (var i = num - 1; i >= 0; i--) {\n          str += '0';\n        }\n        return numeral(arg).format( '0,' + str );\n      }\n      return numeral(arg).format( '0,0.00' );\n    },\n  }\n})\n\n//内容\nVue.component('vue-notification-content', {\n  props: ['instruction_data'],\n  template: `\n  <div class=\"notification-content-menu\">\n    <ul class=\"notification-content-menu__title\">\n      <li v-on:click=\"goto(user_name,index)\" :class=\"{active: index == idx}\" v-for=\"(user_name,idx) in creatorList\">\n        {{user_name.creator_name}}<span class=\"flash\" v-if=\"user_name.submit_num > 0\" v-html=\"user_name.submit_num\"></span>\n      </li>\n      <div style=\"flex-grow: 1\"></div>\n    </ul>\n    <div class=\"instruction-notifition\">\n      <div class=\"instruction-notifition__head\">\n        <ul class=\"instruction-notifition__head__name\">\n          <li v-bind:class=\"rule.class\" v-for=\"rule in notificationData.display_rules\" v-bind:style=\"rule.style\">\n            <span v-bind:style=\"rule.sub_style\">{{rule.label}}</span>\n          </li>\n        </ul>\n      </div>\n      <vue-product-sub v-for=\"(product_item, indexnum) in noticeData\" :key=\"product_item.id\" :product_index=\"index\" :item=\"product_item\" :item_drop=\"itemDrop\" :notification_display=\"notificationData.display_rules\" v-on:displayType=\"changeItemShow($event)\"></vue-product-sub>\n    </div>\n  </div>\n  `,\n  data: function () {\n    return {\n      active: '',\n      notificationData: notificationSort, //table表头\n      //user_data: '', //基金经理下的数据\n      index: 0, //判断显示第几个基金经理下的产品,\n      itemDrop: []\n    }\n  },\n  watch: {\n    index: function () {\n    }\n  },\n  computed: {\n    user_data: function () {\n      // return this.user_data = this.instruction_data;\n      return this.instruction_data;\n    },\n    creatorList: function () {\n      let rtn = [];\n      let _this = this;\n      this.instruction_data.list && this.instruction_data.list.forEach((e, index) => {\n        var obj = {};\n        let num = 0;\n        obj.creator_name = e.creator_name;//基金经理名字\n        e.list.forEach((i) => {\n          if (1 == i.ins_status) {\n            num += 1;\n          }\n        })\n        obj.submit_num = num;\n        obj.creator_id = e.creator_id;\n        rtn.push(obj);\n      })\n\n      rtn.sort((a, b) => { //按照基金经理id的大小进行排序\n        return a.creator_id - b.creator_id;\n      })\n\n      return rtn;\n    },\n    noticeData: function () {\n      let rtn = [];\n      let _this = this;\n\n      if ('' != this.user_data && '' != this.user_data.list) {\n\n        let lists = this.user_data.list.sort(function (a, b) { //按照基金经理id的大小进行排序\n          return a.creator_id - b.creator_id;\n        })\n \n        lists[this.index].list && lists[this.index].list.forEach((e) => {\n          let obj = {};\n          let volume = 0;\n          let product_list = [];\n          let isEmptytype = false;\n\n          if (1 == e.ins_status) {\n            obj.ins_status = '已提交'; //指令状态\n          } else if (2 == e.ins_status) {\n            obj.ins_status = '已收到'; //指令状态\n          } else if (3 == e.ins_status) {\n            obj.ins_status = '执行中'; //指令状态\n          } else if (4 == e.ins_status) {\n            obj.ins_status = '已完成'; //指令状态\n          } else if (5 == e.ins_status) {\n            obj.ins_status = '部分撤销'; //指令状态\n          } else if (6 == e.ins_status) {\n            obj.ins_status = '已撤销'; //指令状态\n          }\n\n          obj.status = e.ins_status;//获取指令状态，修改指令状态的颜色\n          obj.investment_target = e.investment_target;  //投资标的\n          e.product_position_list && e.product_position_list.forEach((i) => {\n            product_list.push(i.product_name);\n          })\n          obj.id = e.id;\n          obj.product_position_list = product_list.join(',');  //产品账户\n          obj.product_list = e.product_position_list;\n          // 1:买入 2:卖出 3:买入开仓 4:卖出开仓 5:买入平仓 6卖出平仓\n          obj.direction = e.direction; //买卖方向\n          if (1 == e.direction) {\n            obj.direction = '买入';\n          } else if (2 == e.direction) {\n            obj.direction = '卖出';\n          } else if (3 == e.direction) {\n            obj.direction = '买入开仓';\n          } else if (4 == e.direction) {\n            obj.direction = '卖出开仓';\n          } else if (5 == e.direction) {\n            obj.direction = '买入平仓';\n          } else if (6 == e.direction) {\n            obj.direction = '卖出平仓';\n          }\n          obj.price = _this.numeralNumber(e.price,2); //指令价格\n          obj.fund_manager_memo = e.fund_manager_memo;\n          obj.isNumBold = e.price > 0 ;\n          obj.created_at = e.created_at; //指令下达时间\n          e.product_position_list && e.product_position_list.forEach((i) => {\n            if('全部清仓' == i.volume){\n              isEmptytype = true;\n            }\n            volume += parseFloat(i.volume);\n          })\n          obj.volume = isEmptytype ? '全部清仓' : _this.numeralNumber(volume, 0);\n          obj.number = _this.paddedNumber(e.number, 3);\n          rtn.push(obj);\n        })\n      }\n      return rtn;\n    }\n  },\n  methods: {\n    numeralNumber: function(arg, num){\n      if ('--' == arg || '' === arg || undefined == arg) {\n        return '--'\n      }\n      if (0 == arg){\n        return '非限价'\n      }\n      if (undefined != num) {\n        var str = '0.'\n        for (var i = num - 1; i >= 0; i--) {\n          str += '0';\n        }\n        return numeral(arg).format( '0,' + str );\n      }\n      return numeral(arg).format( '0,0.00' );\n    },\n    paddedNumber: function(num, figures=3){\n      let strNum = num.toString();\n      if(strNum.length >= figures){\n        return num;\n      }else{\n        let fix = '';\n        for(let i = 0; i < figures - strNum.length; i++){\n          fix += '0';\n        }\n        return fix + strNum;\n      }\n    },\n    goto: function (creator, idx) { //点击产品经理切换\n      let _this = this;\n      this.user_data.list && this.user_data.list.forEach((e,index)=>{\n        if (creator.creator_id == e.creator_id) {\n          _this.index = index;\n        }\n      });\n      this.itemDrop = []\n    },\n    changeItemShow: function (event){\n      let [id, chgType] = event;\n      if(chgType && this.itemDrop.indexOf(id) == -1){\n        this.itemDrop.push(id);\n      }else{\n        this.itemDrop.splice(this.itemDrop.indexOf(id),1)\n      }\n    }\n  }\n})\n\nlet notification = new Vue({\n  el: '#notification',\n  data: {\n    instruction_data: [],\n    user_list: []\n  },\n  methods: {\n    instructionLIst: function () {\n      let _this = this;\n      $.startLoading('正在加载');\n      $.ajax({\n        url: '/omsv2/sync/instruction/notification_list',\n        type: 'GET',\n        data: {\n          direction_list: [1,2],\n          page_type: 'PC',\n          count: 9999\n        },\n        success: ({code, msg, data}) => {\n          if (0 == code) {\n            _this.instruction_data = data;\n          } else {\n            $.omsAlert(msg);\n          }\n          $.clearLoading();\n        },\n        error: ()=> {\n          $.clearLoading();\n          $.omsAlert('网络异常，请重试');\n        }\n      })\n    },\n    doRefresh: function () {\n      this.instructionLIst();\n    },\n    refreshData: function () {\n      let _this = this;\n      $.ajax({\n        url: '/omsv2/sync/instruction/notification_list',\n        type: 'GET',\n        data: {\n          direction_list: [1,2],\n          page_type: 'PC',\n          count: 9999\n        },\n        success: ({code, msg, data}) => {\n          if (0 == code) {\n            _this.instruction_data = data;\n          } else {\n            $.omsAlert(msg);\n          }\n        },\n        error: ()=> {\n          $.omsAlert('网络异常，请重试');\n        }\n      })\n      // 指令提醒\n      $.ajax({\n        type: \"GET\",\n        url: \"/omsv2/oms/get_notice\",\n        data: {},\n        dataType: \"json\",\n        success: ({code, msg, data}) => {\n          if (code == 0 && data.today_not_finished_ins_count > 0) {\n            $.omsSoundNotice(1000, '/sound/pulse');\n          }\n        }\n      });\n    }\n  }\n})\n\nnotification.instructionLIst();\n// 5秒调一次接口\nsetInterval(function () {\n  notification.refreshData();\n}, 5000)\n"]}