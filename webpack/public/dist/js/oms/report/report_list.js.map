{"version":3,"sources":["oms/report/report_list.js"],"names":["permissionArr","reportMixin","mounted","sortData","common_storage","getItem","typeStr","rtn","code","order","data","order_by","i","field_sort","length","j","display_rules","id","obj","splice","unshift","$emit","computed","dragOptions","animation","ghostClass","methods","chgSort","map","e","setItem","onMove","relatedContext","draggedContext","relatedElement","element","draggedElement","fixed","onEnd","displayValue","sub_value","rule","value","format","Array","Function","args","concat","slice","apply","unit","checkPositive","num","parseFloat","checkNegative","assetsSortData","label","class","entrustSortData","dealSortData","positionSortData","$","reportActive","window","LOGIN_INFO","role_permission","GV","permissions","Vue","component","mixins","numberMixin","props","template","display_data","_this","grid_data","list","forEach","entrust_stock_code","entrust_stock_name","market","market_name","group_name","base_name","entrust_type_name","entrust_volume","entrust_price","total_entrust_amount","deal_volume","deal_price","deal_amount","cancel_volume","entrust_model_name","deal_at","entrust_at","exchange_rate","bs_symbol_text","quote_type_text","vendor_status_text","push","addClass","removeClass","stock_code","stock_name","account_name","stock_flag","stock_type","hold_volume","market_value","market_position","cost_price","earning","earning_ratio","source_type","getReg","reg","encodeURIComponent","checkRoleAdmin","role_id","some","getAjaxUrl","REQUEST_PREFIX","getAjaxData","row","product_id","stock_id","volume","total_amount","enable_sell_volume_today","enable_sell_volume","dealed_at","name","net_assets","net_value","stock_market_value","future_ensure_assets","stock_market_ratio","future_market_ratio","future_ensure_ratio","addEventListener","report_list","el","minDate","maxDate","moment","startDate","endDate","multiple_select","option","org_info_theme","org_info","theme","division_stock","ajax_time","lined","query_stock_type","undefined","query_market","options_stock_type","options_market","isLoading","active","gridDataCode","gridData","stock_input_type_id","watch","getGridData","val","old","toString","curVal","oldVal","chgStartDate","chgEndDate","updateOrder","doRefresh","omsAlert","goto","doExport","hasClass","flag","isAfter","flag2","add","group_arr","base_arr","product_arr","split","queryStr","join","startLoading","ajax","url","type","start","end","success","msg","clearLoading","error","curActive","checkDisplay","empty","Date","getFullYear","toPad","getMonth","getDate","flag_getData","getProductsByPermissions","getBeginDate","productInfo","arrId","beginDateArr","filter","sort","a","b","getTime","page","group_id","base_id","res","base","web_hide_child","group","child_base","child_group","data_page_html","html","replace","callback","permission_id","arr","product","Object","prototype","call","document","on","pageNumArr","attr"],"mappings":"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","file":"report_list.js","sourcesContent":["// 数据查询页面\nconst permissionArr = {\n  'assets': 40,\n  'entrust': 36,\n  'position': 38,\n  'deal': 37,\n  'cashflow': 39,\n  'instruction': 35\n};\n\n// 页面混合，vue的语法\nlet reportMixin = {\n  mounted: function(){\n    // 切换菜单时，会触发mounted事件，\n    let sortData = '';\n    common_storage.getItem(this.typeStr, (rtn) => {\n      if (0 == rtn.code) {\n        this.order = rtn.data.order;\n        this.order_by = rtn.data.order_by;\n        // display_rules 根据保存的field_sort进行排序\n        // rtn.data.field_sort 从尾到头遍历，一旦匹配则unshift添加到display_rules数组前面，且删除原来那个元素。（注意，display_rules长度及元素位置在变化，所以应该从0开始计数）\n        for (let i = rtn.data.field_sort.length - 1; i >= 0; i--) {\n          for (let j = 0, length = this.display_rules.length; j < length; j++) {\n            if (this.display_rules[j].id == rtn.data.field_sort[i]) {\n              let obj = this.display_rules[j];\n              this.display_rules.splice(j, 1);\n              this.display_rules.unshift(obj);\n            }\n          }\n        }\n\n        // // console.log('typeStr: ' + this.typeStr);\n        // this.$emit('order', {\n        //   order: this.order,\n        //   order_by: this.order_by,\n        //   typeStr: this.typeStr,\n        //   display_rules: this.display_rules\n        // });\n      }\n\n      this.$emit('order', {\n        order: this.order,\n        order_by: this.order_by,\n        typeStr: this.typeStr,\n        display_rules: this.display_rules\n      });\n\n    });\n\n  },\n  computed: {\n    // 可拖动插件的入参\n    dragOptions () {\n      return  {\n        animation: 0,\n        // group: 'description',\n        // disabled: !this.editable,\n        ghostClass: 'ghost'\n      };\n    }\n  },\n  methods: {\n    chgSort: function(id){\n      if (id == this.order_by) {\n        if (this.order == 'asc') {\n          this.order = 'desc';\n        }else if(this.order == 'desc'){\n          this.order = '';\n        }else{\n          this.order = 'asc'\n        }\n      }else{\n        this.order_by = id;\n        this.order = 'asc';\n      }\n      // 用户切换排序命令，需要保存新的排序\n      let obj = {};\n      obj.field_sort = this.display_rules.map(function(e){\n        return e.id\n      });\n      obj.order_by = this.order_by;\n      obj.order = this.order;\n\n      this.$emit('order', {order: this.order,\n        order_by: this.order_by,\n        typeStr: this.typeStr,\n        display_rules: this.display_rules\n      });\n      common_storage.setItem(this.typeStr, obj);\n    },\n    onMove: function({relatedContext, draggedContext}){\n      const relatedElement = relatedContext.element;\n      const draggedElement = draggedContext.element;\n      return (!relatedElement || !relatedElement.fixed) && !draggedElement.fixed\n    },\n    onEnd: function(){\n      // 用户切换表格排序，需要保存新的排序\n      let obj = {};\n      obj.field_sort = this.display_rules.map(function(e){\n        return e.id\n      });\n      obj.order_by = this.order_by;\n      obj.order = this.order;\n      common_storage.setItem(this.typeStr, obj);\n    },\n    displayValue: function(sub_value, rule){\n      let value = sub_value[rule.id];\n      if ((rule.format != '') && (rule.format instanceof Array) && (this[rule.format[0]] instanceof Function)) {\n        // value = this[rule.format].call(this, value, )\n        let args = [value].concat(rule.format.slice(1))\n        value = this[rule.format[0]].apply(this, args);\n\n      }\n      if (rule.unit) {\n        return value + rule.unit;\n      }else{\n        return value;\n      }\n    },\n    checkPositive: function(num){\n      return parseFloat(num) > 0;\n    },\n    checkNegative: function(num){\n      return parseFloat(num) < 0;\n    }\n  }\n}\n\n// 资产\nlet assetsSortData = {\n  typeStr: 'report_list__assets_order',\n  order: '',\n  order_by: '',\n  display_rules: [{\n    id: 'name',\n    label: '基金',\n    format: '',\n    class: 'left20 max-width200'\n  },{\n    id: 'account_name',\n    label: '交易单元',\n    format: '',\n    class: 'left20 multi-max-width160'\n  },{\n    id: 'net_assets',\n    label: '净资产',\n    format: ['numeralNumber', 2],\n    class: 'right20'\n  },{\n    id: 'volume',\n    label: '份额',\n    format: ['numeralNumber', 0],\n    class: 'right20'\n  },{\n    id: 'net_value',\n    label: '单位净值',\n    format: ['numeralNumber', 4],\n    class: 'right20'\n  },{\n    id: 'market_position',\n    label: '仓位',\n    format: ['numeralPercent'],\n    class: 'right20'\n    // ,\n    // unit: '%'\n  },{\n    id: 'market_value',\n    label: '持仓市值',\n    format: ['numeralNumber', 2],\n    class: 'right20'\n  },{\n    id: 'stock_market_value',\n    label: '股票市值',\n    format: ['numeralNumber', 2],\n    class: 'right20'\n  },{\n    id: 'future_ensure_assets',\n    label: '期货占用保证金',\n    format: ['numeralNumber', 2],\n    class: 'right20'\n  },{\n    id: 'stock_market_ratio',\n    label: '股票占总市值',\n    format: ['numeralPercent'],\n    class: 'right20'\n  },{\n    id: 'future_market_ratio',\n    label: '期货占总市值',\n    format: ['numeralPercent'],\n    class: 'right20'\n  },{\n    id: 'future_ensure_ratio',\n    label: '风险度',\n    format: ['numeralPercent'],\n    class: 'right20'\n  }]\n}\n\n// 委托\nvar entrustSortData = {\n  typeStr: 'report_list__entrust_order',\n  order: '',\n  order_by: '',\n  display_rules: [{\n    id: 'entrust_stock_code',\n    label: '证券代码',\n    format: '',\n    class: 'left10'\n  }, {\n    id: 'entrust_stock_name',\n    label: '证券名称',\n    format: '',\n    class: 'left10'\n  }, {\n    id: 'market_name',\n    label: '证券市场',\n    format: '',\n    class: 'left10'\n  }, {\n    id: 'group_name',\n    label: '基金',\n    format: '',\n    class: 'left10'\n  }, {\n    id: 'base_name',\n    label: '交易单元',\n    format: '',\n    class: 'left10'\n  }, {\n    id: 'bs_symbol_text',//'entrust_type_name',\n    label: '买卖标志',\n    format: '',\n    class: 'left10'\n  }, {\n    id: 'entrust_volume',\n    label: '委托数量',\n    format: ['numeralNumber', 0],\n    class: 'right10'\n  }, {\n    id: 'entrust_price',\n    label: '委托价格',\n    format: ['numeralNumber', 3],\n    class: 'right10'\n  }, {\n    id: 'total_entrust_amount',\n    label: '委托金额',\n    format: ['numeralNumber', 2],\n    class: 'right10'\n  }, {\n    id: 'deal_volume',\n    label: '成交数量',\n    format: ['numeralNumber', 0],\n    class: 'right10'\n  }, {\n    id: 'deal_price',\n    label: '成交均价',\n    format: ['numeralNumber', 3],\n    class: 'right10'\n  }, {\n    id: 'deal_amount',\n    label: '成交金额',\n    format: ['numeralNumber', 2],\n    class: 'right10'\n  }, {\n    id: 'cancel_volume',\n    label: '已撤数量',\n    format: ['numeralNumber', 0],\n    class: 'right10'\n  }, {\n    id: 'quote_type_text',//'entrust_model_name',\n    label: '报价方式',\n    format: '',\n    class: 'left10'\n  }, {\n    id: 'vendor_status_text',\n    label: '订单状态',\n    format: '',\n    class: 'left10'\n  }, {\n    id: 'exchange_rate',\n    label: '参考汇率',\n    format: '',\n    class: 'right10'\n  }, {\n  //   id: 'deal_at',\n  //   label: '最新成交时间',\n  //   format: '',\n  //   class: 'right10'\n  // }, {\n    id: 'entrust_at',\n    label: '委托时间',\n    format: '',\n    class: 'right10 max-width100'\n  }]\n};\n\n// 成交\nvar dealSortData = {\n  typeStr: 'report_list__deal_order',\n  order: '',\n  order_by: '',\n  display_rules: [{\n    id: 'entrust_stock_code',\n    label: '证券代码',\n    format: '',\n    class: 'left10'\n  }, {\n    id: 'entrust_stock_name',\n    label: '证券名称',\n    format: '',\n    class: 'left10'\n  }, {\n    id: 'market_name',\n    label: '证券市场',\n    format: '',\n    class: 'left10'\n  }, {\n    id: 'group_name',\n    label: '基金',\n    format: '',\n    class: 'left10'\n  }, {\n    id: 'base_name',\n    label: '交易单元',\n    format: '',\n    class: 'left10'\n  }, {\n    id: 'entrust_type_name',\n    label: '买卖标志',\n    format: '',\n    class: 'left10'\n  }, {\n    id: 'deal_volume',\n    label: '成交数量',\n    format: ['numeralNumber', 0],\n    class: 'right10'\n  }, {\n    id: 'deal_price',\n    label: '成交均价',\n    format: ['numeralNumber', 3],\n    class: 'right10'\n  }, {\n    id: 'deal_amount',\n    label: '成交金额',\n    format: ['numeralNumber', 2],\n    class: 'right10'\n  }, {\n    id: 'dealed_at',\n    label: '最新成交时间',\n    format: '',\n    class: 'right10'\n  }]\n};\n\n// 持仓\nvar positionSortData = {\n  typeStr: 'report_list__position_order',\n  order: '',\n  order_by: '',\n  display_rules: [{\n    id: 'stock_code',\n    label: '证券代码',\n    format: '',\n    class: 'left10'\n  }, {\n    id: 'stock_name',\n    label: '证券名称',\n    format: '',\n    class: 'left10'\n  }, {\n    id: 'market_name',\n    label: '证券市场',\n    format: '',\n    class: 'left10'\n  }, {\n    id: 'group_name',\n    label: '持仓基金',\n    format: '',\n    class: 'left10 max-width200'\n  }, {\n    id: 'account_name',\n    label: '持仓交易单元',\n    format: '',\n    class: 'left10 multi-max-width200'\n  }, {\n    id: 'stock_flag',\n    label: '持仓方向',\n    format: '',\n    class: 'left10'\n  }, {\n    id: 'stock_type',\n    label: '证券类别',\n    format: '',\n    class: 'left10'\n  }, {\n    id: 'hold_volume',\n    label: '持仓数量',\n    format: ['numeralNumber', 0],\n    class: 'right10'\n  }, {\n    id: 'market_value',\n    label: '持仓市值',\n    format: ['numeralNumber', 2],\n    class: 'right10'\n  }, {\n    id: 'market_position',\n    label: '仓位',\n    format: ['numeralPercent'],\n    // tips: '资产占比=持仓市值/∑选中产品净资产*100%',\n    class: 'right10'\n  }, {\n    id: 'cost_price',\n    label: '持仓成本',\n    // type: window.LOGIN_INFO.role_id.some(e => e == 1) ? 'change' : '',\n    format: ['numeralNumber', 2],\n    class: 'right10'\n  }, {\n    id: 'earning',\n    label: '浮动盈亏',\n    format: ['numeralNumber', 2],\n    class: 'right10'\n  }, {\n    id: 'earning_ratio',\n    label: '盈亏率',\n    format: ['numeralPercentV2'],\n    class: 'right10'\n  }]\n};\n\n$(function(){\n  let reportActive = '';\n  if (window.LOGIN_INFO.role_permission[GV.permissions['PERMISSION_SELECT_CASH']]) {\n    reportActive = 'assets';\n  }else if (window.LOGIN_INFO.role_permission[GV.permissions['PERMISSION_SELECT_INSTRUCT']]) {\n    reportActive = 'instruction';\n  }else if (window.LOGIN_INFO.role_permission[GV.permissions['PERMISSION_SELECT_ENTRUST']]) {\n    reportActive = 'entrust';\n  }else if (window.LOGIN_INFO.role_permission[GV.permissions['PERMISSION_SELECT_DEAL']]) {\n    reportActive = 'deal';\n  }else if (window.LOGIN_INFO.role_permission[GV.permissions['PERMISSION_SELECT_POSITION']]) {\n    reportActive = 'position';\n  }else if (window.LOGIN_INFO.role_permission[GV.permissions['PERMISSION_SELECT_FEE']]) {\n    reportActive = 'cashflow';\n  }\n\n  // 自定义数据查询页面委托查询\n  Vue.component('vue-query-entrust', {\n    mixins: [numberMixin, reportMixin],\n    props: ['grid_data', 'grid_data_code', 'org_info_theme'],\n    template: `\n    <table class=\"journel-sheet-grid\">\n      <thead v-if=\"org_info_theme == 3\">\n        <tr>\n          <th style=\"color: #999;\" class=\"left30\">日期</th>\n          <th style=\"color: #999;\" class=\"left20\">策略</th>\n          <th style=\"color: #999;\" class=\"left20\">委托时间</th>\n          <th style=\"color: #999;\" class=\"left20\">编号</th>\n          <th style=\"color: #999;\" class=\"left20\">股票代码</th>\n          <th style=\"color: #999;\" class=\"left20\">股票名称</th>\n          <th style=\"color: #999;\" class=\"left20\">买卖方向</th>\n          <th style=\"color: #999;\" class=\"left20\">委托状态</th>\n          <th style=\"color: #999;\" class=\"right20\">委托价格</th>\n          <th style=\"color: #999;\" class=\"right20\">委托数量</th>\n          <th style=\"color: #999;\" class=\"right20\">成交数量</th>\n          <th style=\"color: #999;\" class=\"right20\">成交价格</th>\n          <th style=\"color: #999;\" class=\"right20\">成交金额</th>\n          <th style=\"color: #999;\" class=\"right20\">市场类别</th>\n        </tr>\n      </thead>\n      <tbody v-if=\"org_info_theme == 3\">\n        <tr v-if=\"grid_data.data.length > 0\" v-for=\"row in grid_data.data\">\n          <td class=\"left30\">{{row.entrust_date}}</td>\n          <td class=\"left20\">{{row.name}}</td>\n          <td class=\"left20\">{{row.entrust_time}}</td>\n          <td class=\"left20\">{{row.id}}</td>\n          <td class=\"left20\">{{row.entrust_stock_code}}</td>\n          <td class=\"left20\">{{row.entrust_stock_name}}</td>\n          <td class=\"left20\">{{row.entrust_way_name}}</td>\n          <td class=\"left20\">{{row.status_desc}}</td>\n          <td class=\"right20\">{{row.entrust_price}}</td>\n          <td class=\"right20\">{{row.entrust_amount}}</td>\n          <td class=\"right20\">{{row.deal_volume}}</td>\n          <td class=\"right20\">{{row.deal_price}}</td>\n          <td class=\"right20\">{{row.deal_amount}}</td>\n          <td class=\"right20\">{{row.exchange}}</td>\n        </tr>\n        <tr v-if=\"grid_data_code == 500901 && grid_data.length == 0\">\n          <td class=\"left30\" colspan=\"99\">请选择基金</td>\n        </tr>\n        <tr v-if=\"grid_data_code == 0 && grid_data.data && grid_data.data.length == 0\">\n          <td class=\"left30\" colspan=\"99\">该时段暂无匹配记录</td>\n        </tr>\n      </tbody>\n\n      <thead v-if=\"org_info_theme != 3\">\n        <draggable style=\"border-top:0;\" :list=\"display_rules\" element=\"tr\" :options=\"dragOptions\" @move=\"onMove\" @end=\"onEnd\">\n          <th v-for=\"rule in display_rules\" v-bind:class=\"rule.class\">\n            <span>{{rule.label}}</span>\n            <a class=\"icon-sortBy\" v-on:click=\"chgSort(rule.id)\">\n              <i class=\"icon-asc\" :class=\"{active: (order_by == rule.id && order == 'asc')}\"></i>\n              <i class=\"icon-desc\" :class=\"{active: (order_by == rule.id && order == 'desc')}\"></i>\n            </a>\n          </th>\n        </draggable>\n      </thead>\n      <tbody v-if=\"org_info_theme != 3\">\n        <tr v-if=\"display_data && display_data.length > 0\" v-for=\"row in display_data\">\n          <td v-for=\"rule in display_rules\" v-bind:class=\"rule.class\" :title=\"displayValue(row, rule)\">{{displayValue(row, rule)}}</td>\n        </tr>\n        <tr v-if=\"grid_data_code == 500901 && display_data && Object.keys(display_data).length == 0\">\n          <td class=\"left30\" colspan=\"99\">请选择基金</td>\n        </tr>\n        <tr v-if=\"grid_data_code == 0 && display_data && Object.keys(display_data).length == 0\">\n          <td class=\"left30\" colspan=\"99\">该时段暂无匹配记录</td>\n        </tr>\n      </tbody>\n    </table>\n    `,\n    data: function(){\n      return entrustSortData\n    },\n    computed: {\n      display_data: function(){\n        let _this = this;\n        let rtn = [];\n        // 步骤1，根据接口数据进行准备\n        (this.grid_data.list instanceof Array) && this.grid_data.list.forEach(function(e){\n          let obj = {};\n\n          // 证券代码\n          obj.entrust_stock_code = e.entrust_stock_code;\n          // 证券名称\n          obj.entrust_stock_name = e.entrust_stock_name;\n          // 证券市场\n          obj.market = e.market;\n          obj.market_name = e.market_name;\n          // 产品\n          obj.group_name = e.group_name;\n          // 账户\n          obj.base_name = e.base_name;\n          // 买卖标志\n          obj.entrust_type_name = e.entrust_type_name;\n          // 委托数量\n          obj.entrust_volume = e.entrust_volume;\n          // 委托价格\n          obj.entrust_price = e.entrust_price;\n          // 委托金额\n          obj.total_entrust_amount = e.total_entrust_amount;\n          // 成交数量\n          obj.deal_volume = e.deal_volume;\n          // 成交均价\n          obj.deal_price = e.deal_price;\n          // 成交金额\n          obj.deal_amount = e.deal_amount;\n          // 已撤数量\n          obj.cancel_volume = e.cancel_volume;\n          // 报价方式\n          obj.entrust_model_name = e.entrust_model_name;\n          // 最新成交时间\n          obj.deal_at = e.deal_at;\n          // 委托时间\n          obj.entrust_at = e.entrust_at;\n          // 汇率\n          obj.exchange_rate = e.exchange_rate;\n          obj.bs_symbol_text = e.bs_symbol_text;\n          obj.quote_type_text = e.quote_type_text;\n          obj.vendor_status_text = e.vendor_status_text;\n\n          rtn.push(obj);\n        });\n        if (0 == rtn.length) {\n          $(\".custom-grey-btn__export\").addClass('doBtnExport_bgd');\n        } else {\n          $(\".custom-grey-btn__export\").removeClass('doBtnExport_bgd');\n        }\n        return rtn;\n        // // 步骤2，根据排序逻辑进行排序\n        // if (_this.order == 'asc' || _this.order == 'desc') {\n        //   rtn.sort((a, b) => {\n        //     let x = a[_this.order_by];\n        //     let y = b[_this.order_by];\n\n        //     if ( !isNaN(parseFloat(x)) && !isNaN(parseFloat(y)) ) {\n        //       x = parseFloat(x);\n        //       y = parseFloat(y);\n        //     }\n        //     if (x > y) {\n        //       return 1;\n        //     }\n        //     if (x < y) {\n        //       return -1;\n        //     }\n        //     return 0;\n        //   })\n\n        //   if ('desc' == _this.order) {\n        //     rtn.reverse();\n        //   }\n        //   return rtn;\n        // }else{\n        //   return rtn;\n        // }\n      }\n    }\n  })\n\n  // 自定义数据查询页面持仓查询\n  Vue.component('vue-query-position', {\n    mixins: [numberMixin, reportMixin],\n    props: ['grid_data', 'grid_data_code', 'org_info_theme'],\n    template: `\n    <table class=\"bem-table journel-sheet-grid\">\n      <thead v-if=\"org_info_theme == 3\">\n        <tr>\n          <th style=\"color: #999;\" class=\"left30\">策略</th>\n          <th style=\"color: #999;\" class=\"left20\">股票代码</th>\n          <th style=\"color: #999;\" class=\"left20\">股票名称</th>\n          <th style=\"color: #999;\" class=\"left20\">当前数量</th>\n          <th style=\"color: #999;\" class=\"left20\">可卖数量</th>\n          <th style=\"color: #999;\" class=\"right20\">成本价</th>\n          <th style=\"color: #999;\" class=\"right20\">最新价</th>\n          <th style=\"color: #999;\" class=\"right20\">当前市值</th>\n          <th style=\"color: #999;\" class=\"right20\">浮动盈亏</th>\n          <th style=\"color: #999;\" class=\"right20\">盈亏比例</th>\n          <th style=\"color: #999;\" class=\"right20\">卖出冻结</th>\n          <th style=\"color: #999;\" class=\"right20\">今日买入</th>\n          <th style=\"color: #999;\" class=\"right20\">今日卖出</th>\n          <th style=\"color: #999;\" class=\"right20\">市场类别</th>\n        </tr>\n      </thead>\n      <tbody v-if=\"org_info_theme == 3\">\n        <tr v-if=\"grid_data.data.length > 0\" v-for=\"row in grid_data.data\">\n          <td class=\"left30\">{{row.name}}</td>\n          <td class=\"left20\">{{row.stock_id}}</td>\n          <td class=\"left20\">{{row.stock_name}}</td>\n          <td class=\"left20\">{{numeralNumber(row.total_amount - row.entrust_volume, 0)}}</td>\n          <td class=\"left20\">{{numeralNumber(row.enable_sell_volume, 0)}}</td>\n          <td v-if=\"!checkRoleAdmin()\" class=\"right20\">{{numeralNumber(row.cost_price, 3)}}</td>\n          <td v-if=\"checkRoleAdmin()\" class=\"right20\">\n            <vue-custom_v3-modify :id=\"'price'\" :value=\"numeralNumber(row.cost_price, 3)\" :ajax_url=\"getAjaxUrl()\" :ajax_data=\"getAjaxData(row)\" class=\"left10\" style=\"line-height: 20px;\"></vue-custom_v3-modify>\n          </td>\n          <td class=\"right20\">{{numeralNumber(row.market_price, 3)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.market_value)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.earning)}}</td>\n          <td class=\"right20\">{{numeralPercent(row.earning_ratio)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.sell_frozen_volume, 0)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.today_buy_volume, 0)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.today_sell_volume, 0)}}</td>\n          <td class=\"right20\">{{row.exchange}}</td>\n        </tr>\n        <tr v-if=\"grid_data_code == 500901 && grid_data.length == 0\">\n          <td class=\"left30\" colspan=\"99\">请选择基金</td>\n        </tr>\n        <tr v-if=\"grid_data_code == 0 && grid_data.data && grid_data.data.length == 0\">\n          <td class=\"left30\" colspan=\"99\">该时段暂无匹配记录</td>\n        </tr>\n      </tbody>\n\n      <thead v-if=\"org_info_theme != 3\">\n        <draggable style=\"border-top:0;\" :list=\"display_rules\" element=\"tr\" :options=\"dragOptions\" @move=\"onMove\" @end=\"onEnd\">\n          <th v-for=\"rule in display_rules\" v-bind:class=\"rule.class\">\n            <span>{{rule.label}}</span>\n            <prompt-language style=\"width: 15px;display: inline-block;left: 0;\" v-if=\"'' != rule.tips && undefined != rule.tips\" :language_val=\"rule.tips\"></prompt-language>\n            <a class=\"icon-sortBy\" v-on:click=\"chgSort(rule.id)\">\n              <i class=\"icon-asc\" :class=\"{active: (order_by == rule.id && order == 'asc')}\"></i>\n              <i class=\"icon-desc\" :class=\"{active: (order_by == rule.id && order == 'desc')}\"></i>\n            </a>\n          </th>\n        </draggable>\n      </thead>\n      <tbody v-if=\"org_info_theme != 3\">\n        <tr v-if=\"display_data && display_data.length > 0\" v-for=\"row in display_data\" :class=\"{'source_type2': 2 == row.source_type, 'source_type3': 3 == row.source_type, 'source_type4': 4 == row.source_type}\">\n          <template v-for=\"rule in display_rules\">\n            <td v-if=\"undefined == rule.type || '' == rule.type\" v-bind:class=\"rule.class\" :title=\"displayValue(row, rule)\">{{displayValue(row, rule)}}</td>\n            <td v-if=\"'change' == rule.type\">\n              <vue-custom_v3-modify :id=\"'price'\" :value=\"displayValue(row, rule)\" :ajax_url=\"getAjaxUrl()\" :ajax_data=\"{}\" :regexp=\"getReg\" class=\"left10\" style=\"line-height: 20px;\"></vue-custom_v3-modify>\n            </td>\n          </template>\n          \n        </tr>\n        <tr v-if=\"grid_data_code == 500901 && grid_data.list && grid_data.list.length == 0\">\n          <td class=\"left30\" colspan=\"99\">请选择基金</td>\n        </tr>\n        <tr v-if=\"grid_data_code == 0 && grid_data.list && grid_data.list.length == 0\">\n          <td class=\"left30\" colspan=\"99\">该时段暂无匹配记录</td>\n        </tr>\n      </tbody>\n    </table>\n    `,\n    data: function(){\n      // 'product_id': row['product_id]', 'stock_id': row.stock_code + row.market, 'volume': '', 'enable_sell_volume_today': ''\n      return positionSortData\n    },\n    computed: {\n      display_data: function(){\n        let _this = this;\n        let rtn = [];\n        // 步骤1，根据接口数据进行准备\n        (this.grid_data.list instanceof Array) && this.grid_data.list.forEach(function(e){\n          let obj = {};\n\n          // 证券代码\n          obj.stock_code = e.stock_code;\n          // 证券名称\n          obj.stock_name = e.stock_name;\n          // 证券市场\n          obj.market = e.market;\n          obj.market_name = e.market_name;\n          // 持仓产品\n          obj.group_name = e.group_name;\n          // 持仓账户\n          obj.account_name = e.account_name;\n          // 持仓方向\n          obj.stock_flag = e.stock_flag;\n          // 证券类别\n          obj.stock_type = e.stock_type;\n          // 持仓数量\n          obj.hold_volume = e.hold_volume;\n          // 持仓市值\n          obj.market_value = e.market_value;\n          // 资产占比\n          obj.market_position = e.market_position;\n          // 持仓成本\n          if ('FT' == e.market) {\n            obj.cost_price = '--';\n          } else {\n            obj.cost_price = e.cost_price;\n          }\n          // 浮动盈亏\n          obj.earning = e.earning;\n          // 浮盈率\n          obj.earning_ratio = e.earning_ratio;\n\n          // 类型\n          obj.source_type = e.source_type;\n\n          rtn.push(obj);\n        });\n        //数据为0给导出按钮添加样式\n        if (0 == rtn.length) {\n          $(\".custom-grey-btn__export\").addClass('doBtnExport_bgd');\n        } else {\n          $(\".custom-grey-btn__export\").removeClass('doBtnExport_bgd');\n        }\n        // 步骤2，根据排序逻辑进行排序\n        // rtn = VUECOMPONENT.sort(rtn, _this.order, _this.order_by);\n        return rtn;\n        // if (_this.order == 'asc' || _this.order == 'desc') {\n        //   rtn.sort((a, b) => {\n        //     let x = a[_this.order_by];\n        //     let y = b[_this.order_by];\n\n        //     if ( !isNaN(parseFloat(x)) && !isNaN(parseFloat(y)) ) {\n        //       x = parseFloat(x);\n        //       y = parseFloat(y);\n        //     }\n        //     if (x > y) {\n        //       return 1;\n        //     }\n        //     if (x < y) {\n        //       return -1;\n        //     }\n        //     return 0;\n        //   })\n\n        //   if ('desc' == _this.order) {\n        //     rtn.reverse();\n        //   }\n        //   return rtn;\n        // }else{\n        //   return rtn;\n        // }\n      }\n    },\n    methods: {\n      getReg: function(){\n        return {\n          reg: window.encodeURIComponent('^\\d+\\.?\\d{0,3}$')\n        };\n      },\n      checkRoleAdmin: function(){\n        return window.LOGIN_INFO.role_id.some(e => 1 == e);\n      },\n      getAjaxUrl: function(){\n        // return '/bms-pub/special_account/position/update_static';\n        return window.REQUEST_PREFIX + '/special_account/position/update_static';\n      },\n      getAjaxData: function(row){\n        let obj = {};\n        obj.product_id = row.product_id;\n        obj.stock_id = row.stock_id;\n        obj.volume = row.total_amount - row.entrust_volume;\n        obj.enable_sell_volume_today = row.enable_sell_volume;\n        return obj;\n      }\n    }\n  })\n\n  // 自定义数据查询页面成交查询\n  Vue.component('vue-query-deal', {\n    mixins: [numberMixin, reportMixin],\n    props: ['grid_data', 'grid_data_code', 'org_info_theme'],\n    template: `\n    <table class=\"journel-sheet-grid\">\n      <thead v-if=\"org_info_theme == 3\">\n        <tr>\n          <th style=\"color: #999;\" class=\"left30\">日期</th>\n          <th style=\"color: #999;\" class=\"left20\">策略</th>\n          <th style=\"color: #999;\" class=\"left20\">成交时间</th>\n          <th style=\"color: #999;\" class=\"left20\">股票代码</th>\n          <th style=\"color: #999;\" class=\"left20\">股票名称</th>\n          <th style=\"color: #999;\" class=\"right20\">买卖方向</th>\n          <th style=\"color: #999;\" class=\"right20\">成交数量</th>\n          <th style=\"color: #999;\" class=\"right20\">成交价格</th>\n          <th style=\"color: #999;\" class=\"right20\">成交金额</th>\n        </tr>\n      </thead>\n      <tbody v-if=\"org_info_theme == 3\">\n        <tr v-if=\"grid_data.data.length > 0\" v-for=\"row in grid_data.data\">\n          <td class=\"left30\">{{row.deal_date}}</td>\n          <td class=\"left20\">{{row.name}}</td>\n          <td class=\"left20\">{{row.dealed_at}}</td>\n          <td class=\"left20\">{{row.stock_id}}</td>\n          <td class=\"left20\">{{row.stock_name}}</td>\n          <td class=\"right20\">{{row.deal_type_name}}</td>\n          <td class=\"right20\">{{numeralNumber(row.deal_volume, 0)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.deal_price, 3)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.deal_amount, 3)}}</td>\n\n        </tr>\n        <tr v-if=\"grid_data_code == 500901 && grid_data.length == 0\">\n          <td class=\"left30\" colspan=\"99\">请选择基金</td>\n        </tr>\n        <tr v-if=\"grid_data_code == 0 && grid_data.data && grid_data.data.length == 0\">\n          <td class=\"left30\" colspan=\"99\">该时段暂无匹配记录</td>\n        </tr>\n      </tbody>\n\n      <thead v-if=\"org_info_theme != 3\">\n        <draggable style=\"border-top:0;\" :list=\"display_rules\" element=\"tr\" :options=\"dragOptions\" @move=\"onMove\" @end=\"onEnd\">\n          <th v-for=\"rule in display_rules\" v-bind:class=\"rule.class\">\n            <span>{{rule.label}}</span>\n            <a class=\"icon-sortBy\" v-on:click=\"chgSort(rule.id)\">\n              <i class=\"icon-asc\" :class=\"{active: (order_by == rule.id && order == 'asc')}\"></i>\n              <i class=\"icon-desc\" :class=\"{active: (order_by == rule.id && order == 'desc')}\"></i>\n            </a>\n          </th>\n        </draggable>\n      </thead>\n      <tbody v-if=\"org_info_theme != 3\">\n        <tr v-if=\"display_data && display_data.length > 0\" v-for=\"row in display_data\">\n          <td v-for=\"rule in display_rules\" v-bind:class=\"rule.class\" :title=\"displayValue(row, rule)\">{{displayValue(row, rule)}}</td>\n\n        </tr>\n        <tr v-if=\"grid_data_code == 500901 && grid_data.list && Object.keys(grid_data.list).length == 0\">\n          <td class=\"left30\" colspan=\"99\">请选择基金</td>\n        </tr>\n        <tr v-if=\"grid_data_code == 0 && grid_data.list && Object.keys(grid_data.list).length == 0\">\n          <td class=\"left30\" colspan=\"99\">该时段暂无匹配记录</td>\n        </tr>\n      </tbody>\n    </table>\n    `,\n    data: function(){\n      return dealSortData\n    },\n    computed: {\n      display_data: function(){\n        let _this = this;\n        let rtn = [];\n        // 步骤1，根据接口数据进行准备\n        (this.grid_data.list instanceof Array) && this.grid_data.list.forEach(function(e){\n          let obj = {};\n\n          // 证券代码\n          obj.entrust_stock_code = e.entrust_stock_code;\n          // 证券名称\n          obj.entrust_stock_name = e.entrust_stock_name;\n          // 证券市场\n          obj.market = e.market;\n          obj.market_name = e.market_name;\n          // 产品\n          obj.group_name = e.group_name;\n          // 账户\n          obj.base_name = e.base_name;\n          // 买卖标志\n          obj.entrust_type_name = e.entrust_type_name;\n          // 成交数量\n          obj.deal_volume = e.deal_volume;\n          // 成交均价\n          obj.deal_price = e.deal_price;\n          // 成交金额\n          obj.deal_amount = e.deal_amount;\n          // 最新成交时间\n          obj.dealed_at = e.dealed_at;\n\n          rtn.push(obj);\n        });\n\n        if (0 == rtn.length) {\n          $(\".custom-grey-btn__export\").addClass('doBtnExport_bgd');\n        } else {\n          $(\".custom-grey-btn__export\").removeClass('doBtnExport_bgd');\n        }\n        return rtn;\n        // // 步骤2，根据排序逻辑进行排序\n        // if (_this.order == 'asc' || _this.order == 'desc') {\n        //   rtn.sort((a, b) => {\n        //     let x = a[_this.order_by];\n        //     let y = b[_this.order_by];\n\n        //     if ( !isNaN(parseFloat(x)) && !isNaN(parseFloat(y)) ) {\n        //       x = parseFloat(x);\n        //       y = parseFloat(y);\n        //     }\n        //     if (x > y) {\n        //       return 1;\n        //     }\n        //     if (x < y) {\n        //       return -1;\n        //     }\n        //     return 0;\n        //   })\n\n        //   if ('desc' == _this.order) {\n        //     rtn.reverse();\n        //   }\n        //   return rtn;\n        // }else{\n        //   return rtn;\n        // }\n      }\n    }\n  })\n\n  // 自定义数据查询页面资产查询\n  Vue.component('vue-query-assets', {\n    mixins: [numberMixin, reportMixin],\n    props: ['grid_data', 'grid_data_code', 'org_info_theme', 'lined'],\n    template: `\n    <table class=\"bem-table journel-sheet-grid\">\n      <thead v-if=\"org_info_theme == 3\">\n        <tr>\n          <th style=\"color: #999;\" class=\"left30\">日期</th>\n          <th style=\"color: #999;\" class=\"left20\">策略</th>\n          <th style=\"color: #999;\" class=\"right20\">借款</th>\n          <th style=\"color: #999;\" class=\"right20\">权益</th>\n          <th style=\"color: #999;\" class=\"right20\">资产总值</th>\n          <th style=\"color: #999;\" class=\"right20\">股票资产</th>\n          <th style=\"color: #999;\" class=\"right20\">资金余额</th>\n          <th style=\"color: #999;\" class=\"right20\">总盈亏</th>\n          <th style=\"color: #999;\" class=\"right20\">总盈亏率</th>\n        </tr>\n      </thead>\n      <tbody v-if=\"org_info_theme == 3\">\n        <tr v-if=\"grid_data.data.length > 0\" v-for=\"row in grid_data.data\">\n          <td class=\"left30\">{{row.settle_date}}</td>\n          <td class=\"left20\">{{row.name}}</td>\n          <td class=\"right20\">{{numeralNumber(row.loan_capital, 2)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.right_capital, 2)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.net_assets, 2)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.security_assets, 2)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.net_balance_assets, 2)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.net_profit, 2)}}</td>\n          <td class=\"right20\">{{row.net_profit_rate}}</td>\n        </tr>\n        <tr v-if=\"grid_data_code == 500901 && Object.keys(grid_data).length == 0\">\n         <td class=\"left30\" colspan=\"99\">请选择基金</td>\n        </tr>\n        <tr v-if=\"grid_data_code == 0 && (Object.keys(grid_data).length == 0 || grid_data.data.length == 0)\">\n          <td class=\"left30\" colspan=\"99\">该时段暂无匹配记录</td>\n         </tr>\n      </tbody>\n\n      <thead v-if=\"org_info_theme != 3\">\n        <draggable style=\"border-top:0;\" :list=\"display_rules\" element=\"tr\" :options=\"dragOptions\" @move=\"onMove\" @end=\"onEnd\">\n          <th v-for=\"rule in display_rules\" v-bind:class=\"rule.class\">\n            <span>{{rule.label}}</span>\n            <a class=\"icon-sortBy\" v-on:click=\"chgSort(rule.id)\">\n              <i class=\"icon-asc\" :class=\"{active: (order_by == rule.id && order == 'asc')}\"></i>\n              <i class=\"icon-desc\" :class=\"{active: (order_by == rule.id && order == 'desc')}\"></i>\n            </a>\n          </th>\n        </draggable>\n      </thead>\n      <tbody v-if=\"org_info_theme != 3 && grid_data.list && Object.keys(grid_data.list).length > 0\">\n        <tr v-for=\"row in display_data\" style=\"border-top: 1px solid #EAEAEA;\">\n          <td v-for=\"rule in display_rules\" v-bind:class=\"rule.class\" :title=\"displayValue(row, rule)\">{{displayValue(row, rule)}}</td>\n        </tr>\n      </tbody>\n      <tbody v-if=\"org_info_theme != 3 && grid_data.list && Object.keys(grid_data.list).length == 0\">\n        <tr v-if=\"grid_data_code == 500901\">\n          <td class=\"left30\" colspan=\"99\">请选择基金</td>\n        </tr>\n        <tr v-if=\"grid_data_code == 0\">\n          <td class=\"left30\" colspan=\"99\">该时段暂无匹配记录</td>\n        </tr>\n      </tbody>\n\n    </table>\n    `,\n    data: function(){\n      return assetsSortData\n    },\n    computed: {\n      display_data: function(){\n        let _this = this;\n        let rtn = [];\n        // 步骤1，根据接口数据进行准备\n        (this.grid_data.list instanceof Array) && this.grid_data.list.forEach(function(e){\n          let obj = {};\n\n          // 产品\n          obj.name = e.name;\n          // 账户\n          obj.account_name = e.account_name;\n          // 净资产\n          obj.net_assets = e.net_assets;\n          // 份额\n          obj.volume = e.volume;\n          // 单位净值\n          obj.net_value = e.net_value;\n          // 仓位\n          obj.market_position = e.market_position;\n          // 持仓市值\n          obj.market_value = e.market_value;\n          // 股票市值\n          obj.stock_market_value = e.stock_market_value;\n          // 期货占用保证金\n          obj.future_ensure_assets = e.future_ensure_assets;\n          // 股票占总市值\n          obj.stock_market_ratio = e.stock_market_ratio;\n          // 期货占总市值\n          obj.future_market_ratio = e.future_market_ratio;\n          // 风险度\n          obj.future_ensure_ratio = e.future_ensure_ratio;\n\n          rtn.push(obj);\n        });\n\n        if (0 == rtn.length) {\n          $(\".custom-grey-btn__export\").addClass('doBtnExport_bgd');\n        } else {\n          $(\".custom-grey-btn__export\").removeClass('doBtnExport_bgd');\n        }\n        // 步骤2，根据排序逻辑进行排序\n        // rtn = VUECOMPONENT.sort(rtn, _this.order, _this.order_by);\n        return rtn;\n        // if (_this.order == 'asc' || _this.order == 'desc') {\n        //   rtn.sort((a, b) => {\n        //     let x = a[_this.order_by];\n        //     let y = b[_this.order_by];\n\n        //     if ( !isNaN(parseFloat(x)) && !isNaN(parseFloat(y)) ) {\n        //       x = parseFloat(x);\n        //       y = parseFloat(y);\n        //     }\n        //     if (x > y) {\n        //       return 1;\n        //     }\n        //     if (x < y) {\n        //       return -1;\n        //     }\n        //     return 0;\n        //   })\n\n        //   if ('desc' == _this.order) {\n        //     rtn.reverse();\n        //   }\n        //   return rtn;\n        // }else{\n        //   return rtn;\n        // }\n      }\n    }\n  })\n\n  // 自定义数据查询页面清算查询\n  Vue.component('vue-query-cashflow', {\n    mixins: [numberMixin],\n    props: ['grid_data', 'grid_data_code', 'org_info_theme'],\n    template: `\n    <table class=\"journel-sheet-grid\">\n      <thead>\n        <tr>\n          <!-- <th class=\"left10 multi\"></th> -->\n          <th style=\"color: #999;\" class=\"left30\">流水号</th>\n          <th style=\"color: #999;\" class=\"left20\">证券代码</th>\n          <th style=\"color: #999;\" class=\"left20\">证券名称</th>\n          <th style=\"color: #999;\" class=\"left20\">策略</th>\n          <th style=\"color: #999;\" class=\"right20\">交易方向</th>\n          <th style=\"color: #999;\" class=\"right20\">成交数量</th>\n          <th style=\"color: #999;\" class=\"right20\">成交金额</th>\n          <th style=\"color: #999;\" class=\"right20\">印花税</th>\n          <th style=\"color: #999;\" class=\"right20\">交易佣金</th>\n          <th style=\"color: #999;\" class=\"right20\">过户费</th>\n          <th style=\"color: #999;\" class=\"right20\">经手费</th>\n          <th style=\"color: #999;\" class=\"right20\">结算费</th>\n          <th style=\"color: #999;\" class=\"right20\">证管费</th>\n          <th style=\"color: #999;\" class=\"right20\">交易费</th>\n          <th style=\"color: #999;\" class=\"right20\">日期</th>\n          <!-- <th class=\"right40\"></th> -->\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-if=\"grid_data.data && grid_data.data.length > 0\" v-for=\"row in grid_data.data\">\n          <td class=\"left30\">{{row.id}}</td>\n          <td class=\"left20\">{{row.stock_id}}</td>\n          <td class=\"left20\">{{row.stock_name}}</td>\n          <td class=\"left20\">{{row.name}}</td>\n          <td class=\"right20\">{{row.deal_type_name}}</td>\n          <td class=\"right20\">{{numeralNumber(row.deal_volume, 0)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.deal_amount, 3)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.fee_stamp_duty, 4)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.fee_formalities, 4)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.fee_transfer, 4)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.fee_collection, 4)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.fee_clearing, 4)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.fee_transaction, 4)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.total_fee, 4)}}</td>\n          <td class=\"right20\">{{row.dealed_at}}</td>\n        </tr>\n        <tr v-if=\"grid_data_code == 500901 && Object.keys(grid_data).length == 0\">\n          <td class=\"left30\" colspan=\"99\">请选择基金</td>\n        </tr>\n        <tr v-if=\"grid_data_code == 0 && Object.keys(grid_data).length == 0\">\n          <td class=\"left30\" colspan=\"99\">该时段暂无匹配记录</td>\n        </tr>\n      </tbody>\n    </table>\n    `,\n    data: function(){\n      return {\n\n      }\n    },\n    methods: {\n      checkPositive: function(num){\n        return parseFloat(num) > 0;\n      },\n      checkNegative: function(num){\n        return parseFloat(num) < 0;\n      }\n    }\n  })\n\n  // 自定义数据查询页面指令查询 实际产品中，暂时没有指令查询相关\n  Vue.component('vue-query-instruction', {\n    mixins: [numberMixin],\n    props: ['grid_data', 'grid_data_code', 'org_info_theme'],\n    template: `\n    <table class=\"journel-sheet-grid\">\n      <thead v-if=\"org_info_theme != 3\">\n        <tr>\n          <th v-if=\"false\" style=\"color: #999;\" class=\"left30\">日期</th>\n          <th style=\"color: #999;\" class=\"left20\">证券代码</th>\n          <th style=\"color: #999;\" class=\"left20\">基金</th>\n          <th style=\"color: #999;\" class=\"left20\">交易单元</th>\n          <th style=\"color: #999;\" class=\"left20\">买卖方向</th>\n          <th style=\"color: #999;\" class=\"right20\">指令数量</th>\n          <th style=\"color: #999;\" class=\"right20\">指令金额</th>\n          <th style=\"color: #999;\" class=\"right20\">累计委托量</th>\n          <th style=\"color: #999;\" class=\"right20\">累计委托金额</th>\n          <th style=\"color: #999;\" class=\"right20\">累积成交量</th>\n          <th style=\"color: #999;\" class=\"right20\">累积成交金额</th>\n          <th style=\"color: #999;\" class=\"right20\">投保标志</th>\n          <th style=\"color: #999;\" class=\"right20\">提交时间</th>\n          <th style=\"color: #999;\" class=\"right20\">开始时间</th>\n          <th style=\"color: #999;\" class=\"right20\">结束时间</th>\n          <th style=\"color: #999;\" class=\"right20\">提交人</th>\n        </tr>\n      </thead>\n      <tbody v-if=\"org_info_theme != 3\">\n        <tr v-if=\"grid_data.length > 0\" v-for=\"row in grid_data\">\n          <td v-if=\"false\" class=\"left30\">{{'日期'}}</td>\n          <td class=\"left20\">{{row.stock_code + ' ' + row.stock_name}}</td>\n          <td class=\"left20\">{{'row.name'}}</td>\n          <td class=\"right20\">{{''}}</td>\n          <td class=\"right20\">{{'买卖方向'}}</td>\n          <td class=\"right20\">{{numeralNumber(row.ins_volume, 0)}}</td>\n          <td class=\"right20\">{{numeralNumber(row.ins_amount, 3)}}</td>\n          <td class=\"right20\">{{'累计委托量'}}</td>\n          <td class=\"right20\">{{'累计委托金额'}}</td>\n          <td class=\"right20\">{{'投保标志'}}</td>\n          <td class=\"right20\">{{'提交时间'}}</td>\n          <td class=\"right20\">{{'开始时间'}}</td>\n          <td class=\"right20\">{{'结束时间'}}</td>\n          <td class=\"right20\">{{'提交人'}}</td>\n        </tr>\n      </tbody>\n      <tr v-if=\"grid_data_code == 500901 && Object.keys(grid_data).length == 0\">\n        <td class=\"left30\" colspan=\"99\">请选择基金</td>\n      </tr>\n      <tr v-if=\"grid_data_code == 0 && Object.keys(grid_data).length == 0\">\n        <td class=\"left30\" colspan=\"99\">该时段暂无匹配记录</td>\n      </tr>\n    </table>\n    `,\n    data: function(){\n      return {\n\n      }\n    },\n    methods: {\n      checkPositive: function(num){\n        return parseFloat(num) > 0;\n      },\n      checkNegative: function(num){\n        return parseFloat(num) < 0;\n      }\n    }\n  })\n\n  window.addEventListener('load', function(){\n  // $(function(){\n    var report_list = new Vue({\n      mixins: [numberMixin],\n      el: \"#report_list\",\n      data: {\n        minDate: '2015-01-01',\n        maxDate: (function(){return moment().format('YYYY-MM-DD')})(),\n        startDate: (function(){return moment().format('YYYY-MM-DD')})(),\n        endDate: (function(){return moment().format('YYYY-MM-DD')})(),\n        multiple_select: [],\n        option: [],\n        org_info_theme: LOGIN_INFO.org_info.theme,\n        division_stock: true,\n        ajax_time: '',\n        // 汇总维度\n        lined: 'group',\n\n        query_stock_type: undefined,\n        query_market: undefined,\n        options_stock_type: [{\n          label: '股票',\n          value: 'ST'\n        }, {\n          label: '货币基金',\n          value: 'CF'\n        }, {\n          label: '期货',\n          value: 'FT'\n        },{\n        //   label: '债券',\n        //   value: 'BO'\n        // },{\n          label: '其他',\n          value: 'OT'\n        }],\n        options_market: [{\n          label: '深A',\n          value: 'SZ'\n        },{\n          label: '沪A',\n          value: 'SH'\n        },{\n          label: '港股通',\n          value: 'HK'\n        },{\n          label: '期货',\n          value: 'FT'\n        },{\n          label: '场外',\n          value: 'CW'\n        },{\n          label: '其他',\n          value: 'OT'\n        }],\n        order: '',\n        order_by: '',\n        display_rules: [],\n        typeStr: '',\n\n        isLoading: false,\n        active: reportActive,\n        gridDataCode: 500901, //由于默认不查询 所以默认状态为“请选择产品”\n        gridData: [],\n        stock_input_type_id: '',\n        stock_id: ''\n      },\n      watch: {\n        lined: function(){\n          this.getGridData();\n        },\n        multiple_select: function(val, old){\n          if ((val.length == 0 && old.length == 0) || (val.toString() == old.toString())) {\n          }else{\n            this.getGridData();\n          }\n        },\n        // startDate: function(val, old){\n        //   this.getGridData();\n        //   // let flag = moment(this.startDate).isAfter(this.endDate);\n        //   // if (true == flag) {\n        //   //   $.omsAlert('开始时间不得晚于结束时间');\n        //   //   this.startDate = old;\n        //   // }else{\n        //   //   this.getGridData();\n        //   // }\n        // },\n        // endDate: function(val, old){\n        //   this.getGridData();\n        //   // let flag = moment(this.startDate).isAfter(this.endDate);\n        //   // if (true == flag) {\n        //   //   $.omsAlert('开始时间不得晚于结束时间');\n        //   //   this.endDate = old;\n        //   // }else{\n        //   //   this.getGridData();\n        //   // }\n        // },\n        division_stock: function(){\n          this.getGridData();\n        },\n        query_stock_type: function(curVal, oldVal){\n          if (undefined == oldVal) {\n\n          }else{\n            this.getGridData();\n          }\n        },\n        query_market: function(curVal, oldVal){\n          if (undefined == oldVal) {\n\n          }else{\n            this.getGridData();\n          }\n        },\n        // 股票查询框中正确的股票id\n        stock_id: function(){\n          this.getGridData();\n        }\n      },\n      methods: {\n        chgStartDate: function(startDate){\n          // let flag = moment(this.startDate).isAfter(this.endDate);\n          // if (true == flag) {\n          //   $.omsAlert('开始时间不得晚于结束时间');\n          //   $('.gridPagination').html('');\n          //   this.gridData = [];\n          // }else{\n          //   this.startDate = startDate;\n          //   this.getGridData();\n          // }\n\n          this.startDate = startDate;\n          this.getGridData();\n        },\n        chgEndDate: function(endDate){\n          // let flag = moment(this.startDate).isAfter(this.endDate);\n          // if (true == flag) {\n          //   $.omsAlert('开始时间不得晚于结束时间');\n          //   $('.gridPagination').html('');\n          //   this.gridData = [];\n          // }else{\n          //   this.endDate = endDate;\n          //   this.getGridData();\n          // }\n\n          this.endDate = endDate;\n          this.getGridData();\n        },\n        updateOrder: function(obj){\n          this.order = obj.order;\n          this.order_by = obj.order_by;\n          this.display_rules = obj.display_rules;\n\n          // this.typeStr = obj.typeStr;\n          // this.getGridData();\n          // 因为部分查询页面需要翻页，所以排序更改后就是应该重新查询数据再显示。但是，之前切换菜单也会触发查询事件，就会导致重复查询了。\n          // 所以，要额外进行一个判断，判断当前排序字段是否一致，一致才需要在这里查询数据，否则，别的流程自己有查询数据的步骤。\n          if (this.typeStr == obj.typeStr) {\n            this.getGridData();\n          }else{\n            this.typeStr = obj.typeStr;\n          }\n        },\n        doRefresh:function(){\n          if (this.multiple_select.length == 0) {\n            $.omsAlert('请选择基金');\n            return;\n          }\n          this.goto()\n        },\n        doExport: function(){\n          let _this = this;\n          if (this.multiple_select.length == 0) {\n            $.omsAlert('请选择基金');\n            return;\n          }\n\n          if ($(\".custom-grey-btn__export\").hasClass('doBtnExport_bgd')) {\n            return;\n          }\n\n          let flag = moment(this.startDate).isAfter(this.endDate);\n          if (true == flag && ('entrust' == this.active || 'deal' == this.active || (this.active == 'assets' && this.org_info_theme == 3))) {\n            $.omsAlert('开始时间不得晚于结束时间');\n            return;\n          }\n\n          let flag2 = moment(this.startDate).add(31, 'day').isAfter(this.endDate);\n          if (!flag2 && ('entrust' == this.active || 'deal' == this.active || (this.active == 'assets' && this.org_info_theme == 3)) ) {\n            $.omsAlert('查询间隔不能大于31天');\n            return;\n          }\n\n          var group_arr = [];\n          var base_arr = [];\n          var product_arr = [];\n          _this.multiple_select.forEach(function(e){\n            if ('group' == e.split('&')[1]) {\n              group_arr.push(e.split('&')[0]);\n            }\n            if ('base' == e.split('&')[1]) {\n              base_arr.push(e.split('&')[0]);\n            }\n            if ('product' == e.split('&')[1]) {\n              product_arr.push(e.split('&')[0]);\n            }\n          })\n          let queryStr = '';\n          if (group_arr.length > 0) {\n            queryStr += '&group_id=' + group_arr.join(',');\n          }\n\n          if(base_arr.length > 0){\n            queryStr += '&base_id=' + base_arr.join(',');\n          }\n\n          if(product_arr.length > 0){\n            queryStr += '&product_id=' + product_arr.join(',');\n          }\n\n          let field_sort = [];\n          field_sort = this.display_rules.map(function(e){\n            return e.id\n          });\n          $.startLoading();\n          // 机构版\n          if (this.org_info_theme != 3) {\n            $.ajax({\n              url: window.REQUEST_PREFIX + '/oms/report/download_report/'+ _this.active+'?type=excel'+queryStr,\n              type: 'GET',\n              data: {\n                start: _this.startDate,\n                end: _this.endDate,\n                division_stock: ((true==_this.division_stock)?1:0),\n                lined: _this.lined,\n                order: _this.order,\n                order_by: _this.order_by,\n                field_sort: field_sort.join(','),\n                query_stock_type: _this.query_stock_type.join(','),\n                query_market: _this.query_market.join(','),\n                stock_id: _this.stock_id\n              },\n              success: ({code, msg, data}) => {\n                $.clearLoading();\n                $.omsAlert('正为您生成报表，成功后可进入文件中心下载');\n              },\n              error: () => {\n                $.omsAlert('网络异常，请重试');\n              }\n            })\n          }else{\n            if(product_arr.length > 0){\n              queryStr += '&product_id=' + product_arr.join(',');\n            }\n\n            let curActive = this.active;\n            if ('position' == curActive) {\n              curActive = 'today_position'\n            }\n            $.ajax({\n              url: window.REQUEST_PREFIX + '/oms/report/download_report/' + curActive + '?type=excel' + queryStr,\n              type: 'GET',\n              data: {\n                start: _this.startDate,\n                end: _this.endDate\n              },\n              success: ({code, msg, data}) => {\n                $.clearLoading();\n                $.omsAlert('正为您生成报表，成功后可进入文件中心下载');\n              },\n              error: () => {\n                $.omsAlert('网络异常，请重试');\n              }\n            })\n\n          }\n        },\n        checkPositive: function(num){\n          return parseFloat(num) > 0;\n        },\n        checkNegative: function(num){\n          return parseFloat(num) < 0;\n        },\n        checkDisplay: function(active){\n          // 资产\n          if (active == 'assets') {\n            return window.LOGIN_INFO.role_permission[GV.permissions['PERMISSION_SELECT_CASH']];\n          }\n          // 指令\n          if (active == 'instruction') {\n            return window.LOGIN_INFO.role_permission[GV.permissions['PERMISSION_SELECT_INSTRUCT']];\n          }\n          // 委托\n          if (active == 'entrust') {\n            return window.LOGIN_INFO.role_permission[GV.permissions['PERMISSION_SELECT_ENTRUST']];\n          }\n          // 成交\n          if (active == 'deal') {\n            return window.LOGIN_INFO.role_permission[GV.permissions['PERMISSION_SELECT_DEAL']];\n          }\n          // 持仓\n          if (active == 'position') {\n            return window.LOGIN_INFO.role_permission[GV.permissions['PERMISSION_SELECT_POSITION']];\n          }\n          // 清算\n          if (active == 'cashflow') {\n            return window.LOGIN_INFO.role_permission[GV.permissions['PERMISSION_SELECT_FEE']];\n          }\n          return false;\n        },\n        goto: function(e, active){\n          var _this = this;\n          if ($('.refresh-btn').hasClass('loading')) {\n            return;\n          }\n          $('.refresh-btn').addClass('loading');\n          $('.gridPagination').empty();\n          if (!active) {\n            // 本页js调用goto，不会传入参，所以会走入这个分支，所以要查询表格数据。\n            active = this.active;\n            this.typeStr = 'report_list__'+ this.active +'_order';\n            _this.endDate = new Date().getFullYear() + '-' + toPad(new Date().getMonth() + 1, 2) + '-' + toPad(new Date().getDate(), 2);\n            this.gridData = [];\n            this.getGridData();\n          }else{\n            // blade中vue的click事件触发goto，会传目标页面信息进来，所以会走入这个分支，但是需要注意的是\n            // 新的active与旧的active相同时，要调用getGridData刷新表格，而不同时不需要，因为获取排序信息会查询表格数据。\n            var flag_getData = false;\n            if (active == _this.active) {\n              flag_getData = true;\n            }\n            // 未获取接口数据问题规避处理\n            if ('cashflow' == active) {\n              flag_getData = true;\n            }\n            _this.active = active;\n            this.typeStr = 'report_list__'+ this.active +'_order';\n            _this.gridData = [];\n            _this.getProductsByPermissions(active, function(){\n              // _this.getGridData();\n              if (true == flag_getData) {\n                _this.getGridData();\n              }\n            });\n          }\n        },\n        getBeginDate: function(productInfo, arrId){\n          if (arrId.length == 0) {\n            return '';\n          }\n          var beginDateArr = productInfo.filter(function(e){\n            if (arrId.some(function(el){\n              return el == e.value;\n            })) {\n              return true;\n            }\n          });\n          beginDateArr.sort(function(a, b){\n            return ( new Date(a.startDate).getTime() - new Date(b.startDate).getTime() );\n          });\n          return beginDateArr[0].startDate;\n        },\n        getGridData: function(page){\n          let flag = moment(this.startDate).isAfter(this.endDate);\n          if (true == flag && ('entrust' == this.active || 'deal' == this.active || (this.active == 'assets' && this.org_info_theme == 3))) {\n            $.omsAlert('开始时间不得晚于结束时间');\n          }\n\n          let flag2 = moment(this.startDate).add(31, 'day').isAfter(this.endDate);\n          if (!flag2 && ('entrust' == this.active || 'deal' == this.active || (this.active == 'assets' && this.org_info_theme == 3)) ) {\n            $.omsAlert('查询间隔不能大于31天');\n          }\n\n          if (!page) {page = 1}\n          var _this = this;\n          if ('position' == this.active) { //特殊处理，持仓查询只能显示当前时间，和后台商量持仓不传时间\n            var data = {\n              type: 'group',\n              lined: _this.lined,\n              division_stock: (true==_this.division_stock)?1:0,\n              page: page,\n              order: _this.order,\n              order_by: _this.order_by,\n              query_stock_type: _this.query_stock_type.join(','),\n              query_market: _this.query_market.join(','),\n              stock_id: _this.stock_id\n              // ,\n              // product_id: _this.multiple_select.join(',')\n            };\n          } else {\n            var data = {\n              type: 'group',\n              lined: _this.lined,\n              division_stock: (true==_this.division_stock)?1:0,\n              page: page,\n              start: _this.startDate,\n              end: _this.endDate,\n              order: _this.order,\n              order_by: _this.order_by,\n              query_stock_type: _this.query_stock_type.join(','),\n              query_market: _this.query_market.join(','),\n              stock_id: _this.stock_id\n              // ,\n              // product_id: _this.multiple_select.join(',')\n            };\n          }\n\n          var group_arr = [];\n          var base_arr = [];\n          var product_arr = [];\n          _this.multiple_select.forEach(function(e){\n            if ('group' == e.split('&')[1]) {\n              group_arr.push(e.split('&')[0]);\n            }\n            if ('base' == e.split('&')[1]) {\n              base_arr.push(e.split('&')[0]);\n            }\n            if ('product' == e.split('&')[1]) {\n              product_arr.push(e.split('&')[0]);\n            }\n          })\n          if (group_arr.length > 0) {\n            data.group_id = group_arr.join(',')\n          }\n          if (base_arr.length > 0) {\n            data.base_id = base_arr.join(',')\n          }\n          if (product_arr.length > 0) {\n            data.product_id = product_arr.join(',')\n          }\n          this.ajax_time = new Date().getTime();\n          var ajax_time = this.ajax_time;\n          $.startLoading('正在查询');\n\n          $.ajax({\n            url: window.REQUEST_PREFIX + '/oms/report/report_list/' + this.active,\n            type: 'get',\n            data: data,\n            success: function(res){\n              if (ajax_time != _this.ajax_time) {\n                return;\n              }\n              $.clearLoading();\n              _this.gridDataCode = 0;\n              $('.refresh-btn').removeClass('loading');\n              if (0 == res.code) {\n                res.data.base && res.data.base.forEach(function(e){\n                  e.web_hide_child = true;\n                });\n                res.data.group && res.data.group.forEach(function(e){\n                  e.web_hide_child = true;\n                  e.child_base && e.child_base.forEach(function(el){\n                    el.web_hide_child = true;\n                  })\n                  e.child_group && e.child_group.forEach(function(el){\n                    el.web_hide_child = true;\n                  })\n                })\n\n                _this.gridData = res.data;\n                if (res.data.data_page_html || '' == res.data.data_page_html) {\n                  $('.gridPagination').html(res.data.data_page_html.replace(/href/g,'data-href'));\n                }\n              }else{\n                if (500901 == res.code) {\n                  _this.gridDataCode = 500901;\n                  _this.gridData = [];\n                }else{\n                  $.omsAlert(res.msg);\n                }\n\n              }\n            },\n            error: function(){\n              $.clearLoading();\n              $('.refresh-btn').removeClass('loading');\n            }\n          });\n        },\n        getProductsByPermissions(active, callback){\n          var _this = this;\n          $.ajax({\n            url: window.REQUEST_PREFIX + '/user/get_products_by_permissions',\n            data: {\n              permission_id: permissionArr[active]\n            },\n            success: function(res){\n              if (0 == res.code) {\n\n                var arr = [];\n                res.data.group && res.data.group.forEach(function(e){\n                  arr.push({\n                    label: e.name,\n                    value: e.id+'&group',\n                    type: 'group'\n                  })\n                });\n\n                res.data.base && res.data.base.forEach(function(e){\n                  arr.push({\n                    label: e.name,\n                    value: e.id+'&base',\n                    type: 'base'\n                  })\n                });\n\n                res.data.product && res.data.product.forEach(function(e){\n                  arr.push({\n                    label: e.name,\n                    value: e.id+'&product',\n                    type: 'product'\n                  })\n                })\n\n                _this.option = arr;\n\n                if (Object.prototype.toString.call(callback) === '[object Function]') {\n                  callback.call();\n                }\n              }\n            },\n            error: function(){\n\n            }\n          })\n        }\n      }\n    });\n\n    var productInfo = {};\n\n    report_list.getProductsByPermissions('assets');\n    // report_list.getProductsByPermissions('assets', function(){\n\n    // });\n\n    window.report_list = report_list;\n\n    $(document).on('click', '.pagination a', function(){\n      var pageNumArr = $(this).attr('data-href').split('page=');\n      if (2 == pageNumArr.length) {\n        report_list.getGridData(pageNumArr[1]);\n      }\n    })\n  })\n})\n"]}