{"version":3,"sources":["common/vue.component.js"],"names":["VUECOMPONENT","sort","arr","order","order_by","a","b","x","y","isNaN","parseFloat","toString","localeCompare","reverse","commonRecursionToString","obj","i","commonAjax","url","data","type","promise","Promise","resolve","reject","client","XMLHttpRequest","open","onreadystatechange","readyState","status","response","Error","statusText","responseType","setRequestHeader","send","numberMixin","methods","numeralNumber","arg","num","undefined","isFinite","str","numeral","format","numeralPercent","numeralPercentV2","signNumeralNumber","noSign","replace","signNumeralPercent","colorMixin","rmgColor","val","cursor","Number","Vue","component","props","template","mounted","vm","selectize","$","$el","delimiter","persist","placeholder","place_holder","valueField","labelField","onChange","v","$emit","addOption","options","setValue","value","is_readonly","next","find","prop","watch","clearOptions","old","length","html","doUncheckAll","checked_arr","multipleSelect","forEach","e","label","flag_check_all","chg_opt_flag_check_all","init_obj","allSelected","options_isnull_info","_this","temp","window","LOGIN_INFO","org_info","theme","filter","width","ellipsis","selectAllText","noMatchesFound","countSelected","onCheckAll","view","chgSelect","onUncheckAll","onClick","$nextTick","zebra","set_date","start_date_time","clear_date","Zebra_DatePicker","container","months","days","lang_clear_date","show_select_today","onSelect","onClear","update","direction","min_date","max_date","focusFlag","stock_id","stock_input","stock_name","stockList","is_loading","stock_input_id","selectOneStock","id","name","substring","getStockList","stock_info","get_assets_class","assets_class","latest_suggest_timestamp","Date","valueOf","REQUEST_PREFIX","ajax","success","res","code","removeClass","error","hideShowPsw","attr","mixins","change","row","rule","checkDisabled","rtn","disabledMapping","doClickBtn","btnClickFn","addParenthese","func","call","checkDisplayCheckbox","hideChildren","isChild","chgControllor","preControl","showPreControlClass","children","class","trueClass","falseClass","input","displayValue","Array","Function","args","concat","slice","apply","unit","displayStyle","displayStatus","displayStatusForExecute","doCancel","Object","prototype","$root","doExecute","displayBtn","language_show","show","language_hide","hide","showStatus","detail","is_running","is_stoped","target","chgSelectByClick","web_checked","userClick","web_hide_child","userShowClick","is","doEnd","childName","confirm","title","content","closeIcon","columnClass","confirmButton","confirmButtonClass","confirm_window","submit_end","cancelButton","group_id","msg","omsAlert","close","getAllData","failNotice","doUnbind","topName","top","submit_unbind","computed","style","color","isShowChangePanel","$event","$parent","showChangePanel","isdrag","cancel","save","ajax_data","group_name","ajax_type","showstatus","getOptionList","getProductList","vue_modify_click_data","manager_map","getManagers","callBack","submit_addGroup","operator_uid","searchSelected","doModify","keys","doCreate","manager_html","operatorId","disabled","disabledStr","is_child","productId","nameVal","off","on","createManager","user_id","empty","prefix","my_product","product","checkFilter","parents","product_id","doConfig","location","href","onStart","onMove","relatedContext","draggedContext","relatedElement","element","draggedElement","fixed","onEnd","oldIndex","newIndex","set_group_product_index","self","productid_list","push","operation_id","join","done","fail","always","dragOptions","animation","scroll","scrollSensitivity","handle","ghostClass","checkPassFilter","toggleShowChildren","showChildren","checkSplit","checkShow","checkShowSplit","role_id","some","doSplit","getsecuritiesType","test","child_product","el","child_group","end_product","contentChild","extend","btn_submit","startLoading","isloarding","clearLoading","btn_cancel","$confirm","getStatus","groupid_list","accounts_info","group","ele","product_list","select_id","startSearch","active","chgActive","selected_account_arr","chgPassword","new_password","tx_new_passwd","sign_status","is_pb","base_id","new_passwd","every","showResult","resultHtml","okNum","notOkNum","accountName","map","onClose","doLogin","login_status","login_msg","getText","getSystemList","auto_login","doChgAutoLogin","doChgStatus","doBind","selected_top_group_arr","selected_top_base_arr","group_html","option_list","group_list","submit_bind","target_group_id","securities_map_tdx","securities_map_pb","submit_add","account","security_id","com_password","fund_id","tx_password","unit_id","sh_a_code","sz_a_code","seat_id_sh","seat_id_sz","validateForm","passwordObj","rules_obj","messages_obj","needpasswdForTdx","required","needpasswdForPb","validate","resetForm","destroy","errorPlacement","appendTo","submitHandler","doConfirm","pb_options","tdx_options","pb_html","tdx_html","submit","selectCapitalAccount","selectPbAccount","noNeedPassword","lookLog","logUserData","logOperatorData","logManagerData","showData","modify_value","directives","focus","chgStatus","digital_num","onBlur","saveData","ajax_url","customRefreshAfterModified","limit_number","value_down","tip","reg","keyCode","key","preventDefault","select","getValue","text","indexOf","modify_name","select_init","showTest","real_name","maxItems","searchField","create","onType","$dropdown_content","$dropdown","operator","updateData","customDisplay","match","adjust_value","cancelEdit","show_modify","checkKeyDown","toggle","change_show","security_remark","req_data","assign","show_remark","positionDoRefresh","goto","customStyle","controller","display","customColor","checkPositive","numeralFormat","showPositiveSign","showType","clickBtn","btn","index","changeCheckbox","getObjectData","mapping","pullValue","onButtonClick","btns","onCheckChange","checkedMapping","onTotalCheckChange","flag","totalChecked","tableData","tr_click","tr_dbclick","tableController","tmp","displayManager","org_info_theme","true","false","btn_click","VueConfirm","install","confirmTpll","tpl","document","body","removeChild","$destroy","$ref","child","keyUpFn","one","components","$mount","appendChild","use"],"mappings":";;;;AAAA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAIA,eAAe,EAAnB;AACAA,aAAaC,IAAb,GAAoB,UAASC,GAAT,EAAcC,KAAd,EAAqBC,QAArB,EAA8B;AAChD,MAAID,SAAS,KAAT,IAAkBA,SAAS,MAA/B,EAAuC;AACrCD,QAAID,IAAJ,CAAS,UAACI,CAAD,EAAIC,CAAJ,EAAU;AACjB,UAAIC,IAAIF,EAAED,QAAF,CAAR;AACA,UAAII,IAAIF,EAAEF,QAAF,CAAR;AACA,UAAIG,KAAK,IAAT,EAAe;AACb,eAAO,CAAC,CAAR;AACD;AACD,UAAIC,KAAK,IAAT,EAAe;AACb,eAAO,CAAP;AACD;AACD,UAAK,CAACC,MAAMC,WAAWH,CAAX,CAAN,CAAD,IAAyB,CAACE,MAAMC,WAAWF,CAAX,CAAN,CAA/B,EAAsD;AACpDD,YAAIG,WAAWH,CAAX,CAAJ;AACAC,YAAIE,WAAWF,CAAX,CAAJ;;AAEA,YAAID,IAAIC,CAAR,EAAW;AACT,iBAAO,CAAP;AACD;AACD,YAAID,IAAIC,CAAR,EAAW;AACT,iBAAO,CAAC,CAAR;AACD;AACD,eAAO,CAAP;AACD;;AAGDD,UAAIA,EAAEI,QAAF,EAAJ;AACAH,UAAIA,EAAEG,QAAF,EAAJ;AACA,aAAOJ,EAAEK,aAAF,CAAgBJ,CAAhB,EAAmB,OAAnB,CAAP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,KAlCD;;AAoCA,QAAI,UAAUL,KAAd,EAAqB;AACnBD,UAAIW,OAAJ;AACD;AACD,WAAOX,GAAP;AACD,GAzCD,MAyCK;AACH,WAAOA,GAAP;AACD;AACF,CA7CD;AA8CA;;AAEA;AACA,IAAMY,0BAA0B,SAA1BA,uBAA0B,CAASC,GAAT,EAAa;AAC3C,OAAI,IAAIC,CAAR,IAAaD,GAAb,EAAiB;AACf,QAAI,YAAY,OAAOA,IAAIC,CAAJ,CAAvB,EAA+B;AAC7B;AACD,KAFD,MAEM,IAAI,YAAY,OAAOD,IAAIC,CAAJ,CAAvB,EAA+B;AACnCD,UAAIC,CAAJ,IAASD,IAAIC,CAAJ,EAAOL,QAAP,EAAT;AACD,KAFK,MAEA,IAAG,oBAAmBI,IAAIC,CAAJ,CAAnB,CAAH,EAA6B;AACjCF,8BAAwBC,IAAIC,CAAJ,CAAxB;AACD;AACF;AACF,CAVD;;AAYA;AACA,IAAMC,aAAa,SAAbA,UAAa,CAASC,GAAT,EAAcC,IAAd,EAAkC;AAAA,MAAdC,IAAc,uEAAP,KAAO;;AACnD,MAAIC,UAAU,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAAyB;AACjD,QAAIC,SAAS,IAAIC,cAAJ,EAAb;AACAD,WAAOE,IAAP,CAAYP,IAAZ,EAAkBF,GAAlB;AACAO,WAAOG,kBAAP,GAA4B,YAAU;AACpC,UAAI,KAAKC,UAAL,KAAoB,CAAxB,EAA2B;AACzB;AACD;AACD,UAAI,KAAKC,MAAL,KAAgB,GAApB,EAAyB;AACvB;AACAhB,gCAAwB,KAAKiB,QAA7B;AACAR,gBAAQ,KAAKQ,QAAb;AACD,OAJD,MAIO;AACLP,eAAO,IAAIQ,KAAJ,CAAU,KAAKC,UAAf,CAAP;AACD;AACF,KAXD;AAYAR,WAAOS,YAAP,GAAsB,MAAtB;AACAT,WAAOU,gBAAP,CAAwB,QAAxB,EAAkC,kBAAlC;AACA;AACAV,WAAOW,IAAP,CAAYjB,IAAZ;AACD,GAnBa,CAAd;;AAqBA,SAAOE,OAAP;AACD,CAvBD;;AAyBA;AACA;AACA,IAAIgB,cAAc;AAChBC,WAAS;AACPC,mBAAe,uBAASC,GAAT,EAAcC,GAAd,EAAkB;AAC/B,UAAI,QAAQD,GAAR,IAAe,OAAOA,GAAtB,IAA6BE,aAAaF,GAA9C,EAAmD;AACjD,eAAO,IAAP;AACD;AACD,UAAI,CAACG,SAASH,GAAT,CAAL,EAAoB;AAClB,eAAOA,GAAP;AACD;AACD,UAAIE,aAAaD,GAAjB,EAAsB;AACpB,YAAIG,MAAM,IAAV;AACA,aAAK,IAAI5B,IAAIyB,MAAM,CAAnB,EAAsBzB,KAAK,CAA3B,EAA8BA,GAA9B,EAAmC;AACjC4B,iBAAO,GAAP;AACD;AACD,YAAG,KAAKH,GAAR,EAAY;AACVG,gBAAM,GAAN;AACD;AACD,eAAOC,QAAQL,GAAR,EAAaM,MAAb,CAAqB,OAAOF,GAA5B,CAAP;AACD;AACD,aAAOC,QAAQL,GAAR,EAAaM,MAAb,CAAqB,QAArB,CAAP;AACD,KAnBM;AAoBPC,oBAAgB,wBAASP,GAAT,EAAcC,GAAd,EAAkB;AAChC,UAAI,QAAQD,GAAR,IAAe,OAAOA,GAAtB,IAA6BE,aAAaF,GAA9C,EAAmD;AACjD,eAAO,IAAP;AACD;AACD,UAAI,CAACG,SAASH,GAAT,CAAL,EAAoB;AAClB,eAAOA,GAAP;AACD;AACD,UAAIE,aAAaD,GAAjB,EAAsB;AACpB,YAAIG,MAAM,IAAV;AACA,aAAK,IAAI5B,IAAIyB,MAAM,CAAnB,EAAsBzB,KAAK,CAA3B,EAA8BA,GAA9B,EAAmC;AACjC4B,iBAAO,GAAP;AACD;AACD,YAAG,KAAKH,GAAR,EAAY;AACVG,gBAAM,GAAN;AACD;AACD,eAAOC,QAAQL,GAAR,EAAaM,MAAb,CAAqB,OAAOF,GAAP,GAAa,GAAlC,CAAP;AACD;AACD,aAAOC,QAAQL,GAAR,EAAaM,MAAb,CAAqB,OAArB,CAAP;AACD,KAtCM;AAuCPE,sBAAkB,0BAASR,GAAT,EAAa;AAC7B,UAAI,QAAQA,GAAR,IAAe,SAASA,GAA5B,EAAiC;AAC/B,eAAOA,GAAP;AACD;AACD,aAAOK,QAAQL,GAAR,EAAaM,MAAb,CAAqB,OAArB,CAAP;AACD,KA5CM;AA6CPG,uBAAmB,2BAAST,GAAT,EAAcC,GAAd,EAAkB;AACnC,UAAG,OAAOD,GAAP,IAAc,QAAQA,GAAzB,EAA6B;AAC3B,eAAOA,GAAP;AACD;;AAED,UAAIU,SAAS,CAAC,CAACV,OAAK,CAAN,EAAS7B,QAAT,GAAoBwC,OAApB,CAA4B,UAA5B,EAAuC,EAAvC,CAAd;AACA,aAAO,CAACX,MAAI,CAAJ,GAAQ,GAAR,GAAc,GAAf,IAAsB,KAAKD,aAAL,CAAmBW,MAAnB,EAA2BT,GAA3B,CAA7B;AACD,KApDM;AAqDPW,wBAAoB,4BAASZ,GAAT,EAAcC,GAAd,EAAkB;AACpC,UAAG,OAAOD,GAAP,IAAc,QAAQA,GAAzB,EAA6B;AAC3B,eAAOA,GAAP;AACD;;AAED,UAAIU,SAAS,CAAC,CAACV,OAAK,CAAN,EAAS7B,QAAT,GAAoBwC,OAApB,CAA4B,UAA5B,EAAuC,EAAvC,CAAd;AACA,aAAO,CAACX,MAAI,CAAJ,GAAQ,GAAR,GAAc,GAAf,IAAsB,KAAKO,cAAL,CAAoBG,MAApB,EAA4BT,GAA5B,CAA7B;AACD;AA5DM;;AAgEX;AAjEkB,CAAlB,CAkEA,IAAIY,aAAa;AACff,WAAS;AACPgB,cAAU,kBAASC,GAAT,EAAcC,MAAd,EAAqB;AAC7BD,YAAME,OAAOF,GAAP,CAAN;AACAC,eAASC,OAAOD,MAAP,CAAT;AACA,UAAID,MAAMC,MAAV,EAAkB;AAChB,eAAO,UAAP;AACD;AACD,UAAID,MAAMC,MAAV,EAAkB;AAChB,eAAO,YAAP;AACD;AACD,aAAO,EAAP;AACD;AAXM;AAcX;;AAEA;AACA;AACA;AAnBiB,CAAjB,CAoBAE,IAAIC,SAAJ,CAAc,eAAd,EAA+B;AAC7B;AACAC,SAAO,CAAC,SAAD,EAAY,OAAZ,EAAqB,cAArB,EAAqC,aAArC,CAFsB;AAG7BC,0EAH6B;AAQ7BC,WAAS,mBAAY;AACnB,QAAIC,KAAK,IAAT;AACA,QAAIC,YAAYC,EAAE,KAAKC,GAAP,EAAYF,SAAZ,CAAsB;AACpCG,iBAAW,GADyB;AAEpCC,eAAS,IAF2B;AAGpCC,mBAAa,KAAKC,YAHkB;AAIpCC,kBAAY,OAJwB;AAKpCC,kBAAY,OALwB;AAMpCC,gBAAU,kBAASC,CAAT,EAAW;AACnBX,WAAGY,KAAH,CAAS,OAAT,EAAkBD,CAAlB;AACD;AARmC,KAAtB,EASb,CATa,EASVV,SATN;AAUAA,cAAUY,SAAV,CAAoB,KAAKC,OAAzB;AACAb,cAAUc,QAAV,CAAmB,KAAKC,KAAxB;AACAf,gBAAY,IAAZ;;AAEA,QAAI,KAAKgB,WAAT,EAAsB;AACpBf,QAAE,KAAKC,GAAP,EAAYe,IAAZ,GAAmBC,IAAnB,CAAwB,OAAxB,EAAiCC,IAAjC,CAAsC,UAAtC,EAAkD,IAAlD;AACD;AACF,GA3B4B;AA4B7BC,SAAO;AACLL,WAAO,eAAUA,MAAV,EAAiB;AACtB;AACAd,QAAE,KAAKC,GAAP,EAAYF,SAAZ,GAAwB,CAAxB,EAA2BA,SAA3B,CAAqCc,QAArC,CAA8CC,MAA9C;AACD,KAJI;AAKLF,aAAS,iBAAUA,QAAV,EAAmB;AAC1B;AACA,UAAIE,QAAQ,KAAKA,KAAjB;AACA,UAAIf,YAAYC,EAAE,KAAKC,GAAP,EAAYF,SAAZ,GAAwB,CAAxB,EAA2BA,SAA3C;AACAA,gBAAUqB,YAAV,CAAuB,IAAvB;AACArB,gBAAUqB,YAAV,CAAuB,IAAvB;AACArB,gBAAUY,SAAV,CAAoB,KAAKC,OAAzB;AACAb,gBAAUc,QAAV,CAAmBC,KAAnB;AACAf,kBAAY,IAAZ;AACD;AAEH;AACA;AACA;AACA;AAnBO,GA5BsB,EAA/B;;AAkDA;AACAN,IAAIC,SAAJ,CAAc,qBAAd,EAAqC;AACnC;AACAC,SAAO,CAAC,SAAD,EAAY,UAAZ,EAAwB,gBAAxB,EAA0C,wBAA1C,EAAoE,qBAApE,CAF4B;AAGnCC,iDAHmC;AAQnCuB,SAAO;AACLP,aAAS,iBAAStB,GAAT,EAAc+B,GAAd,EAAkB;AACzB,UAAI,MAAM/B,IAAIgC,MAAV,IAAoB,MAAMD,IAAIC,MAAlC,EAA0C;AACxC;AACD;AACD,UAAItB,EAAE,KAAKC,GAAP,EAAYsB,IAAZ,MAAsB,EAA1B,EAA8B;AAC5B,YAAIC,eAAe,IAAnB;AACD,OAFD,MAEK;AACH,YAAIA,eAAe,KAAnB;AACA,YAAIC,cAAczB,EAAE,KAAKC,GAAP,EAAYyB,cAAZ,CAA2B,YAA3B,CAAlB;AACD;;AAED,UAAIH,OAAO,EAAX;AACA,WAAKX,OAAL,CAAae,OAAb,CAAqB,UAAUC,CAAV,EAAa;AAChCL,gBAAQ,oBAAoBK,EAAEd,KAAtB,GAA8B,IAA9B,GAAqCc,EAAEC,KAAvC,GAA+C,WAAvD;AACD,OAFD;AAGA7B,QAAE,KAAKC,GAAP,EAAYsB,IAAZ,CAAiBA,IAAjB,EAAuBG,cAAvB;;AAEA,UAAIF,YAAJ,EAAkB;AAChB;AACA,YAAI,KAAKM,cAAT,EAAyB;AACvB9B,YAAE,KAAKC,GAAP,EAAYyB,cAAZ,CAA2B,UAA3B;AACD,SAFD,MAEK;AACH1B,YAAE,KAAKC,GAAP,EAAYyB,cAAZ,CAA2B,YAA3B;AACD;AACF,OAPD,MAOK;AACH1B,UAAE,KAAKC,GAAP,EAAYyB,cAAZ,CAA2B,YAA3B,EAAyCD,WAAzC;AACD;;AAED,UAAI,KAAKM,sBAAT,EAAiC;AAC/B/B,UAAE,KAAKC,GAAP,EAAYyB,cAAZ,CAA2B,UAA3B;AACD;AACF,KAhCI;AAiCLM,cAAU,kBAAS1C,GAAT,EAAc+B,GAAd,EAAmB;AAC3B,UAAI/B,IAAI2C,WAAJ,KAAoBZ,IAAIY,WAA5B,EAAyC;AACvCjC,UAAE,KAAKC,GAAP,EAAYyB,cAAZ,CAA2B,gBAA3B,EAA6CpC,IAAI2C,WAAjD;AACD;AACF,KArCI;AAsCLC,yBAAqB,6BAAS5C,GAAT,EAAc+B,GAAd,EAAmB;AACtC,UAAI/B,OAAOA,QAAQ+B,GAAnB,EAAwB;AACtBrB,UAAE,KAAKC,GAAP,EAAYyB,cAAZ,CAA2B,mBAA3B,EAAgDpC,GAAhD;AACD;AACF;AA1CI,GAR4B;AAoDnCO,WAAS,mBAAU;AACjB,QAAIsC,QAAQ,IAAZ;AACA,QAAIZ,OAAO,EAAX;AACA,SAAKX,OAAL,CAAae,OAAb,CAAqB,UAASC,CAAT,EAAW;AAC9BL,cAAQ,oBAAoBK,EAAEd,KAAtB,GAA8B,IAA9B,GAAoCc,EAAEC,KAAtC,GAA6C,WAArD;AACD,KAFD;AAGA,QAAIO,aAAJ;AACA,QAAGC,OAAOC,UAAP,CAAkBC,QAAlB,CAA2BC,KAA3B,IAAoC,CAAvC,EAAyC;AACvCJ,aAAO,IAAP;AACD,KAFD,MAEK;AACHA,aAAO,IAAP;AACD;AACDpC,MAAE,KAAKC,GAAP,EAAYsB,IAAZ,CAAiBA,IAAjB;AACAvB,MAAE,KAAKC,GAAP,EAAYyB,cAAZ,CAA2B;AACzBe,cAAQ,IADiB;AAEzBC,aAAO,MAFkB;AAGzBC,gBAAU,MAHe;AAIzBV,mBAAa,KAAKD,QAAL,CAAcC,WAAd,IAA6B,OAAKG,IAJtB;AAKzBQ,qBAAe,IALU;AAMzBC,sBAAgB,KAAKb,QAAL,CAAca,cAAd,IAAgC,UAAQT,IAN/B;AAOzBU,qBAAe,UAPU;AAQzB1C,mBAAa,KAAK4B,QAAL,CAAc5B,WAAd,IAA6B,QAAMgC,IARvB;AASzBW,kBAAY,oBAASC,IAAT,EAAc;AACxB;AACAb,cAAMc,SAAN;AACD,OAZwB;AAazBC,oBAAc,wBAAU;AACtB;AACAf,cAAMc,SAAN;AACD,OAhBwB;AAiBzBE,eAAS,iBAASH,IAAT,EAAc;AACrB;AACAb,cAAMc,SAAN;AACD;AApBwB,KAA3B;;AAuBA,QAAI,QAAQ,KAAKnB,cAAjB,EAAiC;AAC/B9B,QAAE,KAAKC,GAAP,EAAYyB,cAAZ,CAA2B,UAA3B;AACD,KAFD,MAEK;AACH1B,QAAE,KAAKC,GAAP,EAAYyB,cAAZ,CAA2B,YAA3B;AACD;AACF,GA7FkC;AA8FnCrD,WAAS;AACP4E,eAAW,qBAAU;AACnB,UAAId,QAAQ,IAAZ;AACAA,YAAMiB,SAAN,CAAgB,YAAY;AAC1B;AACAjB,cAAMzB,KAAN,CAAY,iBAAZ,EAA+BV,EAAEmC,MAAMlC,GAAR,EAAayB,cAAb,CAA4B,YAA5B,CAA/B;AACD,OAHD;AAID;AAPM;AA9F0B,CAArC;;AAyGA;AACA;AACAjC,IAAIC,SAAJ,CAAc,uBAAd,EAAuC;AACrCC,SAAO,CAAC,OAAD,EAAU,UAAV,EAAsB,UAAtB,EAAkC,iBAAlC,CAD8B;AAErCC,kGAFqC;AAOrCuB,SAAO;AACLL,WAAO,iBAAU;AACf,UAAIuC,QAAQrD,EAAE,KAAKC,GAAP,EAAYgB,IAAZ,CAAiB,OAAjB,EAA0B/D,IAA1B,CAA+B,kBAA/B,CAAZ;AACAmG,YAAMC,QAAN,CAAe,KAAKxC,KAApB;AACD,KAJI;AAKLyC,qBAAiB,2BAAY;AAC3B,UAAI,KAAKA,eAAL,IAAwB,EAA5B,EAAgC;AAC9B,YAAIF,QAAQrD,EAAE,KAAKC,GAAP,EAAYgB,IAAZ,CAAiB,OAAjB,EAA0B/D,IAA1B,CAA+B,kBAA/B,CAAZ;AACAmG,cAAMG,UAAN,GAF8B,CAEV;AACrB;AACF;AAVI,GAP8B;AAmBrC3D,WAAS,mBAAU;AACjB,QAAIC,KAAK,IAAT;AACAE,MAAE,KAAKC,GAAP,EAAYgB,IAAZ,CAAiB,OAAjB,EAA0B3B,GAA1B,CAA8B,KAAKwB,KAAnC,EAA0C2C,gBAA1C,CAA2D;AACzDC,iBAAW1D,EAAE,KAAKC,GAAP,CAD8C;AAEzD0D,cAAQ,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,IAArC,EAA2C,IAA3C,EAAiD,IAAjD,EAAuD,IAAvD,EAA6D,KAA7D,EAAoE,KAApE,CAFiD;AAGzDC,YAAM,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,CAHmD;AAIzDC,uBAAiB,IAJwC;AAKzDC,yBAAmB,IALsC;AAMzDC,gBAAU,kBAASjD,KAAT,EAAgB;AACxBhB,WAAGY,KAAH,CAAS,QAAT,EAAmBI,KAAnB;AACD,OARwD;AASzDkD,eAAS,iBAAUlD,KAAV,EAAiB;AAAE;AAC1BA,gBAAQ,EAAR;AACAhB,WAAGY,KAAH,CAAS,OAAT,EAAkBI,KAAlB;AACD;AAZwD,KAA3D;AAcA,QAAIuC,QAAQrD,EAAE,KAAKC,GAAP,EAAYgB,IAAZ,CAAiB,OAAjB,EAA0B/D,IAA1B,CAA+B,kBAA/B,CAAZ;AACAmG,UAAMY,MAAN,CAAa;AACXC,iBAAW,CAACpE,GAAGqE,QAAJ,EAAcrE,GAAGsE,QAAjB;AADA,KAAb;AAGD;AAvCoC,CAAvC;;AA0CA;AACA;AACA3E,IAAIC,SAAJ,CAAc,kBAAd,EAAkC;AAChCC,SAAO,CAAC,YAAD,EAAe,gBAAf,EAAiC,aAAjC,EAAgD,UAAhD,EAA2D,cAA3D,CADyB;AAEhCC,y1BAFgC;AAWhC1C,QAAM,gBAAU;AACd,WAAO;AACLmH,iBAAW,KADN;AAELC,gBAAU,EAFL;AAGLC,mBAAa,EAHR;AAILC,kBAAY,EAJP;AAKLC,iBAAW,EALN;AAMLC,kBAAY,KANP,CAMa;AANb,KAAP;AAQD,GApB+B;AAqBhCvD,SAAO;AACLoD,iBAAa,uBAAU;AACrB,WAAK7D,KAAL,CAAW,aAAX,EAA0B,KAAK6D,WAA/B;AACD,KAHI;AAILD,cAAU,oBAAU;AAClB,WAAK5D,KAAL,CAAW,UAAX,EAAuB,KAAK4D,QAA5B;AACD,KANI;AAOLK,oBAAgB,0BAAU;AACxB,UAAI,KAAKA,cAAL,IAAuB,EAA3B,EAA+B;AAC7B;AACA,aAAKL,QAAL,GAAgB,EAAhB;AACA,aAAKC,WAAL,GAAmB,EAAnB;AACA,aAAKC,UAAL,GAAkB,EAAlB;AACA,aAAKC,SAAL,GAAiB,EAAjB;AACD;AACF;AAfI,GArByB;AAsChCpG,WAAS;AACPuG,oBAAgB,wBAASC,EAAT,EAAaC,IAAb,EAAkB;AAChC,UAAI3C,QAAQ,IAAZ;AACA;AACA,WAAKqC,UAAL,GAAkBM,IAAlB;AACA,WAAKP,WAAL,GAAmBM,GAAGE,SAAH,CAAa,CAAb,EAAgB,CAAhB,CAAnB;AACA,WAAKT,QAAL,GAAgBO,EAAhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAKJ,SAAL,GAAiB,EAAjB;AACD,KArBM;AAsBPO,kBAAc,wBAAU;AACtB,UAAI7C,QAAQ,IAAZ;AACE;AACF,UAAI,KAAKoC,WAAL,KAAqB,KAAKD,QAAL,CAAcS,SAAd,CAAwB,CAAxB,EAA2B,CAA3B,CAAzB,EAAwD;AACtD,aAAKT,QAAL,GAAgB,EAAhB;AACA,aAAKE,UAAL,GAAkB,EAAlB;AACA,aAAKS,UAAL,GAAkB,EAAlB;AACD;AACD,UAAIC,mBAAmB,EAAvB;AACA,UAAG,KAAKC,YAAR,EAAqB;AACnBD,2BAAmB,mBAAiB,KAAKC,YAAzC;AACD;AACD,WAAKC,wBAAL,GAAgC,IAAIC,IAAJ,GAAWC,OAAX,EAAhC;AACA,UAAIF,2BAA2B,KAAKA,wBAApC;AACA,UAAIzG,MAAM,CAAC0D,OAAOkD,cAAP,IAAuB,EAAxB,IAA4B,qCAA5B,GAAoE,KAAKhB,WAAzE,GAAqFW,gBAA/F;AACA,WAAKR,UAAL,GAAkB,IAAlB;AACA1E,QAAEwF,IAAF,CAAO;AACLvI,aAAK0B,GADA;AAEL8G,iBAAS,iBAASC,GAAT,EAAa;AACpB,cAAIN,4BAA4BjD,MAAMiD,wBAAtC,EAAgE;AAC9D;AACD;AACD,cAAGM,IAAIC,IAAJ,IAAU,CAAV,IAAeD,IAAIC,IAAJ,IAAU,OAA5B,EAAoC;AAClCxD,kBAAMsC,SAAN,GAAkBiB,IAAIxI,IAAtB;;AAEA,gBAAI,KAAKiF,MAAMsC,SAAN,CAAgBnD,MAAzB,EAAiC;AAC/Ba,oBAAMyC,cAAN,CAAqBzC,MAAMsC,SAAN,CAAgB,CAAhB,EAAmBH,QAAxC,EAAkDnC,MAAMsC,SAAN,CAAgB,CAAhB,EAAmBD,UAArE;AACD;AACF,WAND,MAMK;AACH;AACD;;AAEDxE,YAAE,cAAF,EAAkB4F,WAAlB,CAA8B,SAA9B;AACAzD,gBAAMuC,UAAN,GAAmB,KAAnB;AACD,SAlBI;AAmBLmB,eAAO,iBAAU;AACf7F,YAAE,cAAF,EAAkB4F,WAAlB,CAA8B,SAA9B;AACAzD,gBAAMuC,UAAN,GAAmB,KAAnB;AACD;AAtBI,OAAP;AAwBD;AA9DM;AAtCuB,CAAlC;AAuGA;AACAjF,IAAIC,SAAJ,CAAc,oBAAd,EAAoC;AAClCC,SAAO,CAAC,sBAAD,CAD2B;AAElCC,8QAFkC;AAQlC1C,QAAM,gBAAY;AAChB,WAAO,EAAP;AAGD,GAZiC;AAalCmB,WAAS;AACPyH,iBAAa,uBAAY;AACvB,UAAI,cAAc9F,EAAE,sBAAF,EAA0B+F,IAA1B,CAA+B,MAA/B,CAAlB,EAA0D;AACxD/F,UAAE,sBAAF,EAA0B+F,IAA1B,CAA+B,MAA/B,EAAuC,MAAvC;AACF/F,UAAE,oBAAF,EAAwB+F,IAAxB,CAA6B,KAA7B,EAAoC,yCAApC;AACC,OAHD,MAGO;AACL/F,UAAE,sBAAF,EAA0B+F,IAA1B,CAA+B,MAA/B,EAAuC,UAAvC;AACF/F,UAAE,oBAAF,EAAwB+F,IAAxB,CAA6B,KAA7B,EAAoC,yCAApC;AACC;AACF;AATM;AAbyB,CAApC;AAyBA;;AAGA;AACAtG,IAAIC,SAAJ,CAAc,oBAAd,EAAoC;AAClCsG,UAAQ,CAAC5H,WAAD,CAD0B;AAElCuB,SAAO,CAAC,MAAD,EAAS,KAAT,CAF2B;AAGlCC,4aAHkC;AAWlC1C,QAAM,gBAAU;AACd,WAAO,EAAP;AAGD,GAfiC;AAgBlCmB,WAAS;AACP4H,YAAQ,gBAASC,GAAT,EAAcC,IAAd,EAAmB;AACzB,WAAKzF,KAAL,CAAW,QAAX,EAAqB,CAACwF,IAAIC,KAAKtB,EAAT,CAAtB;AACD;AAHM;AAhByB,CAApC;;AAuBA;AACApF,IAAIC,SAAJ,CAAc,oBAAd,EAAoC;AAClCsG,UAAQ,CAAC5H,WAAD,CAD0B;AAElCuB,SAAO,CAAC,OAAD,EAAU,MAAV,EAAkB,KAAlB,CAF2B;AAGlCC,mtEAHkC;AAiClC1C,QAAM,gBAAU;AACd,WAAO,EAAP;AAID,GAtCiC;AAuClCmB,WAAS;AACP+H,mBAAe,uBAASF,GAAT,EAAcC,IAAd,EAAmB;AAChC,UAAIE,MAAM,KAAV;AACA,UAAIF,KAAKG,eAAT,EAA0B;AACxBD,cAAMH,IAAIC,KAAKG,eAAT,CAAN;AACD;AACD,aAAOD,GAAP;AACD,KAPM;AAQPE,gBAAY,oBAASL,GAAT,EAAcC,IAAd,EAAmB;AAC7B,WAAKA,KAAKK,UAAV,EAAsBN,GAAtB,EAA2BC,IAA3B;AACD,KAVM;AAWPM,mBAAe,uBAASnH,GAAT,EAAcoH,IAAd,EAAoBnI,GAApB,EAAwB;AACrC,aAAO,MAAM,KAAKmI,IAAL,EAAWC,IAAX,CAAgB,IAAhB,EAAsBrH,GAAtB,EAA2Bf,GAA3B,CAAN,GAAwC,GAA/C;AACD,KAbM;AAcPqI,0BAAsB,8BAASV,GAAT,EAAcC,IAAd,EAAmB;AACvC,UAAI,cAAcA,KAAKhJ,IAAnB,KAA4B,QAAQgJ,KAAKU,YAAb,IAA8B,QAAQV,KAAKU,YAAb,IAA6B,SAASX,IAAIY,OAApG,CAAJ,EAAqH;AACnH,eAAO,IAAP;AACD;AACD,aAAO,KAAP;AACD,KAnBM;AAoBPC,mBAAe,uBAASb,GAAT,EAAcC,IAAd,EAAmB;AAChCD,UAAIC,KAAKa,UAAL,CAAgBnC,EAApB,IAA0B,CAACqB,IAAIC,KAAKa,UAAL,CAAgBnC,EAApB,CAA3B;AACD,KAtBM;AAuBPoC,yBAAqB,6BAASf,GAAT,EAAcC,IAAd,EAAmB;AACtC;AACA,UAAI1H,aAAayH,IAAIC,KAAKa,UAAL,CAAgBnC,EAApB,CAAjB,EAA0C;AACxC,eAAO,EAAP;AACD;AACD,UAAI,KAAKqB,IAAIgB,QAAJ,CAAa5F,MAAtB,EAA8B;AAC5B,eAAO,EAAP;AACD;AACD,UAAI+E,MAAMF,KAAKa,UAAL,CAAgBG,KAAhB,IAAyB,EAAnC;AACA,UAAIjB,IAAIC,KAAKa,UAAL,CAAgBnC,EAApB,CAAJ,EAA6B;AAC3BwB,eAAO,MAAMF,KAAKa,UAAL,CAAgBI,SAA7B;AACD,OAFD,MAEK;AACHf,eAAO,MAAMF,KAAKa,UAAL,CAAgBK,UAA7B;AACD;AACD,aAAOhB,GAAP;AACD,KAtCM;AAuCPiB,WAAO,iBAAU;AACf,WAAK5G,KAAL,CAAW,OAAX,EAAoB,CAAC,KAAKI,KAA1B;AACD,KAzCM;AA0CPyG,kBAAc,sBAASrB,GAAT,EAAcC,IAAd,EAAmB;AAC/B,UAAIrF,QAAQoF,IAAIC,KAAKtB,EAAT,CAAZ;AACA,UAAKsB,KAAKtH,MAAL,IAAe,EAAhB,IAAwBsH,KAAKtH,MAAL,YAAuB2I,KAA/C,IAA0D,KAAKrB,KAAKtH,MAAL,CAAY,CAAZ,CAAL,aAAgC4I,QAA9F,EAAyG;AACvG;AACA,YAAIC,OAAO,CAAC5G,KAAD,EAAQ6G,MAAR,CAAexB,KAAKtH,MAAL,CAAY+I,KAAZ,CAAkB,CAAlB,CAAf,CAAX;AACA9G,gBAAQ,KAAKqF,KAAKtH,MAAL,CAAY,CAAZ,CAAL,EAAqBgJ,KAArB,CAA2B,IAA3B,EAAiCH,IAAjC,CAAR;AAED;AACD,UAAIvB,KAAK2B,IAAT,EAAe;AACb,eAAOhH,QAAQqF,KAAK2B,IAApB;AACD,OAFD,MAEK;AACH,eAAOhH,KAAP;AACD;AACF,KAvDM;AAwDPiH,kBAAc,sBAAS7B,GAAT,EAAcC,IAAd,EAAmB;AAC/B,UAAIrF,QAAQoF,IAAIC,KAAKtB,EAAT,CAAZ;AACA,UAAI,KAAK/D,KAAL,IAAc,KAAKA,KAAvB,EAA8B;AAC5B,eAAO,gCAAP;AACD,OAFD,MAEK;AACH,eAAO,kCAAP;AACD;AACF,KA/DM;AAgEPkH,mBAAe,uBAAS1I,GAAT,EAAa;AAC1B,UAAI,KAAKA,GAAL,IAAY,KAAKA,GAArB,EAA0B;AACxB,eAAO,IAAP;AACD;AACD,UAAI,KAAKA,GAAT,EAAc;AACZ,eAAO,IAAP;AACD;AACD,UAAI,CAAC,CAAD,IAAMA,GAAV,EAAe;AACb,eAAO,KAAP;AACD;AACF,KA1EM;AA2EP2I,6BAAyB,iCAAS3I,GAAT,EAAa;AACpC,UAAI,KAAKA,GAAL,IAAY,KAAKA,GAArB,EAA0B;AACxB,eAAO,IAAP;AACD;AACD,UAAI,KAAKA,GAAT,EAAc;AACZ,eAAO,IAAP;AACD;AACD,UAAI,CAAC,CAAD,IAAMA,GAAV,EAAe;AACb,eAAO,KAAP;AACD;AACF,KArFM;AAsFP4I,cAAU,kBAAShC,GAAT,EAAcC,IAAd,EAAmB;AAC3B,UAAIhE,QAAQ,IAAZ;AACA,UAAI,uBAAuBgG,OAAOC,SAAP,CAAiB1L,QAAjB,CAA0BiK,IAA1B,CAA+BxE,MAAMkG,KAAN,CAAYH,QAA3C,CAA3B,EAAiF;AAC/E/F,cAAMkG,KAAN,CAAYH,QAAZ,CAAqBhC,GAArB,EAA0BC,IAA1B;AACD;AACF,KA3FM;AA4FPmC,eAAW,mBAASpC,GAAT,EAAcC,IAAd,EAAmB;AAC5B,UAAIhE,QAAQ,IAAZ;AACA,UAAI,uBAAuBgG,OAAOC,SAAP,CAAiB1L,QAAjB,CAA0BiK,IAA1B,CAA+BxE,MAAMkG,KAAN,CAAYC,SAA3C,CAA3B,EAAkF;AAChFnG,cAAMkG,KAAN,CAAYC,SAAZ,CAAsBpC,GAAtB,EAA2BC,IAA3B;AACD;AACF,KAjGM;AAkGPoC,gBAAY,oBAASrC,GAAT,EAAcC,IAAd,EAAmB;AAC7B,UAAIrF,QAAQoF,IAAIC,KAAKtB,EAAT,CAAZ;AACA,UAAKsB,KAAKtH,MAAL,IAAe,EAAhB,IAAwBsH,KAAKtH,MAAL,YAAuB2I,KAA/C,IAA0D,KAAKrB,KAAKtH,MAAL,CAAY,CAAZ,CAAL,aAAgC4I,QAA9F,EAAyG;AACvG,YAAIC,OAAO,CAAC5G,KAAD,EAAQ6G,MAAR,CAAexB,KAAKtH,MAAL,CAAY+I,KAAZ,CAAkB,CAAlB,CAAf,CAAX;AACA9G,gBAAQ,KAAKqF,KAAKtH,MAAL,CAAY,CAAZ,CAAL,EAAqBgJ,KAArB,CAA2B,IAA3B,EAAiCH,IAAjC,CAAR;AACD;AACD,aAAO5G,KAAP;AACD;AAzGM;AAvCyB,CAApC;;AAoJA;AACArB,IAAIC,SAAJ,CAAc,iBAAd,EAAiC;AAC/BC,SAAO,CAAC,cAAD,CADwB;AAE/BC,6UAF+B;AAY/BvB,WAAS;AACPmK,mBAAe,yBAAY;AACzBxI,QAAE,KAAKC,GAAP,EAAYgB,IAAZ,CAAiB,MAAjB,EAAyBwH,IAAzB;AACD,KAHM;AAIPC,mBAAe,yBAAY;AACzB1I,QAAE,KAAKC,GAAP,EAAYgB,IAAZ,CAAiB,MAAjB,EAAyB0H,IAAzB;AACD;AANM;AAZsB,CAAjC;;AAsBA;AACAlJ,IAAIC,SAAJ,CAAc,eAAd,EAA+B;AAC7BsG,UAAQ,CAAC5H,WAAD,CADqB;AAE7BuB,SAAO,CAAC,KAAD,EAAQ,UAAR,EAAoB,KAApB,CAFsB;AAG7BC,o4GAH6B;AA2C7B1C,QAAM,gBAAU;AACd,WAAO,EAAP;AAGD,GA/C4B;AAgD7BmB,WAAS;AACPuK,gBAAY,oBAASC,MAAT,EAAgB;AAC1B,UAAIA,OAAOhL,MAAP,IAAiB,CAAjB,IAAsBgL,OAAOC,UAAP,IAAqB,IAA/C,EAAqD;AACnD,eAAO,IAAP;AACD,OAFD,MAEM,IAAGD,OAAOhL,MAAP,IAAiB,CAAjB,IAAsBgL,OAAOE,SAAP,IAAoB,IAA7C,EAAkD;AACtD,eAAO,IAAP;AACD,OAFK,MAED;AACH,eAAO,IAAP;AACD;AACF,KATM;AAUP9F,eAAW,mBAASrB,CAAT,EAAW;AACpB,WAAKlB,KAAL,CAAW,YAAX,EAAyBV,EAAE4B,EAAEoH,MAAJ,EAAY9H,IAAZ,CAAiB,SAAjB,CAAzB;AACD,KAZM;AAaP+H,sBAAkB,0BAAS/C,GAAT,EAAa;AAC7B,UAAI8C,SAAShJ,EAAE,KAAKC,GAAP,EAAYgB,IAAZ,CAAiB,0BAAjB,CAAb;AACA,UAAI,CAAC+H,OAAO9H,IAAP,CAAY,UAAZ,CAAL,EAA8B;AAC5B,YAAIJ,QAAQ,CAACkI,OAAO9H,IAAP,CAAY,SAAZ,CAAb;AACA8H,eAAO9H,IAAP,CAAY,SAAZ,EAAuBJ,KAAvB;AACA,aAAKJ,KAAL,CAAW,YAAX,EAAyBI,KAAzB;AACAoF,YAAIgD,WAAJ,GAAkBpI,KAAlB;AACD;AACF,KArBM;AAsBPqI,eAAW,mBAASvH,CAAT,EAAYsE,GAAZ,EAAgB;AACzB,UAAKlG,EAAE,KAAKC,GAAP,EAAYgB,IAAZ,CAAiB,yBAAjB,EAA4C,CAA5C,KAAkDW,EAAEoH,MAAzD,EAAkE;AAChE,aAAKC,gBAAL,CAAsB/C,GAAtB;AACD,OAFD,MAEK;AACHA,YAAIkD,cAAJ,GAAqB,CAAClD,IAAIkD,cAA1B;AACD;AACF,KA5BM;AA6BPC,mBAAe,uBAASzH,CAAT,EAAYsE,GAAZ,EAAgB;AAC7B,UAAIlG,EAAE4B,EAAEoH,MAAJ,EAAYM,EAAZ,CAAe,IAAf,CAAJ,EAA0B;AACxBpD,YAAIkD,cAAJ,GAAqB,CAAClD,IAAIkD,cAA1B;AACD;AACF,KAjCM;AAkCPG,WAAO,eAAS1E,EAAT,EAAahH,MAAb,EAAoB;AACzB,UAAIsE,QAAQ,IAAZ;AACA,UAAIqH,YAAY,KAAKtD,GAAL,CAASpB,IAAzB;AACA,UAAInG,MAAM,EAAV;AACA,UAAI,KAAK,KAAKuH,GAAL,CAASrI,MAAlB,EAA0B;AAAE;AAC1Bc,cAAM,IAAN;AACD,OAFD,MAEM,IAAG,KAAK,KAAKuH,GAAL,CAASrI,MAAjB,EAAwB;AAAE;AAC9Bc,cAAM,IAAN;AACD;;AAEDqB,QAAEyJ,OAAF,CAAU;AACRC,eAAO/K,MAAM,IADL;AAERgL,iBAAS,mKAEqFH,SAFrF,gCAEuG7K,GAFvG,yDAFD;AAORiL,mBAAW,IAPH;AAQRC,qBAAa,qBARL;AASRC,uBAAe,IATP;AAURC,4BAAoB,2BAVZ;AAWRN,iBAAS,mBAAU;AACjB,cAAIO,iBAAiB,IAArB;AACA7H,gBAAM8H,UAAN,CAAiBpF,EAAjB,EAAqBmF,cAArB,EAAqCnM,MAArC;AACA,iBAAO,KAAP;AACD,SAfO;AAgBRqM,sBAAc;AAhBN,OAAV;AAkBD,KA9DM;AA+DPD,gBAAY,oBAASpF,EAAT,EAAamF,cAAb,EAA6BnM,MAA7B,EAAoC;AAC9C,UAAIsE,QAAQ,IAAZ;AACAnC,QAAEwF,IAAF,CAAO;AACLvI,aAAK,6BADA;AAELE,cAAM,MAFD;AAGLD,cAAM;AACJiN,oBAAUtF,EADN;AAEJhH,kBAAQA;AAFJ,SAHD;AAOL4H,iBAAS,uBAA2B;AAAA,cAAjBE,IAAiB,QAAjBA,IAAiB;AAAA,cAAXyE,GAAW,QAAXA,GAAW;AAAA,cAANlN,IAAM,QAANA,IAAM;;AAClC,cAAI,KAAKyI,IAAT,EAAe;AACb3F,cAAEqK,QAAF,CAAW,MAAX;AACAL,2BAAeM,KAAf;AACAnI,kBAAMkG,KAAN,CAAYkC,UAAZ,CAAuB,IAAvB;AACD,WAJD,MAIK;AACHvK,cAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,SAfI;AAgBLvE,eAAO,iBAAU;AACf7F,YAAEwK,UAAF;AACD;AAlBI,OAAP;AAoBD,KArFM;AAsFPC,cAAU,kBAAS5F,EAAT,EAAY;AACpB,UAAI1C,QAAQ,IAAZ;AACA,UAAIqH,YAAY,KAAKtD,GAAL,CAASpB,IAAzB;AACA,UAAI4F,UAAU,KAAKC,GAAL,CAAS7F,IAAvB;;AAEA9E,QAAEyJ,OAAF,CAAU;AACRC,eAAO,KADC;AAERC,iBAAS,mKAEqFH,SAFrF,kDAE2GkB,OAF3G,mDAFD;AAORd,mBAAW,IAPH;AAQRC,qBAAa,qBARL;AASRC,uBAAe,IATP;AAURC,4BAAoB,2BAVZ;AAWRN,iBAAS,mBAAU;AACjB,cAAIO,iBAAiB,IAArB;AACA7H,gBAAMyI,aAAN,CAAoB/F,EAApB,EAAwBmF,cAAxB;AACA,iBAAO,KAAP;AACD,SAfO;AAgBRE,sBAAc;AAhBN,OAAV;AAkBD,KA7GM;AA8GPU,mBAAe,uBAAS/F,EAAT,EAAamF,cAAb,EAA4B;AACzC,UAAI7H,QAAQ,IAAZ;AACAnC,QAAEwF,IAAF,CAAO;AACLvI,aAAK,qCADA;AAELE,cAAM,MAFD;AAGLD,cAAM;AACJiN,oBAAUtF;AADN,SAHD;AAMLY,iBAAS,wBAA2B;AAAA,cAAjBE,IAAiB,SAAjBA,IAAiB;AAAA,cAAXyE,GAAW,SAAXA,GAAW;AAAA,cAANlN,IAAM,SAANA,IAAM;;AAClC,cAAI,KAAKyI,IAAT,EAAe;AACb3F,cAAEqK,QAAF,CAAW,MAAX;AACAL,2BAAeM,KAAf;AACAnI,kBAAMkG,KAAN,CAAYkC,UAAZ,CAAuB,IAAvB;AACD,WAJD,MAIK;AACHvK,cAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,SAdI;AAeLvE,eAAO,iBAAU;AACf7F,YAAEwK,UAAF;AACD;AAjBI,OAAP;AAmBD;AAnIM,GAhDoB;AAqL7BK,YAAS;AACPC,SADO,mBACA;AACL,UAAG,KAAK5E,GAAL,CAASrI,MAAT,IAAmB,CAAtB,EAAwB;AACtB,eAAO;AACLkN,iBAAM;AADD,SAAP;AAGD;AACD,UAAG,KAAK7E,GAAL,CAASrI,MAAT,IAAmB,CAAtB,EAAwB;AACtB,eAAO;AACLkN,iBAAM;AADD,SAAP;AAGD;AACF;AAZM;AArLoB,CAA/B;;AAsMAtL,IAAIC,SAAJ,CAAc,qBAAd,EAAoC;AAClCC,SAAM,CAAC,KAAD,CAD4B;AAElCzC,MAFkC,kBAE5B;AACJ;AACA,WAAO;AACL4D,aAAM,KAAKoF,GAAL,CAASpB,IADV;AAELkG,yBAAkB;;AAFb,KAAP;AAKD,GATiC;;AAUlCpL,85BAVkC;AAuBlCuB,SAAM;AACJ+E,OADI,eACAA,IADA,EACI;AACN,WAAKpF,KAAL,GAAa,KAAKoF,GAAL,CAASpB,IAAtB;AACD;AAHG,GAvB4B;AA4BlCzG,WAAQ;AACN8K,aADM,qBACI8B,MADJ,EACW/E,GADX,EACe;AACnB,WAAKgF,OAAL,CAAa/B,SAAb,CAAuB8B,MAAvB,EAA8B/E,GAA9B;AACD,KAHK;;AAINiF,qBAAgB,2BAAU;AACxB,WAAKH,iBAAL,GAAyB,IAAzB;AACA,WAAKlK,KAAL,GAAa,KAAKoF,GAAL,CAASpB,IAAtB;AACA,WAAKuD,KAAL,CAAW+C,MAAX,GAAoB,KAApB,CAHwB,CAGE;AAC3B,KARK;AASNC,UATM,oBASE;AACN,WAAKL,iBAAL,GAAyB,KAAzB;AACA,WAAK3C,KAAL,CAAW+C,MAAX,GAAoB,IAApB,CAFM,CAEmB;AAC1B,KAZK;;AAaNE,UAAK,gBAAU;AACb,UAAInJ,QAAQ,IAAZ;AACA,UAAG,KAAKrB,KAAL,IAAc,EAAjB,EAAoB;AAClBd,UAAEqK,QAAF,CAAW,UAAX;AACA;AACD;AACD,UAAIkB,YAAY;AACdpB,kBAAS,KAAKjE,GAAL,CAASrB,EADJ;AAEd2G,oBAAW,KAAK1K;AAFF,OAAhB;AAIA,UAAI2K,YAAY,MAAhB;AACA;AACAzL,QAAEwF,IAAF,CAAO;AACLvI,aAAK,sCADA;AAELC,cAAMqO,SAFD;AAGLpO,cAAMsO,SAHD;AAILhG,iBAAS,wBAA2B;AAAA,cAAjBE,IAAiB,SAAjBA,IAAiB;AAAA,cAAXyE,GAAW,SAAXA,GAAW;AAAA,cAANlN,IAAM,SAANA,IAAM;;AAClC,cAAI,KAAKyI,IAAT,EAAe;AACb3F,cAAEqK,QAAF,CAAW,MAAX;AACAlI,kBAAM6I,iBAAN,GAA0B,KAA1B;AACA7I,kBAAM+D,GAAN,CAAUpB,IAAV,GAAgB3C,MAAMrB,KAAtB;AACAqB,kBAAMzB,KAAN,CAAY,cAAZ,EAA4ByB,MAAMuJ,UAAlC;AACAvJ,kBAAMkG,KAAN,CAAYsD,aAAZ;AACAxJ,kBAAMkG,KAAN,CAAYuD,cAAZ;AACD,WAPD,MAOK;AACH5L,cAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,SAfI;AAgBLvE,eAAO,iBAAU;AACf7F,YAAEqK,QAAF,CAAW,UAAX;AACD;AAlBI,OAAP;AAoBD;AA7CK;;AA5B0B,CAApC;;AA+EA;AACA,IAAIwB,wBAAwB,EAACC,aAAa,EAAd,EAA5B;AACArM,IAAIC,SAAJ,CAAc,kBAAd,EAAkC;AAChCC,SAAO,CAAC,aAAD,EAAgB,SAAhB,EAA2B,YAA3B,EAAyC,WAAzC,EAAsD,UAAtD,CADyB;AAEhCC,sFAFgC;AAKhC1C,QAAM,gBAAU;AACd,WAAO2O,qBAAP;AACD,GAP+B;AAQhChM,WAAS,mBAAU;AACjB;AACD,GAV+B;AAWhCxB,WAAS;AACP0N,iBAAa,qBAASC,QAAT,EAAkB;AAC7B,UAAI7J,QAAQ,IAAZ;AACAnC,QAAEwF,IAAF,CAAO;AACLrI,cAAM,KADD;AAELF,aAAK,wBAFA;AAGLwI,iBAAS,wBAA2B;AAAA,cAAjBE,IAAiB,SAAjBA,IAAiB;AAAA,cAAXyE,GAAW,SAAXA,GAAW;AAAA,cAANlN,IAAM,SAANA,IAAM;;AAClC,cAAI,KAAKyI,IAAT,EAAe;AACb3F,cAAEwF,IAAF,CAAO;AACLrI,oBAAM,KADD;AAELF,mBAAK,0BAFA;AAGLwI,uBAAS,wBAA2B;AAAA,oBAAjBE,IAAiB,SAAjBA,IAAiB;AAAA,oBAAXyE,GAAW,SAAXA,GAAW;AAAA,oBAANlN,IAAM,SAANA,IAAM;;AAClC,oBAAI,KAAKyI,IAAT,EAAe;AACbxD,wBAAM2J,WAAN,GAAoB5O,IAApB;;AAEA,sBAAIiL,OAAOC,SAAP,CAAiB1L,QAAjB,CAA0BiK,IAA1B,CAA+BqF,QAA/B,MAA6C,mBAAjD,EAAsE;AACpEA,6BAASnE,KAAT,CAAe,IAAf,EAAqB3K,IAArB;AACD;AACF,iBAND,MAMK;AACH8C,oBAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,eAbI;AAcLvE,qBAAO,iBAAU;AACf7F,kBAAEqK,QAAF,CAAW,UAAX;AACD;AAhBI,aAAP;AAkBD,WAnBD,MAmBK;AACHrK,cAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,SA1BI;AA2BLvE,eAAO,iBAAU;AACf7F,YAAEwK,UAAF;AACD;AA7BI,OAAP;AA+BD,KAlCM;AAmCPyB,qBAAiB,yBAASjC,cAAT,EAAwB;AACvC,UAAI7H,QAAQ,IAAZ;AACA,UAAIgI,WAAWnK,EAAE,eAAF,EAAmB+F,IAAnB,CAAwB,aAAxB,CAAf;AACA,UAAIjB,OAAO9E,EAAE,eAAF,EAAmBV,GAAnB,EAAX;AACA,UAAI4M,eAAelM,EAAE,uBAAF,EAA2BV,GAA3B,EAAnB;AACAU,QAAEwF,IAAF,CAAO;AACLvI,aAAK,uCADA;AAELE,cAAM,MAFD;AAGLD,cAAM;AACJiN,oBAAUA,QADN;AAEJrF,gBAAMA,IAFF;AAGJoH,wBAAcA;AAHV,SAHD;AAQLzG,iBAAS,wBAA2B;AAAA,cAAjBE,IAAiB,SAAjBA,IAAiB;AAAA,cAAXyE,GAAW,SAAXA,GAAW;AAAA,cAANlN,IAAM,SAANA,IAAM;;AAClC,cAAI,KAAKyI,IAAT,EAAe;AACb3F,cAAEqK,QAAF,CAAW,MAAX;AACA;AACAlI,kBAAMkG,KAAN,CAAY8D,cAAZ;AACAnC,2BAAeM,KAAf;AACD,WALD,MAKK;AACHtK,cAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,SAjBI;AAkBLvE,eAAO,iBAAU;AACf7F,YAAEqK,QAAF,CAAW,UAAX;AACD;AApBI,OAAP;AAsBD,KA9DM;AA+DP+B,cAAS,oBAAU;AACjB,UAAIjK,QAAQ,IAAZ;AACA,UAAIgG,OAAOkE,IAAP,CAAY,KAAKP,WAAjB,EAA8BxK,MAA9B,GAAuC,CAA3C,EAA8C;AAC5Ca,cAAMmK,QAAN;AACD,OAFD,MAEK;AACH,aAAKP,WAAL,CAAiB,YAAU;AACzB5J,gBAAMmK,QAAN;AACD,SAFD;AAGD;AACF,KAxEM;AAyEPA,cAAU,oBAAU;AAClB,UAAInK,QAAQ,IAAZ;AACA,UAAIoK,eAAe,EAAnB;AACApE,aAAOkE,IAAP,CAAY,KAAKP,WAAjB,EAA8BnK,OAA9B,CAAsC,UAASC,CAAT,EAAW;AAC/C,YAAIO,MAAMqK,UAAN,IAAoB5K,CAAxB,EAA2B;AACzB2K,0BAAgB,wCAAuC3K,CAAvC,GAA0C,IAA1C,GAAgDO,MAAM2J,WAAN,CAAkBlK,CAAlB,CAAhD,GAAsE,WAAtF;AACD,SAFD,MAEK;AACH2K,0BAAgB,oBAAmB3K,CAAnB,GAAsB,IAAtB,GAA4BO,MAAM2J,WAAN,CAAkBlK,CAAlB,CAA5B,GAAkD,WAAlE;AACD;AACF,OAND;AAOA,UAAI6K,WAAW,EAAf;AACA,UAAIC,cAAc,EAAlB;AACA,UAAI,KAAKC,QAAT,EAAmB;AACjBF,mBAAW,iBAAX;AACAC,sBAAc,UAAd;AACD;AACD1M,QAAEyJ,OAAF,CAAU;AACRC,eAAO,OADC;AAERC,iBAAS,gUAKgE,KAAKiD,SALrE,iBAK2F,KAAKC,OALhG,wMASUJ,QATV,uDASuEC,WATvE,8BAS8GH,YAT9G,qFAFD;AAgBR3C,mBAAW,IAhBH;AAiBRC,qBAAa,qBAjBL;AAkBRC,uBAAe,IAlBP;AAmBRC,4BAAoB,2BAnBZ;AAoBRN,iBAAS,mBAAU;AACjB,cAAIO,iBAAiB,IAArB;AACA7H,gBAAM8J,eAAN,CAAsBjC,cAAtB;AACA,iBAAO,KAAP;AACD,SAxBO;AAyBRE,sBAAc;AAzBN,OAAV;;AA4BAlK,QAAE,cAAF,EAAkB8M,GAAlB,GAAwBC,EAAxB,CAA2B,OAA3B,EAAoC,oBAApC,EAA0D,YAAU;AAClEC,sBAAc,UAAS9P,IAAT,EAAc;AAC1BiF,gBAAM4J,WAAN,CAAkB,YAAU;AAC1B,gBAAIkB,UAAU/P,KAAK+P,OAAnB;;AAEA,gBAAIV,eAAe,EAAnB;AACApE,mBAAOkE,IAAP,CAAYlK,MAAM2J,WAAlB,EAA+BnK,OAA/B,CAAuC,UAASC,CAAT,EAAW;AAChD2K,8BAAgB,oBAAmB3K,CAAnB,GAAsB,IAAtB,GAA4BO,MAAM2J,WAAN,CAAkBlK,CAAlB,CAA5B,GAAkD,WAAlE;AACD,aAFD;;AAIA5B,cAAE,iBAAF,EAAqBkN,KAArB,GAA6B3L,IAA7B,CAAkCgL,YAAlC,EAAgDjN,GAAhD,CAAoD2N,OAApD;AACD,WATD;AAUD,SAXD;AAYD,OAbD;AAcD;AAnIM;AAXuB,CAAlC;;AAkJA;AACAxN,IAAIC,SAAJ,CAAc,mBAAd,EAAmC;AACjCsG,UAAQ,CAAC5H,WAAD,CADyB;AAEjCuB,SAAO,CAAC,SAAD,EAAY,UAAZ,EAAwB,cAAxB,EAAwC,KAAxC,EAA+C,QAA/C,CAF0B;AAGjCzC,QAAM,gBAAU;AACd,WAAO;AACLiQ,cAAQ9K,OAAOkD,cADV;AAEL6H,kBAAW,KAAKC;AAFX,KAAP;AAID,GARgC;AASjClM,SAAM;AACJkM,WADI,qBACK;AACP,WAAKD,UAAL,GAAkB,KAAKC,OAAvB;AACD;AAHG,GAT2B;AAcjCzN,qhKAdiC;AAoEjCvB,WAAS;AACPiP,iBAAa,qBAASzE,MAAT,EAAgB;AAC3B,UAAIpK,aAAa,KAAKgE,MAAtB,EAA8B;AAC5B,eAAO,IAAP;AACD;AACD,UAAI,SAAS,KAAKA,MAAlB,EAA0B;AACxB,eAAO,IAAP;AACD,OAFD,MAEM,IAAG,aAAa,KAAKA,MAArB,EAA4B;AAChC,YAAGoG,OAAOhL,MAAP,IAAiB,CAAjB,IAAsBgL,OAAOC,UAAP,IAAqB,IAA9C,EAAmD;AACjD,iBAAO,IAAP;AACD;AACD,eAAO,KAAP;AACD,OALK,MAKA,IAAG,cAAc,KAAKrG,MAAtB,EAA6B;AACjC,YAAGoG,OAAOhL,MAAP,IAAiB,CAAjB,IAAsBgL,OAAOE,SAAP,IAAoB,IAA7C,EAAkD;AAChD,iBAAO,IAAP;AACD;AACD,eAAO,KAAP;AACD;AACD,aAAO,KAAP;AACD,KAnBM;AAoBPH,gBAAY,oBAASC,MAAT,EAAgB;AAC1B,UAAIA,OAAOhL,MAAP,IAAiB,CAAjB,IAAsBgL,OAAOC,UAAP,IAAqB,IAA/C,EAAqD;AACnD,eAAO,IAAP;AACD,OAFD,MAEM,IAAGD,OAAOhL,MAAP,IAAiB,CAAjB,IAAsBgL,OAAOE,SAAP,IAAoB,IAA7C,EAAkD;AACtD,eAAO,IAAP;AACD,OAFK,MAED;AACH,eAAO,IAAP;AACD;AACF,KA5BM;AA6BPE,sBAAkB,0BAASrH,CAAT,EAAYsE,GAAZ,EAAgB;AAChC,UAAIlG,EAAE4B,EAAEoH,MAAJ,EAAYM,EAAZ,CAAe,IAAf,CAAJ,EAA0B;AACxB,YAAIN,SAAShJ,EAAE4B,EAAEoH,MAAJ,EAAYuE,OAAZ,CAAoB,IAApB,EAA0BtM,IAA1B,CAA+B,OAA/B,CAAb;AACA,YAAI,CAAC+H,OAAO9H,IAAP,CAAY,UAAZ,CAAL,EAA8B;AAC5BgF,cAAIgD,WAAJ,GAAkB,CAAChD,IAAIgD,WAAvB;AACD;AACF;AACF,KApCM;AAqCPK,WAAO,eAAS1E,EAAT,EAAahH,MAAb,EAAqBiH,IAArB,EAA2B+D,MAA3B,EAAkC;AACvC,UAAI1G,QAAQ,IAAZ;AACA,UAAIqH,YAAY1E,IAAhB;AACA,UAAInG,MAAM,EAAV;AACA,UAAI,KAAKkK,OAAOhL,MAAhB,EAAwB;AAAE;AACxBc,cAAM,IAAN;AACD,OAFD,MAEM,IAAG,KAAKkK,OAAOhL,MAAf,EAAsB;AAAE;AAC5Bc,cAAM,IAAN;AACD;AACDqB,QAAEyJ,OAAF,CAAU;AACRC,eAAO/K,MAAM,IADL;AAERgL,iBAAS,mKAEqFH,SAFrF,gCAEuG7K,GAFvG,yDAFD;AAORiL,mBAAW,IAPH;AAQRC,qBAAa,qBARL;AASRC,uBAAe,IATP;AAURC,4BAAoB,2BAVZ;AAWRN,iBAAS,mBAAU;AACjB,cAAIO,iBAAiB,IAArB;AACA7H,gBAAM8H,UAAN,CAAiBpF,EAAjB,EAAqBmF,cAArB,EAAqCnM,MAArC;AACA,iBAAO,KAAP;AACD,SAfO;AAgBRqM,sBAAc;AAhBN,OAAV;AAkBD,KAhEM;AAiEPD,gBAAY,oBAASpF,EAAT,EAAamF,cAAb,EAA6BnM,MAA7B,EAAoC;AAC9C,UAAIsE,QAAQ,IAAZ;AACAnC,QAAEwF,IAAF,CAAO;AACLvI,aAAK,6BADA;AAELE,cAAM,MAFD;AAGLD,cAAM;AACJsQ,sBAAY3I,EADR;AAEJhH,kBAAQA;AAFJ,SAHD;AAOL4H,iBAAS,wBAA2B;AAAA,cAAjBE,IAAiB,SAAjBA,IAAiB;AAAA,cAAXyE,GAAW,SAAXA,GAAW;AAAA,cAANlN,IAAM,SAANA,IAAM;;AAClC,cAAI,KAAKyI,IAAT,EAAe;AACb3F,cAAEqK,QAAF,CAAW,MAAX;AACAL,2BAAeM,KAAf;AACAnI,kBAAMkG,KAAN,CAAYkC,UAAZ,CAAuB,IAAvB;AACD,WAJD,MAIK;AACHvK,cAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,SAfI;AAgBLvE,eAAO,iBAAU;AACf7F,YAAEwK,UAAF;AACD;AAlBI,OAAP;AAoBD,KAvFM;AAwFPiD,cAAU,kBAAS5I,EAAT,EAAY;AACpB6I,eAASC,IAAT,GAAgBtL,OAAOkD,cAAP,GAAwB,uCAAxB,GAAkEV,EAAlF;AACD,KA1FM;AA2FP4F,cAAU,kBAAS5F,EAAT,EAAaC,IAAb,EAAkB;AAC1B,UAAI3C,QAAQ,IAAZ;AACA,UAAIqH,YAAY1E,IAAhB;AACA,UAAI4F,UAAU,KAAKC,GAAL,CAAS7F,IAAvB;AACA9E,QAAEyJ,OAAF,CAAU;AACRC,eAAO,IADC;AAERC,iBAAS,mKAEqFH,SAFrF,4CAE0GkB,OAF1G,mDAFD;AAORd,mBAAW,IAPH;AAQRC,qBAAa,qBARL;AASRC,uBAAe,IATP;AAURC,4BAAoB,2BAVZ;AAWRN,iBAAS,mBAAU;AACjB,cAAIO,iBAAiB,IAArB;AACA7H,gBAAMyI,aAAN,CAAoB/F,EAApB,EAAwBmF,cAAxB;AACA,iBAAO,KAAP;AACD,SAfO;AAgBRE,sBAAc;AAhBN,OAAV;AAkBD,KAjHM;AAkHPU,mBAAe,uBAAS/F,EAAT,EAAamF,cAAb,EAA4B;AACzC,UAAI7H,QAAQ,IAAZ;AACAnC,QAAEwF,IAAF,CAAO;AACLvI,aAAK,qCADA;AAELE,cAAM,MAFD;AAGLD,cAAM;AACJsQ,sBAAY3I;AADR,SAHD;AAMLY,iBAAS,wBAA2B;AAAA,cAAjBE,IAAiB,SAAjBA,IAAiB;AAAA,cAAXyE,GAAW,SAAXA,GAAW;AAAA,cAANlN,IAAM,SAANA,IAAM;;AAClC,cAAI,KAAKyI,IAAT,EAAe;AACb3F,cAAEqK,QAAF,CAAW,MAAX;AACAL,2BAAeM,KAAf;AACAnI,kBAAMkG,KAAN,CAAYkC,UAAZ,CAAuB,IAAvB;AACD,WAJD,MAIK;AACHvK,cAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,SAdI;AAeLvE,eAAO,iBAAU;AACf7F,YAAEwK,UAAF;AACD;AAjBI,OAAP;AAmBD,KAvIM;AAwIPM,SAxIO,iBAwIDjC,MAxIC,EAwIM;AACX,UAAGA,OAAOhL,MAAP,IAAiB,CAApB,EAAsB;AACpB,eAAO;AACLkN,iBAAM;AADD,SAAP;AAGD;AACD,UAAGlC,OAAOhL,MAAP,IAAiB,CAApB,EAAsB;AACpB,eAAO;AACLkN,iBAAM;AADD,SAAP;AAGD;AACF,KAnJM;AAoJP6C,WApJO,qBAoJE,CACR,CArJM;AAsJPC,UAtJO,yBAsJmC;AAAA,UAAjCC,cAAiC,SAAjCA,cAAiC;AAAA,UAAjBC,cAAiB,SAAjBA,cAAiB;;;AAEtC,UAAMC,iBAAiBF,eAAeG,OAAtC;AACA,UAAMC,iBAAiBH,eAAeE,OAAtC;AACA,aAAO,CAAC,CAACD,cAAD,IAAmB,CAACA,eAAeG,KAApC,KAA8C,CAACD,eAAeC,KAArE;AACF;AACD,KA5JM;AA6JPC,SA7JO,yBA6JqB;AAAA,UAApBC,QAAoB,UAApBA,QAAoB;AAAA,UAAVC,QAAU,UAAVA,QAAU;;AAC1B,WAAKC,uBAAL;AACD,KA/JM;AAgKPA,2BAhKO,qCAgKkB;AACvB,UAAIC,OAAO,IAAX;AACA,UAAIC,iBAAiB,EAArB;AACA,WAAKrB,UAAL,CAAgBzL,OAAhB,CAAwB,UAACC,CAAD,EAAK;AAC3B,YAAG,CAACA,CAAJ,EAAM;AACJ;AACD;AACD6M,uBAAeC,IAAf,CAAoB9M,EAAEiD,EAAtB;AACD,OALD;;AAOA,UAAI8J,eAAe,EAAnB;AACA,UAAGH,KAAK7D,GAAR,EAAY;AACVgE,uBAAeH,KAAK7D,GAAL,CAAS9F,EAAxB;AACD;AACD4J,uBAAiBA,eAAeG,IAAf,CAAoB,GAApB,CAAjB;AACA5O,QAAEwF,IAAF,CAAO;AACLvI,aAAK,6CADA;AAELE,cAAM,KAFD;AAGLD,cAAM;AACJsQ,sBAAWiB,cADP;AAEJE,wBAAaA;AAFT;AAHD,OAAP,EAQCE,IARD,CAQM,UAASnJ,GAAT,EAAc,CACnB,CATD,EAUCoJ,IAVD,CAUM,YAAW,CAChB,CAXD,EAYCC,MAZD,CAYQ,YAAW,CAClB,CAbD;AAeD;AA9LM,GApEwB;AAoQjClE,YAAS;AACPmE,iBAAa,uBAAY;AACvB,aAAQ;AACNC,mBAAW,GADL;AAENC,gBAAQ,IAFF;AAGNC,2BAAmB,GAHb;AAIN;AACA1C,kBAAU,CAAC,KAAKpE,KAAL,CAAW+C,MALhB,EAKwB;AAC9BgE,gBAAQ,cANF;AAONC,oBAAY;AAPN,OAAR;AASD;AAXM;AApQwB,CAAnC;;AAmRA;AACA5P,IAAIC,SAAJ,CAAc,iBAAd,EAAiC;AAC/BsG,UAAQ,CAAC5H,WAAD,CADuB;AAE/BuB,SAAO,CAAC,eAAD,EAAkB,UAAlB,EAA8B,QAA9B,EAAwC,QAAxC,CAFwB;AAG/BC,u6QAH+B;AA+H/B1C,QAAM,gBAAU;AACd,WAAO,EAAP;AAGD,GAnI8B;AAoI/BmB,WAAS;AACPiR,qBAAiB,yBAASpS,IAAT,EAAc;AAC7B,UAAImJ,MAAM,KAAV;AACA,UAAI,SAAS,KAAK5D,MAAlB,EAA0B;AACxB4D,cAAM,IAAN;AACD,OAFD,MAEM,IAAG,aAAa,KAAK5D,MAArB,EAA4B;AAChCvF,aAAKyE,OAAL,CAAa,UAASC,CAAT,EAAW;AACtB,cAAIA,EAAE/D,MAAF,IAAY,CAAZ,IAAiB,QAAQ+D,EAAEkH,UAA/B,EAA2C;AACzCzC,kBAAM,IAAN;AACD;AACF,SAJD;AAKD,OANK,MAMA,IAAG,cAAc,KAAK5D,MAAtB,EAA6B;AACjCvF,aAAKyE,OAAL,CAAa,UAASC,CAAT,EAAW;AACtB,cAAIA,EAAE/D,MAAF,IAAY,CAAZ,IAAiB,QAAQ+D,EAAEmH,SAA/B,EAA0C;AACxC1C,kBAAM,IAAN;AACD;AACF,SAJD;AAKD;;AAED,aAAOA,GAAP;AACD,KApBM;AAqBPiH,iBAAa,qBAASzE,MAAT,EAAgB;AAC3B,UAAI,SAAS,KAAKpG,MAAlB,EAA0B;AACxB,eAAO,IAAP;AACD,OAFD,MAEM,IAAG,aAAa,KAAKA,MAArB,EAA4B;AAChC,YAAGoG,OAAOhL,MAAP,IAAiB,CAAjB,IAAsBgL,OAAOC,UAAP,IAAqB,IAA9C,EAAmD;AACjD,iBAAO,IAAP;AACD;AACD,eAAO,KAAP;AACD,OALK,MAKA,IAAG,cAAc,KAAKrG,MAAtB,EAA6B;AACjC,YAAGoG,OAAOhL,MAAP,IAAiB,CAAjB,IAAsBgL,OAAOE,SAAP,IAAoB,IAA7C,EAAkD;AAChD,iBAAO,IAAP;AACD;AACD,eAAO,KAAP;AACD;;AAED,aAAO,KAAP;AACD,KArCM;AAsCPwG,wBAAoB,4BAAS9O,CAAT,EAAW;AAC7BA,QAAE+O,YAAF,GAAiB,CAAC/O,EAAE+O,YAApB;AACD,KAxCM;AAyCP/B,cAAU,kBAAShN,CAAT,EAAYtD,IAAZ,EAAiB;AACzB;AACA,UAAIA,IAAJ,EAAU;AACRuQ,iBAASC,IAAT,GAAgB,KAAKR,MAAL,GAAc,WAAd,GAA2BhQ,IAA3B,GAAiC,cAAjC,GAAkDsD,CAAlE;AACD,OAFD,MAEK;AACHiN,iBAASC,IAAT,GAAgB,KAAKR,MAAL,GAAc,uCAAd,GAAwD1M,CAAxE;AACD;AACF,KAhDM;AAiDPgP,gBAAY,oBAAShP,CAAT,EAAW;AACrB,aAAO,KAAKA,CAAZ;AACD,KAnDM;AAoDPiP,eAAW,mBAASjP,CAAT,EAAW;AACpB,aAAO,KAAKA,CAAZ;AACD,KAtDM;AAuDPkP,oBAAgB,0BAAU;AACxB,aAAOrN,WAAWsN,OAAX,CAAmBC,IAAnB,CAAwB,UAASjO,CAAT,EAAW;AACxC,eAAOA,KAAK,CAAZ;AACD,OAFM,CAAP;AAGD,KA3DM;AA4DPkO,aAAS,iBAASrP,CAAT,EAAW;AAClBiN,eAASC,IAAT,GAAgB,KAAKR,MAAL,GAAc,eAAd,GAAgC1M,CAAhD;AACD,KA9DM;AA+DPsP,uBAAmB,2BAASlL,EAAT,EAAY;AAC7B,UAAI,MAAMmL,IAAN,CAAWnL,EAAX,CAAJ,EAAoB;AAClB,eAAO,MAAP;AACD,OAFD,MAEK;AACH,eAAO,IAAP;AACD;AACF,KArEM;AAsEP5B,eAAW,mBAAS/F,IAAT,EAAe4D,KAAf,EAAqB;AAC9B5D,WAAK+S,aAAL,IAAsB/S,KAAK+S,aAAL,CAAmBtO,OAAnB,CAA2B,UAASC,CAAT,EAAW;AAC1DA,UAAEsH,WAAF,GAAgBpI,KAAhB;AACAc,UAAEqO,aAAF,IAAmBrO,EAAEqO,aAAF,CAAgBtO,OAAhB,CAAwB,UAASuO,EAAT,EAAY;AACrDA,aAAGhH,WAAH,GAAiBpI,KAAjB;AACD,SAFkB,CAAnB;AAGD,OALqB,CAAtB;AAMA5D,WAAKiT,WAAL,IAAoBjT,KAAKiT,WAAL,CAAiBxO,OAAjB,CAAyB,UAASC,CAAT,EAAW;AACtDA,UAAEsH,WAAF,GAAgBpI,KAAhB;AACAc,UAAEqO,aAAF,IAAmBrO,EAAEqO,aAAF,CAAgBtO,OAAhB,CAAwB,UAASuO,EAAT,EAAY;AACrDA,aAAGhH,WAAH,GAAiBpI,KAAjB;AACD,SAFkB,CAAnB;AAGAc,UAAEuO,WAAF,IAAiBvO,EAAEuO,WAAF,CAAcxO,OAAd,CAAsB,UAASuO,EAAT,EAAY;AACjDA,aAAGhH,WAAH,GAAiBpI,KAAjB;AACD,SAFgB,CAAjB;AAGD,OARmB,CAApB;AASD,KAtFM;AAuFPsP,eAvFO,uBAuFK/C,OAvFL,EAuFa;AAClB,UAAImB,OAAO,IAAX;AACA,UAAI6B,eAAe5Q,IAAI6Q,MAAJ,CAAW;AAC5BpT,YAD4B,kBACtB;AACJ,iBAAO;AACLmQ,qBAAQA;AADH,WAAP;AAGD,SAL2B;;AAM5BzN,4oBAN4B;AAkB5BvB,iBAAQ;AACNkS,oBADM,wBACM;AACV,gBAAIpO,QAAQ,IAAZ;AACAnC,cAAEwQ,YAAF,CAAe,SAAf;AACA,gBAAG,CAACrO,MAAMsO,UAAV,EAAqB;AACjBtO,oBAAMsO,UAAN,GAAmB,IAAnB;AACAzQ,gBAAEwF,IAAF,CAAO;AACPvI,qBAAK,8BADE;AAEPE,sBAAM,MAFC;AAGPD,sBAAM;AACJsQ,8BAAWH,QAAQG;AADf,iBAHC;AAMP/H,yBAAS,yBAA2B;AAAA,sBAAjB2E,GAAiB,UAAjBA,GAAiB;AAAA,sBAAZzE,IAAY,UAAZA,IAAY;AAAA,sBAANzI,IAAM,UAANA,IAAM;;AAClC,sBAAGyI,QAAQ,CAAX,EAAa;AACXxD,0BAAMsO,UAAN,GAAmB,KAAnB;AACAzQ,sBAAEqK,QAAF,CAAW,MAAX;AACAgD,4BAAQxP,MAAR,GAAiB,CAAjB;AACAmC,sBAAE0Q,YAAF;AACAvO,0BAAM+I,OAAN,CAAcZ,KAAd;AACD,mBAND,MAMK;AACHnI,0BAAMsO,UAAN,GAAmB,KAAnB;AACAzQ,sBAAEqK,QAAF,CAAWD,GAAX;AACApK,sBAAE0Q,YAAF;AACAvO,0BAAM+I,OAAN,CAAcZ,KAAd;AACD;AACF,iBAnBM;AAoBPzE,uBAAO,iBAAU;AACf1D,wBAAMsO,UAAN,GAAmB,KAAnB;AACAzQ,oBAAEqK,QAAF,CAAW,MAAX;AACArK,oBAAE0Q,YAAF;AACAvO,wBAAM+I,OAAN,CAAcZ,KAAd;AACD;AAzBM,eAAP;AA2BH;AAEF,WAnCK;AAoCNqG,oBApCM,wBAoCM;AACV,iBAAKzF,OAAL,CAAaZ,KAAb;AACD;AAtCK,SAlBoB;AA0D5BzK,eA1D4B,qBA0DnB,CACR;AA3D2B,OAAX,CAAnB;;AA8DA,WAAK+Q,QAAL,CAAc;AACVlH,eAAO,MADG;AAEVC,iBAAQ0G,YAFE;AAGVzG,mBAAW;AAHD,OAAd;AAKD,KA5JM;AA6JPiH,aA7JO,qBA6JGhT,MA7JH,EA6JU;AACf,UAAGA,UAAU,CAAb,EAAe;AACb,eAAO,IAAP;AACD;AACD,UAAGA,UAAQ,CAAX,EAAa;AACX,eAAO,IAAP;AACD;AACF,KApKM;AAqKP+P,WArKO,qBAqKE,CACR,CAtKM;AAuKPC,UAvKO,0BAuKmC;AAAA,UAAjCC,cAAiC,UAAjCA,cAAiC;AAAA,UAAjBC,cAAiB,UAAjBA,cAAiB;;AACtC,UAAMC,iBAAiBF,eAAeG,OAAtC;AACA,UAAMC,iBAAiBH,eAAeE,OAAtC;AACA,aAAO,CAAC,CAACD,cAAD,IAAmB,CAACA,eAAeG,KAApC,KAA8C,CAACD,eAAeC,KAArE;AACH,KA3KM;AA4KPC,SA5KO,yBA4KqB;AAAA,UAApBC,QAAoB,UAApBA,QAAoB;AAAA,UAAVC,QAAU,UAAVA,QAAU;;AAC1B,WAAKC,uBAAL;AACD,KA9KM;AA+KPA,2BA/KO,qCA+KkB;AACvB,UAAIuC,eAAe,EAAnB;AACA,WAAKC,aAAL,CAAmBC,KAAnB,CAAyBrP,OAAzB,CAAiC,UAACC,CAAD,EAAK;AACpCkP,qBAAapC,IAAb,CAAkB9M,EAAEiD,EAApB;AACD,OAFD;AAGAiM,qBAAeA,aAAalC,IAAb,CAAkB,GAAlB,CAAf;;AAEA,UAAIH,iBAAiB,EAArB;AACA,WAAKsC,aAAL,CAAmB1D,OAAnB,CAA2B1L,OAA3B,CAAmC,UAACC,CAAD,EAAK;AACtC6M,uBAAeC,IAAf,CAAoB9M,EAAEiD,EAAtB;AACD,OAFD;AAGA4J,uBAAiBA,eAAeG,IAAf,CAAoB,GAApB,CAAjB;AACA5O,QAAEwF,IAAF,CAAO;AACLvI,aAAK,6CADA;AAELE,cAAM,KAFD;AAGLD,cAAM;AACJiN,oBAAU2G,YADN;AAEJtD,sBAAWiB;AAFP;AAHD,OAAP,EAQCI,IARD,CAQM,UAASnJ,GAAT,EAAc,CACnB,CATD,EAUCoJ,IAVD,CAUM,YAAW,CAChB,CAXD,EAYCC,MAZD,CAYQ,YAAW,CAClB,CAbD;AAeD;AA1MM,GApIsB;AAiV/BlE,YAAS;AACPmE,iBAAa,uBAAY;AACvB,aAAQ;AACNC,mBAAW,GADL;AAENC,gBAAQ,IAFF;AAGNC,2BAAmB,GAHb;AAIN;AACA1C,kBAAU,CAAC,KAAKpE,KAAL,CAAW+C,MALhB;AAMNgE,gBAAQ,gBANF;AAONC,oBAAY;AAPN,OAAR;AASD;AAXM;AAjVsB,CAAjC;;AAgWA;AACA5P,IAAIC,SAAJ,CAAc,eAAd,EAA+B;AAC7BsG,UAAQ,CAAC5H,WAAD,CADqB;AAE7BuB,SAAO,CAAC,QAAD,EAAW,QAAX,CAFsB;AAG7BC,4pCAH6B;AAoB7B1C,QAAM,gBAAU;AACd,WAAO,EAAP;AAGD,GAxB4B;AAyB7BmB,WAAS;AACPiP,iBAAa,qBAASzE,MAAT,EAAgB;AAC3B,UAAI,SAAS,KAAKpG,MAAlB,EAA0B;AACxB,eAAO,IAAP;AACD,OAFD,MAEM,IAAG,aAAa,KAAKA,MAArB,EAA4B;AAChC,YAAGoG,OAAOhL,MAAP,IAAiB,CAAjB,IAAsBgL,OAAOC,UAAP,IAAqB,IAA9C,EAAmD;AACjD,iBAAO,IAAP;AACD;AACD,eAAO,KAAP;AACD,OALK,MAKA,IAAG,cAAc,KAAKrG,MAAtB,EAA6B;AACjC,YAAGoG,OAAOhL,MAAP,IAAiB,CAAjB,IAAsBgL,OAAOE,SAAP,IAAoB,IAA7C,EAAkD;AAChD,iBAAO,IAAP;AACD;AACD,eAAO,KAAP;AACD;;AAED,aAAO,KAAP;AACD,KAjBM;AAkBP9F,eAAW,mBAAS/F,IAAT,EAAe4D,KAAf,EAAqB;AAC9B5D,WAAK+S,aAAL,IAAsB/S,KAAK+S,aAAL,CAAmBtO,OAAnB,CAA2B,UAASC,CAAT,EAAW;AAC1DA,UAAEsH,WAAF,GAAgBpI,KAAhB;AACAc,UAAEqO,aAAF,IAAmBrO,EAAEqO,aAAF,CAAgBtO,OAAhB,CAAwB,UAASuO,EAAT,EAAY;AACrDA,aAAGhH,WAAH,GAAiBpI,KAAjB;AACD,SAFkB,CAAnB;AAGD,OALqB,CAAtB;AAMA5D,WAAKiT,WAAL,IAAoBjT,KAAKiT,WAAL,CAAiBxO,OAAjB,CAAyB,UAASC,CAAT,EAAW;AACtDA,UAAEsH,WAAF,GAAgBpI,KAAhB;AACAc,UAAEqO,aAAF,IAAmBrO,EAAEqO,aAAF,CAAgBtO,OAAhB,CAAwB,UAASuO,EAAT,EAAY;AACrDA,aAAGhH,WAAH,GAAiBpI,KAAjB;AACD,SAFkB,CAAnB;AAGAc,UAAEuO,WAAF,IAAiBvO,EAAEuO,WAAF,CAAcxO,OAAd,CAAsB,UAASuO,EAAT,EAAY;AACjDA,aAAGhH,WAAH,GAAiBpI,KAAjB;AACD,SAFgB,CAAjB;AAGD,OARmB,CAApB;AASD,KAlCM;AAmCP8M,WAnCO,qBAmCE,CACR,CApCM;AAqCPC,UArCO,0BAqCmC;AAAA,UAAjCC,cAAiC,UAAjCA,cAAiC;AAAA,UAAjBC,cAAiB,UAAjBA,cAAiB;;AACtC,UAAMC,iBAAiBF,eAAeG,OAAtC;AACA,UAAMC,iBAAiBH,eAAeE,OAAtC;AACA,aAAO,CAAC,CAACD,cAAD,IAAmB,CAACA,eAAeG,KAApC,KAA8C,CAACD,eAAeC,KAArE;AACH,KAzCM;AA0CPC,SA1CO,yBA0CqB;AAAA,UAApBC,QAAoB,UAApBA,QAAoB;AAAA,UAAVC,QAAU,UAAVA,QAAU;;AAC1B,WAAKC,uBAAL;AACD,KA5CM;AA6CPA,2BA7CO,qCA6CkB;AACvB,UAAIuC,eAAe,EAAnB;AACA,UAAItC,OAAO,IAAX;AACA,WAAK3F,MAAL,CAAYsH,WAAZ,CAAwBxO,OAAxB,CAAgC,UAACsP,GAAD,EAAO;AACrCH,qBAAapC,IAAb,CAAkBuC,IAAIpM,EAAtB;AACD,OAFD;AAGAiM,qBAAeA,aAAalC,IAAb,CAAkB,GAAlB,CAAf;;AAEA5O,QAAEwF,IAAF,CAAO;AACLvI,aAAK,6CADA;AAELE,cAAM,KAFD;AAGLD,cAAM;AACJiN,oBAAU2G,YADN;AAEJnC,wBAAaH,KAAK3F,MAAL,CAAYhE;AAFrB;AAHD,OAAP,EAQCgK,IARD,CAQM,UAASnJ,GAAT,EAAc,CACnB,CATD,EAUCoJ,IAVD,CAUM,YAAW,CAChB,CAXD,EAYCC,MAZD,CAYQ,YAAW,CAClB,CAbD;AAcD;AAnEM,GAzBoB;AA8F7BlE,YAAS;AACPmE,iBAAa,uBAAY;AACvB,aAAQ;AACNC,mBAAW,GADL;AAENC,gBAAQ,IAFF;AAGNC,2BAAmB,GAHb;AAIN;AACA1C,kBAAU,CAAC,KAAKpE,KAAL,CAAW+C,MALhB;AAMNgE,gBAAQ,gBANF;AAONC,oBAAY;AAPN,OAAR;AASD;AAXM;AA9FoB,CAA/B;AA4GA;AACA5P,IAAIC,SAAJ,CAAc,oBAAd,EAAoC;AAClCC,SAAO,CAAC,cAAD,EAAiB,WAAjB,CAD2B;AAElCC,4TAFkC;AAMlC1C,QAAM,gBAAY;AAChB,WAAO,EAAP;AAGD,GAViC;AAWlC2N,YAAU;AACRjK,aAAS,mBAAU;AACjB,UAAIyF,MAAM,EAAV;AACA,WAAK6K,YAAL,CAAkBvP,OAAlB,CAA0B,UAASC,CAAT,EAAW;AACnC,YAAI9E,MAAM;AACRK,gBAAMyE,EAAEzE,IADA;AAER0E,iBAAOD,EAAEkD,IAFD;AAGRhE,iBAAOc,EAAEiD;AAHD,SAAV;AAKAwB,YAAIqI,IAAJ,CAAS5R,GAAT;AACD,OAPD;AAQA,aAAOuJ,GAAP;AACD;AAZO,GAXwB;AAyBlChI,WAAS;AACP8S,eAAW,mBAAS1Q,CAAT,EAAW;AACpB,WAAKC,KAAL,CAAW,WAAX,EAAwBD,CAAxB;AACD,KAHM;AAIP2Q,iBAAa,qBAAUvM,EAAV,EAAc;AACzB,WAAKnE,KAAL,CAAW,iBAAX;AACD;AANM;AAzByB,CAApC;AAkCA;AACA;AACAjB,IAAIC,SAAJ,CAAc,4BAAd,EAA4C;AAC1CC,SAAO,CAAC,sBAAD,CADmC;AAE1CC,wHAF0C;AAK1C1C,QAAM,gBAAU;AACd,WAAO;AACLmU,cAAQ;AADH,KAAP;AAGD,GATyC;AAU1CxR,WAAS,mBAAU,CAElB,CAZyC;AAa1CxB,WAAS;AACPiT,eAAW,qBAAU;AACnB,UAAI,KAAKC,oBAAL,CAA0BjQ,MAA1B,GAAmC,CAAvC,EAA0C;AACxC,aAAK+P,MAAL,GAAc,IAAd;AACD,OAFD,MAEK;AACHrR,UAAEqK,QAAF,CAAW,OAAX;AACD;AACF,KAPM;AAQPmH,iBAAa,qBAASC,YAAT,EAAuBC,aAAvB,EAAqC;AAChD,UAAIvP,QAAQ,IAAZ;AACAnC,QAAEwQ,YAAF,CAAe,SAAf;AACA,WAAKe,oBAAL,CAA0B5P,OAA1B,CAAkC,UAASC,CAAT,EAAW;AAC3CA,UAAEwI,GAAF,GAAQxI,EAAE+D,IAAF,GAAS/D,EAAE+P,WAAF,GAAgB,EAAjC;AACA,YAAIxU,aAAJ;AACA,YAAI,KAAKyE,EAAEgQ,KAAX,EAAkB;AAChBzU,iBAAO,CAAP;AACD,SAFD,MAEO;AACLA,iBAAO,CAAP;AACD;AACD6C,UAAEwF,IAAF,CAAO;AACL;AACA;AACAvI,eAAK,uCAHA;AAILE,gBAAM,MAJD;AAKLD,gBAAM;AACJ2U,qBAASjQ,EAAEiD,EADP;AAEJ;AACAiN,wBAAYL,YAHR;AAIJC,2BAAeA,aAJX;AAKJvU,kBAAMA;AALF,WALD;AAYLsI,mBAAS,yBAA2B;AAAA,gBAAjB2E,GAAiB,UAAjBA,GAAiB;AAAA,gBAAZzE,IAAY,UAAZA,IAAY;AAAA,gBAANzI,IAAM,UAANA,IAAM;;AAClC0E,cAAEwI,GAAF,GAAQA,GAAR;AACAxI,cAAE+D,IAAF,GAASA,IAAT;AACA/D,cAAE+P,WAAF,GAAgB,UAAhB;;AAEA,gBAAIxP,MAAMoP,oBAAN,CAA2BQ,KAA3B,CAAiC,UAAS7B,EAAT,EAAY;AAC/C,qBAAOA,GAAGyB,WAAH,IAAkB,UAAzB;AACD,aAFG,CAAJ,EAEI;AACFxP,oBAAM6P,UAAN;AACD;AACF,WAtBI;AAuBLnM,iBAAO,iBAAU;AACfjE,cAAEwI,GAAF,GAAQ,UAAR;AACAxI,cAAE+D,IAAF,GAAS,CAAC,CAAV;AACA/D,cAAE+P,WAAF,GAAgB,UAAhB;;AAEA,gBAAIxP,MAAMoP,oBAAN,CAA2BQ,KAA3B,CAAiC,UAAS7B,EAAT,EAAY;AAC/C,qBAAOA,GAAGyB,WAAH,IAAkB,UAAzB;AACD,aAFG,CAAJ,EAEI;AACFxP,oBAAM6P,UAAN;AACD;AACF;AAjCI,SAAP;AAmCD,OA3CD;AA4CD,KAvDM;AAwDPA,gBAAY,sBAAU;AACpB,UAAI7P,QAAQ,IAAZ;AACAnC,QAAE0Q,YAAF;AACA,UAAIuB,aAAa,EAAjB;AACA,UAAIC,QAAQ,CAAZ;AACA,UAAIC,WAAW,CAAf;AACAhQ,YAAMoP,oBAAN,CAA2B5P,OAA3B,CAAmC,UAASC,CAAT,EAAW;AAC5C,YAAI,KAAKA,EAAE+D,IAAX,EAAiB;AACfuM,mBAAS,CAAT;AACD,SAFD,MAEK;AACHC,sBAAY,CAAZ;AACAF,wBAAc,mGAELrQ,EAAEkD,IAFG,uCAGGlD,EAAE+D,IAAF,IAAU,CAAV,GAAc,eAAd,GAAgC,eAHnC,YAG4D/D,EAAE+D,IAAF,IAAU,CAAV,GAAc,IAAd,GAAqB,IAHjF,wCAIG/D,EAAE+D,IAAF,IAAU,CAAV,GAAc,eAAd,GAAgC,eAJnC,YAI4D,KAAK/D,EAAE+D,IAAP,GAAc,GAAd,GAAoB/D,EAAEwI,GAJlF,wCAAd;AAOD;AACDxI,UAAE+D,IAAF,GAAS,IAAT;AACA/D,UAAEwI,GAAF,GAAQ,IAAR;AACAxI,UAAE+P,WAAF,GAAgB,IAAhB;AACD,OAhBD;AAiBA,UAAIQ,WAAW,CAAf,EAAkB;AAChBnS,UAAEyJ,OAAF,CAAU;AACRC,iBAAO,MADC;AAERC,mBAAS,qgBAUMsI,UAVN,+CAFD;AAeRrI,qBAAW,IAfH;AAgBRE,yBAAe,IAhBP;AAiBRC,8BAAoB,2BAjBZ;AAkBRG,wBAAc;AAlBN,SAAV;AAoBD,OArBD,MAqBK;AACHlK,UAAEqK,QAAF,CAAW,MAAX;AACD;AACF;AAvGM,GAbiC;AAsH1ClJ,SAAO;AACLkQ,YAAQ,kBAAU;AAChB,UAAIlP,QAAQ,IAAZ;AACA,UAAIiQ,cAAc,KAAKb,oBAAL,CAA0Bc,GAA1B,CAA8B,UAASzQ,CAAT,EAAW;AACzD,eAAOA,EAAEkD,IAAT;AACD,OAFiB,EAEf8J,IAFe,CAEV,GAFU,CAAlB;AAGA,UAAI,QAAQ,KAAKyC,MAAjB,EAAyB;AACvBrR,UAAEyJ,OAAF,CAAU;AACRC,iBAAO,MADC;AAERC,mBAAS,6SAKQyI,WALR,kvBAFD;AAoBR;AACA;AACA;AACAxI,qBAAW,IAvBH;AAwBRC,uBAAa,qBAxBL;AAyBRC,yBAAe,IAzBP;AA0BRC,8BAAoB,2BA1BZ;AA2BRN,mBAAS,mBAAU;AACjB,gBAAIgI,eAAezR,EAAE,uBAAF,EAA2BV,GAA3B,EAAnB;AACA,gBAAIoS,gBAAgB1R,EAAE,wBAAF,EAA4BV,GAA5B,EAApB;AACA6C,kBAAMqP,WAAN,CAAkBC,YAAlB,EAAgCC,aAAhC;AACA;AACD,WAhCO;AAiCRxH,wBAAc,KAjCN;AAkCRoI,mBAAS,mBAAU;AACjBnQ,kBAAMkP,MAAN,GAAe,KAAf;AACD;AApCO,SAAV;AAsCD;AAEF;AA/CI;AAtHmC,CAA5C;;AAyKA;AACA5R,IAAIC,SAAJ,CAAc,mCAAd,EAAmD;AACjDC,SAAO,CAAC,sBAAD,CAD0C;AAEjDC,0GAFiD;AAKjD1C,QAAM,gBAAU;AACd,WAAO;AACLmU,cAAQ;AADH,KAAP;AAGD,GATgD;AAUjDxR,WAAS,mBAAU,CAElB,CAZgD;AAajDxB,WAAS;AACPiT,eAAW,qBAAU;AACnB,UAAI,KAAKC,oBAAL,CAA0BjQ,MAA1B,GAAmC,CAAvC,EAA0C;AACxC,aAAK+P,MAAL,GAAc,IAAd;AACD,OAFD,MAEK;AACHrR,UAAEqK,QAAF,CAAW,OAAX;AACD;AACF,KAPM;AAQPmH,iBAAa,qBAASC,YAAT,EAAuBC,aAAvB,EAAqC;AAChD,UAAIvP,QAAQ,IAAZ;AACAnC,QAAEwQ,YAAF,CAAe,SAAf;AACA,WAAKe,oBAAL,CAA0B5P,OAA1B,CAAkC,UAASC,CAAT,EAAW;AAC3CA,UAAEwI,GAAF,GAAQxI,EAAE+D,IAAF,GAAS/D,EAAE+P,WAAF,GAAgB,EAAjC;AACA,YAAIxU,aAAJ;AACA,YAAI,KAAKyE,EAAEgQ,KAAX,EAAkB;AAChBzU,iBAAO,CAAP;AACD,SAFD,MAEO;AACLA,iBAAO,CAAP;AACD;AACD6C,UAAEwF,IAAF,CAAO;AACL;AACA;AACAvI,eAAK,uCAHA;AAILE,gBAAM,MAJD;AAKLD,gBAAM;AACJ2U,qBAASjQ,EAAEiD,EADP;AAEJ;AACAiN,wBAAYL,YAHR;AAIJC,2BAAeA,aAJX;AAKJvU,kBAAMA;AALF,WALD;AAYLsI,mBAAS,yBAA2B;AAAA,gBAAjB2E,GAAiB,UAAjBA,GAAiB;AAAA,gBAAZzE,IAAY,UAAZA,IAAY;AAAA,gBAANzI,IAAM,UAANA,IAAM;;AAClC0E,cAAEwI,GAAF,GAAQA,GAAR;AACAxI,cAAE+D,IAAF,GAASA,IAAT;AACA/D,cAAE+P,WAAF,GAAgB,UAAhB;;AAEA,gBAAIxP,MAAMoP,oBAAN,CAA2BQ,KAA3B,CAAiC,UAAS7B,EAAT,EAAY;AAC/C,qBAAOA,GAAGyB,WAAH,IAAkB,UAAzB;AACD,aAFG,CAAJ,EAEI;AACFxP,oBAAM6P,UAAN;AACD;AACF,WAtBI;AAuBLnM,iBAAO,iBAAU;AACfjE,cAAEwI,GAAF,GAAQ,UAAR;AACAxI,cAAE+D,IAAF,GAAS,CAAC,CAAV;AACA/D,cAAE+P,WAAF,GAAgB,UAAhB;;AAEA,gBAAIxP,MAAMoP,oBAAN,CAA2BQ,KAA3B,CAAiC,UAAS7B,EAAT,EAAY;AAC/C,qBAAOA,GAAGyB,WAAH,IAAkB,UAAzB;AACD,aAFG,CAAJ,EAEI;AACFxP,oBAAM6P,UAAN;AACD;AACF;AAjCI,SAAP;AAmCD,OA3CD;AA4CD,KAvDM;AAwDPA,gBAAY,sBAAU;AACpB,UAAI7P,QAAQ,IAAZ;AACAnC,QAAE0Q,YAAF;AACA,UAAIuB,aAAa,EAAjB;AACA,UAAIC,QAAQ,CAAZ;AACA,UAAIC,WAAW,CAAf;AACAhQ,YAAMoP,oBAAN,CAA2B5P,OAA3B,CAAmC,UAASC,CAAT,EAAW;AAC5C,YAAI,KAAKA,EAAE+D,IAAX,EAAiB;AACfuM,mBAAS,CAAT;AACD,SAFD,MAEK;AACHC,sBAAY,CAAZ;AACAF,wBAAc,mGAELrQ,EAAEkD,IAFG,uCAGGlD,EAAE+D,IAAF,IAAU,CAAV,GAAc,eAAd,GAAgC,eAHnC,YAG4D/D,EAAE+D,IAAF,IAAU,CAAV,GAAc,IAAd,GAAqB,IAHjF,wCAIG/D,EAAE+D,IAAF,IAAU,CAAV,GAAc,eAAd,GAAgC,eAJnC,YAI4D,KAAK/D,EAAE+D,IAAP,GAAc,GAAd,GAAoB/D,EAAEwI,GAJlF,wCAAd;AAOD;;AAEDxI,UAAE+D,IAAF,GAAS,IAAT;AACA/D,UAAEwI,GAAF,GAAQ,IAAR;AACAxI,UAAE+P,WAAF,GAAgB,IAAhB;AACD,OAjBD;AAkBA,UAAIQ,WAAW,CAAf,EAAkB;AAChBnS,UAAEyJ,OAAF,CAAU;AACRC,iBAAO,MADC;AAERC,mBAAS,qgBAUMsI,UAVN,+CAFD;AAeRrI,qBAAW,IAfH;AAgBRE,yBAAe,IAhBP;AAiBRC,8BAAoB,2BAjBZ;AAkBRG,wBAAc;AAlBN,SAAV;AAoBD,OArBD,MAqBK;AACHlK,UAAEqK,QAAF,CAAW,MAAX;AACD;AACF;AAxGM,GAbwC;AAuHjDlJ,SAAO;AACLkQ,YAAQ,kBAAU;AAChB,UAAIlP,QAAQ,IAAZ;AACA,UAAIiQ,cAAc,KAAKb,oBAAL,CAA0Bc,GAA1B,CAA8B,UAASzQ,CAAT,EAAW;AACzD,eAAOA,EAAEkD,IAAT;AACD,OAFiB,EAEf8J,IAFe,CAEV,GAFU,CAAlB;AAGA,UAAI,QAAQ,KAAKyC,MAAjB,EAAyB;AACvBrR,UAAEyJ,OAAF,CAAU;AACRC,iBAAO,MADC;AAERC,mBAAS,qQAKQyI,WALR,ovBAFD;AAqBR;AACA;AACA;AACAxI,qBAAW,IAxBH;AAyBRC,uBAAa,qBAzBL;AA0BRC,yBAAe,IA1BP;AA2BRC,8BAAoB,2BA3BZ;AA4BRN,mBAAS,mBAAU;AACjB,gBAAIgI,eAAezR,EAAE,uBAAF,EAA2BV,GAA3B,EAAnB;AACA,gBAAIoS,gBAAgB1R,EAAE,wBAAF,EAA4BV,GAA5B,EAApB;AACA6C,kBAAMqP,WAAN,CAAkBC,YAAlB,EAAgCC,aAAhC;AACA;AACD,WAjCO;AAkCRxH,wBAAc,KAlCN;AAmCRoI,mBAAS,mBAAU;AACjBnQ,kBAAMkP,MAAN,GAAe,KAAf;AACD;AArCO,SAAV;AAuCD;AAEF;AAhDI;AAvH0C,CAAnD;;AA2KA;AACA;AACA5R,IAAIC,SAAJ,CAAc,mBAAd,EAAmC;AACjCC,SAAO,CAAC,sBAAD,CAD0B;AAEjCC,0GAFiC;AAKjC1C,QAAM,gBAAU;AACd,WAAO,EAAP;AAGD,GATgC;AAUjCmB,WAAS;AACPkU,aAAS,mBAAU;AACjB,UAAIpQ,QAAQ,IAAZ;AACA,UAAI,KAAKoP,oBAAL,CAA0BjQ,MAA1B,GAAmC,CAAvC,EAA0C;AACxCtB,UAAEwQ,YAAF;AACA;AACA,aAAKe,oBAAL,CAA0B5P,OAA1B,CAAkC,UAASC,CAAT,EAAW;AAC3CA,YAAEwI,GAAF,GAAQxI,EAAE+D,IAAF,GAAS/D,EAAE+P,WAAF,GAAgB,EAAjC;AACA3R,YAAEwF,IAAF,CAAO;AACLvI,iBAAK,mCADA;AAELE,kBAAM,MAFD;AAGLD,kBAAM;AACJ2U,uBAASjQ,EAAEiD;AADP,aAHD;AAMLY,qBAAS,yBAA2B;AAAA,kBAAjB2E,GAAiB,UAAjBA,GAAiB;AAAA,kBAAZzE,IAAY,UAAZA,IAAY;AAAA,kBAANzI,IAAM,UAANA,IAAM;;AAClC0E,gBAAEwI,GAAF,GAAQA,GAAR;AACAxI,gBAAE+D,IAAF,GAASA,IAAT;AACA/D,gBAAE+P,WAAF,GAAgB,UAAhB;;AAEA,kBAAIxP,MAAMoP,oBAAN,CAA2BQ,KAA3B,CAAiC,UAAS7B,EAAT,EAAY;AAC/C,uBAAOA,GAAGyB,WAAH,IAAkB,UAAzB;AACD,eAFG,CAAJ,EAEI;AACFxP,sBAAM6P,UAAN;AACD;AACF,aAhBI;AAiBLnM,mBAAO,iBAAU;AACfjE,gBAAEwI,GAAF,GAAQ,UAAR;AACAxI,gBAAE+D,IAAF,GAAS,CAAC,CAAV;AACA/D,gBAAE+P,WAAF,GAAgB,UAAhB;;AAEA,kBAAIxP,MAAMoP,oBAAN,CAA2BQ,KAA3B,CAAiC,UAAS7B,EAAT,EAAY;AAC/C,uBAAOA,GAAGyB,WAAH,IAAkB,UAAzB;AACD,eAFG,CAAJ,EAEI;AACFxP,sBAAM6P,UAAN;AACD;AACF;AA3BI,WAAP;AA6BD,SA/BD;AAgCD,OAnCD,MAmCK;AACHhS,UAAEqK,QAAF,CAAW,OAAX;AACD;AACF,KAzCM;AA0CP2H,gBAAY,sBAAU;AACpB,UAAI7P,QAAQ,IAAZ;AACAnC,QAAE0Q,YAAF;AACA,UAAIuB,aAAa,EAAjB;AACA,UAAIC,QAAQ,CAAZ;AACA,UAAIC,WAAW,CAAf;AACAhQ,YAAMoP,oBAAN,CAA2B5P,OAA3B,CAAmC,UAASC,CAAT,EAAW;AAC5C,YAAI,KAAKA,EAAE+D,IAAX,EAAiB;AACfuM,mBAAS,CAAT;AACAtQ,YAAE4Q,YAAF,GAAiB,IAAjB;AACA5Q,YAAE6Q,SAAF,GAAc,EAAd;AACD,SAJD,MAIK;AACHN,sBAAY,CAAZ;AACAF,wBAAc,mGAELrQ,EAAEkD,IAFG,uCAGGlD,EAAE+D,IAAF,IAAU,CAAV,GAAc,eAAd,GAAgC,eAHnC,YAG4D/D,EAAE+D,IAAF,IAAU,CAAV,GAAc,IAAd,GAAqB,IAHjF,wCAIG/D,EAAE+D,IAAF,IAAU,CAAV,GAAc,eAAd,GAAgC,eAJnC,YAI4D,KAAK/D,EAAE+D,IAAP,GAAc,GAAd,GAAoB/D,EAAEwI,GAJlF,wCAAd;AAOD;;AAEDxI,UAAE+D,IAAF,GAAS,IAAT;AACA/D,UAAEwI,GAAF,GAAQ,IAAR;AACAxI,UAAE+P,WAAF,GAAgB,IAAhB;AACD,OAnBD;AAoBA,UAAIQ,WAAW,CAAf,EAAkB;AAChBnS,UAAEyJ,OAAF,CAAU;AACRC,iBAAO,MADC;AAERC,mBAAS,yfAUMsI,UAVN,+CAFD;AAeRrI,qBAAW,IAfH;AAgBRE,yBAAe,IAhBP;AAiBRC,8BAAoB,2BAjBZ;AAkBRG,wBAAc;AAlBN,SAAV;AAoBD,OArBD,MAqBK;AACHlK,UAAEqK,QAAF,CAAW,QAAX;AACD;AACF;AA5FM;AAVwB,CAAnC;;AA0GA;AACA5K,IAAIC,SAAJ,CAAc,0BAAd,EAA0C;AACxCC,SAAO,CAAC,cAAD,EAAiB,sBAAjB,CADiC;AAExCC,2HAFwC;AAKxC1C,QAAM,gBAAU;AACd,WAAO,EAAP;AAGD,GATuC;AAUxCmB,WAAS;AACPqU,aAAS,iBAAS7U,MAAT,EAAgB;AACvB,UAAIA,UAAU,GAAd,EAAmB;AACjB,eAAO,IAAP;AACD,OAFD,MAEK;AACH,eAAO,IAAP;AACD;AACF,KAPM;AAQP0U,aAAS,mBAAU;AACjB,UAAIpQ,QAAQ,IAAZ;AACA,UAAI,KAAK,KAAKqQ,YAAd,EAA4B;AAC1BxS,UAAEyJ,OAAF,CAAU;AACRC,iBAAO,MADC;AAERC,+UAFQ;AAORC,qBAAW,IAPH;AAQRC,uBAAa,qBARL;AASRC,yBAAe,IATP;AAURC,8BAAoB,2BAVZ;AAWRN,mBAAS,mBAAU;AACjBzJ,cAAEwQ,YAAF;AACArO,kBAAMoP,oBAAN,CAA2B5P,OAA3B,CAAmC,UAASC,CAAT,EAAY;AAC7C5B,gBAAEwF,IAAF,CAAO;AACLvI,qBAAK,sCADA;AAELE,sBAAM,MAFD;AAGLD,sBAAM;AACJ2U,2BAASjQ,EAAEiD;AADP,iBAHD;AAMLY,yBAAS,yBAA2B;AAAA,sBAAjB2E,GAAiB,UAAjBA,GAAiB;AAAA,sBAAZzE,IAAY,UAAZA,IAAY;AAAA,sBAANzI,IAAM,UAANA,IAAM;;AAClC,sBAAI,KAAKyI,IAAT,EAAe;AACb,wBAAI,uBAAuBwC,OAAOC,SAAP,CAAiB1L,QAAjB,CAA0BiK,IAA1B,CAA+BxE,MAAMkG,KAAN,CAAYsK,aAA3C,CAA3B,EAAsF;AACpFxQ,4BAAMkG,KAAN,CAAYsK,aAAZ,CAA0B,IAA1B;AACD;AACD3S,sBAAE0Q,YAAF;AACA1Q,sBAAEqK,QAAF,CAAW,MAAX;AACD,mBAND,MAMO;AACLrK,sBAAE0Q,YAAF;AACA1Q,sBAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,iBAjBI;AAkBLvE,uBAAO,iBAAU;AACf7F,oBAAE0Q,YAAF;AACA1Q,oBAAEqK,QAAF,CAAW,UAAX;AACD;AArBI,eAAP;AAuBD,aAxBD;AAyBD,WAtCO;AAuCRH,wBAAc;AAvCN,SAAV;AAyCA;AACD;AACD,UAAI,KAAKqH,oBAAL,CAA0BjQ,MAA1B,GAAmC,CAAvC,EAA0C;AACxCtB,UAAEwQ,YAAF;AACA,aAAKe,oBAAL,CAA0B5P,OAA1B,CAAkC,UAASC,CAAT,EAAW;AAC3CA,YAAEwI,GAAF,GAAQxI,EAAE+D,IAAF,GAAS/D,EAAE+P,WAAF,GAAgB,EAAjC,CAD2C,CACL;AACtC3R,YAAEwF,IAAF,CAAO;AACLvI,iBAAK,mCADA;AAELE,kBAAM,MAFD;AAGLD,kBAAM;AACJ2U,uBAASjQ,EAAEiD;AADP,aAHD;AAMLY,qBAAS,yBAA2B;AAAA,kBAAjB2E,GAAiB,UAAjBA,GAAiB;AAAA,kBAAZzE,IAAY,UAAZA,IAAY;AAAA,kBAANzI,IAAM,UAANA,IAAM;;AAClC0E,gBAAEwI,GAAF,GAAQA,GAAR;AACAxI,gBAAE+D,IAAF,GAASA,IAAT;AACA/D,gBAAE+P,WAAF,GAAgB,UAAhB;;AAEA,kBAAIxP,MAAMoP,oBAAN,CAA2BQ,KAA3B,CAAiC,UAAS7B,EAAT,EAAY;AAAG;AAClD,uBAAOA,GAAGyB,WAAH,IAAkB,UAAzB;AACD,eAFG,CAAJ,EAEI;AACFxP,sBAAM6P,UAAN;AACD;AACF,aAhBI;AAiBLnM,mBAAO,iBAAU;AACfjE,gBAAEwI,GAAF,GAAQ,UAAR;AACAxI,gBAAE+D,IAAF,GAAS,CAAC,CAAV;AACA/D,gBAAE+P,WAAF,GAAgB,UAAhB;;AAEA,kBAAIxP,MAAMoP,oBAAN,CAA2BQ,KAA3B,CAAiC,UAAS7B,EAAT,EAAY;AAC/C,uBAAOA,GAAGyB,WAAH,IAAkB,UAAzB;AACD,eAFG,CAAJ,EAEI;AACFxP,sBAAM6P,UAAN;AACD;AACF;AA3BI,WAAP;AA6BD,SA/BD;AAgCD,OAlCD,MAkCK;AACHhS,UAAEqK,QAAF,CAAW,OAAX;AACD;AACF,KA3FM;AA4FP2H,gBAAY,sBAAU;AACpB,UAAI7P,QAAQ,IAAZ;AACAnC,QAAE0Q,YAAF;AACA,UAAIuB,aAAa,EAAjB;AACA,UAAIC,QAAQ,CAAZ;AACA,UAAIC,WAAW,CAAf;AACAhQ,YAAMoP,oBAAN,CAA2B5P,OAA3B,CAAmC,UAASC,CAAT,EAAW;AAC5C,YAAI,KAAKA,EAAE+D,IAAX,EAAiB;AACfuM,mBAAS,CAAT;AACAtQ,YAAE4Q,YAAF,GAAiB,IAAjB;AACA5Q,YAAE6Q,SAAF,GAAc,EAAd;AACD,SAJD,MAIK;AACHN,sBAAY,CAAZ;AACAF,wBAAc,mGAELrQ,EAAEkD,IAFG,uCAGGlD,EAAE+D,IAAF,IAAU,CAAV,GAAc,eAAd,GAAgC,eAHnC,YAG4D/D,EAAE+D,IAAF,IAAU,CAAV,GAAc,IAAd,GAAqB,IAHjF,wCAIG/D,EAAE+D,IAAF,IAAU,CAAV,GAAc,eAAd,GAAgC,eAJnC,YAI4D,KAAK/D,EAAE+D,IAAP,GAAc,GAAd,GAAoB/D,EAAEwI,GAJlF,wCAAd;AAOD;;AAEDxI,UAAE+D,IAAF,GAAS,IAAT;AACA/D,UAAEwI,GAAF,GAAQ,IAAR;AACAxI,UAAE+P,WAAF,GAAgB,IAAhB;AACD,OAnBD;AAoBA,UAAIQ,WAAW,CAAf,EAAkB;AAChBnS,UAAEyJ,OAAF,CAAU;AACRC,iBAAO,MADC;AAERC,mBAAS,yfAUMsI,UAVN,+CAFD;AAeRrI,qBAAW,IAfH;AAgBRE,yBAAe,IAhBP;AAiBRC,8BAAoB,2BAjBZ;AAkBRG,wBAAc;AAlBN,SAAV;AAoBD,OArBD,MAqBK;AACHlK,UAAEqK,QAAF,CAAW,QAAX;AACD;AACD,UAAI,uBAAuBlC,OAAOC,SAAP,CAAiB1L,QAAjB,CAA0BiK,IAA1B,CAA+BxE,MAAMkG,KAAN,CAAYsK,aAA3C,CAA3B,EAAsF;AACpFxQ,cAAMkG,KAAN,CAAYsK,aAAZ,CAA0B,IAA1B;AACD;AACF;AAjJM;AAV+B,CAA1C;;AA+JA;AACAlT,IAAIC,SAAJ,CAAc,4BAAd,EAA4C;AAC1CC,SAAO,CAAC,YAAD,EAAe,sBAAf,CADmC;AAE1CC,wJAF0C;AAK1C1C,QAAM,gBAAU;AACd,WAAO,EAAP;AAGD,GATyC;AAU1CmB,WAAS;AACPqU,aAAS,iBAASE,UAAT,EAAoB;AAC3B,UAAI,KAAKA,UAAT,EAAqB;AACnB,eAAO,IAAP;AACD,OAFD,MAEK;AACH,eAAO,IAAP;AACD;AACF,KAPM;AAQPC,oBAAgB,wBAASD,UAAT,EAAoB;AAClC,UAAIzQ,QAAQ,IAAZ;AACA,UAAI,KAAKoP,oBAAL,CAA0BjQ,MAA1B,GAAmC,CAAvC,EAA0C;AACxCtB,UAAEwQ,YAAF;AACA,aAAKe,oBAAL,CAA0B5P,OAA1B,CAAkC,UAASC,CAAT,EAAW;AAC3C5B,YAAEwF,IAAF,CAAO;AACLvI,iBAAK,iCADA;AAELE,kBAAM,MAFD;AAGLD,kBAAM;AACJ2U,uBAASjQ,EAAEiD,EADP;AAEJ+N,0BAAa,QAAQA,UAAT,GAAuB,CAAvB,GAA2B,CAFnC,CAEqC;AAFrC,aAHD;AAOLnN,qBAAS,yBAA2B;AAAA,kBAAjB2E,GAAiB,UAAjBA,GAAiB;AAAA,kBAAZzE,IAAY,UAAZA,IAAY;AAAA,kBAANzI,IAAM,UAANA,IAAM;;AAClC8C,gBAAEqK,QAAF,CAAW,MAAX;AACArK,gBAAE0Q,YAAF;AACA,kBAAI,uBAAuBvI,OAAOC,SAAP,CAAiB1L,QAAjB,CAA0BiK,IAA1B,CAA+BxE,MAAMkG,KAAN,CAAYsK,aAA3C,CAA3B,EAAsF;AACpFxQ,sBAAMkG,KAAN,CAAYsK,aAAZ,CAA0B,IAA1B;AACD;AACF,aAbI;AAcL9M,mBAAO,iBAAU;AACf7F,gBAAEqK,QAAF,CAAW,UAAX;AACArK,gBAAE0Q,YAAF;AACD;AAjBI,WAAP;AAmBD,SApBD;AAqBD;AACF;AAlCM;AAViC,CAA5C;;AAgDAjR,IAAIC,SAAJ,CAAc,kBAAd,EAAkC;AAChCC,SAAO,CAAC,aAAD,EAAgB,sBAAhB,CADyB;AAEhCC,uJAFgC;AAKhC1C,QAAM,gBAAU;AACd,WAAO,EAAP;AAGD,GAT+B;AAUhCmB,WAAS;AACPqU,aAAS,iBAAS7U,MAAT,EAAgB;AACvB,UAAIA,UAAU,CAAd,EAAiB;AACf,eAAO,IAAP;AACD,OAFD,MAEK;AACH,eAAO,IAAP;AACD;AACF,KAPM;AAQPiV,iBAAa,qBAASjV,MAAT,EAAgB;AAC3B,UAAIsE,QAAQ,IAAZ;AACA,UAAI,KAAKoP,oBAAL,CAA0BjQ,MAA1B,GAAmC,CAAvC,EAA0C;AACxCtB,UAAEwQ,YAAF;AACA,aAAKe,oBAAL,CAA0B5P,OAA1B,CAAkC,UAASC,CAAT,EAAW;AAC3C5B,YAAEwF,IAAF,CAAO;AACLvI,iBAAK,qCADA;AAELE,kBAAM,MAFD;AAGLD,kBAAM;AACJ2U,uBAASjQ,EAAEiD,EADP;AAEJhH,sBAASA,UAAU,IAAX,GAAmB,CAAnB,GAAuB,CAF3B,CAE6B;AAF7B,aAHD;AAOL4H,qBAAS,yBAA2B;AAAA,kBAAjB2E,GAAiB,UAAjBA,GAAiB;AAAA,kBAAZzE,IAAY,UAAZA,IAAY;AAAA,kBAANzI,IAAM,UAANA,IAAM;;AAClC,kBAAI,uBAAuBiL,OAAOC,SAAP,CAAiB1L,QAAjB,CAA0BiK,IAA1B,CAA+BxE,MAAMkG,KAAN,CAAYsK,aAA3C,CAA3B,EAAsF;AACpFxQ,sBAAMkG,KAAN,CAAYsK,aAAZ,CAA0B,IAA1B;AACD;AACD3S,gBAAE0Q,YAAF;AACA1Q,gBAAEqK,QAAF,CAAW,MAAX;AACD,aAbI;AAcLxE,mBAAO,iBAAU;AACf7F,gBAAE0Q,YAAF;AACA1Q,gBAAEqK,QAAF,CAAW,UAAX;AACD;AAjBI,WAAP;AAmBD,SApBD;AAqBD;AACF;AAlCM;AAVuB,CAAlC;;AAgDA;AACA;AACA5K,IAAIC,SAAJ,CAAc,eAAd,EAA+B;AAC7BC,SAAO,EADsB;AAE7BC,+FAF6B;AAK7B1C,QAAM,gBAAU;AACd,WAAO;AACL4O,mBAAa;AADR,KAAP;AAGD,GAT4B;AAU7BjM,WAAS,mBAAU;AACjB,SAAKkM,WAAL;AACD,GAZ4B;AAa7B1N,WAAS;AACP0N,iBAAa,qBAASC,QAAT,EAAkB;AAC7B,UAAI7J,QAAQ,IAAZ;AACAnC,QAAEwF,IAAF,CAAO;AACLrI,cAAM,KADD;AAELF,aAAK,wBAFA;AAGLwI,iBAAS,yBAA2B;AAAA,cAAjBE,IAAiB,UAAjBA,IAAiB;AAAA,cAAXyE,GAAW,UAAXA,GAAW;AAAA,cAANlN,IAAM,UAANA,IAAM;;AAClC,cAAI,KAAKyI,IAAT,EAAe;AACb;AACA;AACA3F,cAAEwF,IAAF,CAAO;AACLrI,oBAAM,KADD;AAELF,mBAAK,0BAFA;AAGLwI,uBAAS,yBAA2B;AAAA,oBAAjBE,IAAiB,UAAjBA,IAAiB;AAAA,oBAAXyE,GAAW,UAAXA,GAAW;AAAA,oBAANlN,IAAM,UAANA,IAAM;;AAClC,oBAAI,KAAKyI,IAAT,EAAe;AACbxD,wBAAM2J,WAAN,GAAoB5O,IAApB;;AAEA,sBAAIiL,OAAOC,SAAP,CAAiB1L,QAAjB,CAA0BiK,IAA1B,CAA+BqF,QAA/B,MAA6C,mBAAjD,EAAsE;AACpEA,6BAASnE,KAAT,CAAe,IAAf,EAAqB3K,IAArB;AACD;AACF,iBAND,MAMK;AACH8C,oBAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,eAbI;AAcLvE,qBAAO,iBAAU;AACf7F,kBAAEqK,QAAF,CAAW,UAAX;AACD;AAhBI,aAAP;AAkBD,WArBD,MAqBK;AACHrK,cAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,SA5BI;AA6BLvE,eAAO,iBAAU;AACf7F,YAAEwK,UAAF;AACD;AA/BI,OAAP;AAkCD,KArCM;AAsCPyB,qBAAiB,yBAASjC,cAAT,EAAwB;AACvC,UAAI7H,QAAQ,IAAZ;AACA,UAAI2C,OAAO9E,EAAE,eAAF,EAAmBV,GAAnB,EAAX;AACA,UAAI4M,eAAelM,EAAE,uBAAF,EAA2BV,GAA3B,EAAnB;AACAU,QAAEwF,IAAF,CAAO;AACLvI,aAAK,uCADA;AAELE,cAAM,MAFD;AAGLD,cAAM;AACJ4H,gBAAMA,IADF;AAEJoH,wBAAcA;AAFV,SAHD;AAOLzG,iBAAS,yBAA2B;AAAA,cAAjBE,IAAiB,UAAjBA,IAAiB;AAAA,cAAXyE,GAAW,UAAXA,GAAW;AAAA,cAANlN,IAAM,UAANA,IAAM;;AAClC,cAAI,KAAKyI,IAAT,EAAe;AACb3F,cAAEqK,QAAF,CAAW,MAAX;AACA;AACAlI,kBAAMkG,KAAN,CAAYkC,UAAZ,CAAuB,IAAvB;;AAEAP,2BAAeM,KAAf;AACD,WAND,MAMK;AACHtK,cAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,SAjBI;AAkBLvE,eAAO,iBAAU;AACf7F,YAAEqK,QAAF,CAAW,UAAX;AACD;AApBI,OAAP;AAsBD,KAhEM;AAiEPiC,cAAU,oBAAU;AAClB,UAAInK,QAAQ,IAAZ;AACA,UAAIoK,eAAe,EAAnB;AACApE,aAAOkE,IAAP,CAAY,KAAKP,WAAjB,EAA8BnK,OAA9B,CAAsC,UAASC,CAAT,EAAW;AAC/C2K,wBAAgB,oBAAmB3K,CAAnB,GAAsB,IAAtB,GAA4BO,MAAM2J,WAAN,CAAkBlK,CAAlB,CAA5B,GAAkD,WAAlE;AACD,OAFD;AAGA5B,QAAEyJ,OAAF,CAAU;AACRC,eAAO,MADC;AAERC,iBAAS,8oBASmG4C,YATnG,yaAFD;AAsBR3C,mBAAW,IAtBH;AAuBRC,qBAAa,qBAvBL;AAwBRC,uBAAe,IAxBP;AAyBRC,4BAAoB,2BAzBZ;AA0BRN,iBAAS,mBAAU;AACjB,cAAIO,iBAAiB,IAArB;AACA7H,gBAAM8J,eAAN,CAAsBjC,cAAtB;AACA,iBAAO,KAAP;AACD,SA9BO;AA+BRE,sBAAc;AA/BN,OAAV;;AAkCAlK,QAAE,cAAF,EAAkB8M,GAAlB,GAAwBC,EAAxB,CAA2B,OAA3B,EAAoC,oBAApC,EAA0D,YAAU;AAClEC,sBAAc,UAAS9P,IAAT,EAAc;AAC1BiF,gBAAM4J,WAAN,CAAkB,YAAU;AAC1B,gBAAIkB,UAAU/P,KAAK+P,OAAnB;;AAEA,gBAAIV,eAAe,EAAnB;AACApE,mBAAOkE,IAAP,CAAYlK,MAAM2J,WAAlB,EAA+BnK,OAA/B,CAAuC,UAASC,CAAT,EAAW;AAChD2K,8BAAgB,oBAAmB3K,CAAnB,GAAsB,IAAtB,GAA4BO,MAAM2J,WAAN,CAAkBlK,CAAlB,CAA5B,GAAkD,WAAlE;AACD,aAFD;;AAIA5B,cAAE,iBAAF,EAAqBkN,KAArB,GAA6B3L,IAA7B,CAAkCgL,YAAlC,EAAgDjN,GAAhD,CAAoD2N,OAApD;AACD,WATD;AAUD,SAXD;AAYD,OAbD;AAcD;AAvHM;AAboB,CAA/B;;AAwIA;AACA;AACAxN,IAAIC,SAAJ,CAAc,gBAAd,EAAgC;AAC9BC,SAAO,CAAC,wBAAD,EAA2B,uBAA3B,EAAoD,YAApD,EAAkE,aAAlE,CADuB;AAE9BC,6FAF8B;AAK9B1C,QAAM,gBAAU;AACd,WAAO,EAAP;AAGD,GAT6B;AAU9BmB,WAAS;AACP0U,YAAQ,kBAAU;AAChB,UAAI5Q,QAAQ,IAAZ;AACA,UAAI,KAAK6Q,sBAAL,CAA4B1R,MAA5B,GAAqC,KAAK2R,qBAAL,CAA2B3R,MAAhE,GAAyE,CAA7E,EAAgF;AAC9E,YAAI4R,aAAa,EAAjB;AACA,YAAI,KAAKF,sBAAL,CAA4B1R,MAA5B,IAAsC,CAA1C,EAA6C;AAC3C;AACAa,gBAAMgR,WAAN,CAAkBxR,OAAlB,CAA0B,UAASC,CAAT,EAAW;AACnC,gBAAI,WAAWA,EAAEzE,IAAjB,EAAuB;AACrB+V,4BAAc,oBAAmBtR,EAAEiD,EAArB,GAAyB,IAAzB,GAA+BjD,EAAEkD,IAAjC,GAAuC,WAArD;AACD;AACF,WAJD;AAKD,SAPD,MAOK;AACH3C,gBAAMiR,UAAN,CAAiBzR,OAAjB,CAAyB,UAASC,CAAT,EAAW;AAClC;AACA,gBAAI,WAAWA,EAAEzE,IAAb,IAAqB,CAACgF,MAAM6Q,sBAAN,CAA6BnD,IAA7B,CAAkC,UAASK,EAAT,EAAY;AAAE,qBAAOA,MAAMtO,EAAEiD,EAAf;AAAmB,aAAnE,CAA1B,EAAgG;AAC9FqO,4BAAc,oBAAmBtR,EAAEiD,EAArB,GAAyB,IAAzB,GAA+BjD,EAAEkD,IAAjC,GAAuC,WAArD;AACD;AACF,WALD;AAMD;;AAED9E,UAAEyJ,OAAF,CAAU;AACRC,iBAAO,MADC;AAERC,mBAAS,2XAK+FuJ,UAL/F,6FAFD;AAYRtJ,qBAAW,IAZH;AAaRC,uBAAa,qBAbL;AAcRC,yBAAe,IAdP;AAeRC,8BAAoB,2BAfZ;AAgBRN,mBAAS,mBAAU;AACjB,gBAAIO,iBAAiB,IAArB;AACA7H,kBAAMkR,WAAN,CAAkBrJ,cAAlB;AACA,mBAAO,KAAP;AACD,WApBO;AAqBRE,wBAAc;AArBN,SAAV;AAuBD,OAzCD,MAyCK;AACHlK,UAAEqK,QAAF,CAAW,YAAX;AACD;AACF,KA/CM;AAgDPgJ,iBAAa,qBAASrJ,cAAT,EAAwB;AACnC,UAAI7H,QAAQ,IAAZ;AACA,UAAIgI,WAAW,KAAK6I,sBAAL,CAA4BhX,IAA5B,CAAiC,UAAS4F,CAAT,EAAW;AACzD,eAAOA,EAAEiD,EAAT;AACD,OAFc,EAEZ+J,IAFY,CAEP,GAFO,CAAf;AAGA,UAAIpB,aAAa,KAAKyF,qBAAL,CAA2BjX,IAA3B,CAAgC,UAAS4F,CAAT,EAAW;AAC1D,eAAOA,EAAEiD,EAAT;AACD,OAFgB,EAEd+J,IAFc,CAET,GAFS,CAAjB;AAGA,UAAI0E,kBAAkBtT,EAAE,eAAF,EAAmBV,GAAnB,EAAtB;AACAU,QAAEwF,IAAF,CAAO;AACLvI,aAAK,qCADA;AAELE,cAAM,MAFD;AAGLD,cAAM;AACJiN,oBAAUA,QADN;AAEJqD,sBAAYA,UAFR;AAGJ8F,2BAAiBA;AAHb,SAHD;AAQL7N,iBAAS,yBAA2B;AAAA,cAAjBE,IAAiB,UAAjBA,IAAiB;AAAA,cAAXyE,GAAW,UAAXA,GAAW;AAAA,cAANlN,IAAM,UAANA,IAAM;;AAClC,cAAI,KAAKyI,IAAT,EAAe;AACb3F,cAAEqK,QAAF,CAAW,MAAX;AACAlI,kBAAMzB,KAAN,CAAY,YAAZ;AACAsJ,2BAAeM,KAAf;AACD,WAJD,MAIK;AACHtK,cAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,SAhBI;AAiBLvE,eAAO,iBAAU;AACf7F,YAAEwK,UAAF;AACD;AAnBI,OAAP;AAqBD;AA9EM;AAVqB,CAAhC;;AA4FA;AACA;AACA/K,IAAIC,SAAJ,CAAc,iBAAd,EAAiC;AAC/BC,SAAO,EADwB;AAE/BC,gGAF+B;AAK/B1C,QAAM,gBAAU;AACd,WAAO;AACLqW,0BAAoB,EADf;AAELC,yBAAmB;AAFd,KAAP;AAID,GAV8B;AAW/B3T,WAAS,mBAAU;AACjB,QAAIsC,QAAQ,IAAZ;AACAnC,MAAEwF,IAAF,CAAO;AACLvI,WAAK,iCADA;AAELC,YAAM;AACJC,cAAM;AADF,OAFD;AAKLsI,eAAS,yBAA2B;AAAA,YAAjBE,IAAiB,UAAjBA,IAAiB;AAAA,YAAXyE,GAAW,UAAXA,GAAW;AAAA,YAANlN,IAAM,UAANA,IAAM;;AAClC,YAAI,KAAKyI,IAAT,EAAe;AACbxD,gBAAMoR,kBAAN,GAA2BrW,IAA3B;AACD;AACF,OATI;AAUL2I,aAAO,iBAAU;AACf7F,UAAEqK,QAAF,CAAW,UAAX;AACD;AAZI,KAAP;AAcArK,MAAEwF,IAAF,CAAO;AACLvI,WAAK,iCADA;AAELC,YAAM;AACJC,cAAM;AADF,OAFD;AAKLsI,eAAS,yBAA2B;AAAA,YAAjBE,IAAiB,UAAjBA,IAAiB;AAAA,YAAXyE,GAAW,UAAXA,GAAW;AAAA,YAANlN,IAAM,UAANA,IAAM;;AAClC,YAAI,KAAKyI,IAAT,EAAe;AACbxD,gBAAMqR,iBAAN,GAA0BtW,IAA1B;AACD;AACF,OATI;AAUL2I,aAAO,iBAAU;AACf7F,UAAEqK,QAAF,CAAW,UAAX;AACD;AAZI,KAAP;AAeD,GA1C8B;AA2C/BhM,WAAS;AACPoV,gBAAY,oBAASzJ,cAAT,EAAwB;AAClC,UAAI7H,QAAQ,IAAZ;AACA,UAAIhF,OAAO6C,EAAE,4BAAF,EAAgCV,GAAhC,EAAX;AACA,UAAIoU,UAAU1T,EAAE,uBAAF,EAA2BV,GAA3B,EAAd;AACA,UAAIqU,cAAc3T,EAAE,oBAAF,EAAwBV,GAAxB,EAAlB;AACA,UAAIsU,eAAe5T,EAAE,uBAAF,EAA2BV,GAA3B,EAAnB;AACA,UAAIuU,UAAU7T,EAAE,kBAAF,EAAsBV,GAAtB,EAAd;AACA,UAAIwU,cAAc9T,EAAE,sBAAF,EAA0BV,GAA1B,EAAlB;AACA,UAAIyU,UAAU/T,EAAE,kBAAF,EAAsBV,GAAtB,EAAd;AACA,UAAI0U,YAAYhU,EAAE,oBAAF,EAAwBV,GAAxB,EAAhB;AACA,UAAI2U,YAAYjU,EAAE,oBAAF,EAAwBV,GAAxB,EAAhB;AACA,UAAI4U,aAAalU,EAAE,qBAAF,EAAyBV,GAAzB,EAAjB;AACA,UAAI6U,aAAanU,EAAE,qBAAF,EAAyBV,GAAzB,EAAjB;;AAEA,UAAIpC,OAAO;AACTC,cAAMA,IADG;AAETuW,iBAASA,OAFA;AAGTC,qBAAaA,WAHJ;AAITC,sBAAcA;AAJL,OAAX;AAMA,UAAI,QAAQzW,IAAZ,EAAkB;AAChB;AACAD,aAAK2W,OAAL,GAAeA,OAAf;AACA3W,aAAK6W,OAAL,GAAeA,OAAf;AACA7W,aAAK8W,SAAL,GAAiBA,SAAjB;AACA9W,aAAK+W,SAAL,GAAiBA,SAAjB;AACA/W,aAAKgX,UAAL,GAAkBA,UAAlB;AACAhX,aAAKiX,UAAL,GAAkBA,UAAlB;AACD,OARD,MAQK;AACHjX,aAAK4W,WAAL,GAAmBA,WAAnB;AACA5W,aAAK8W,SAAL,GAAiBA,SAAjB;AACA9W,aAAK+W,SAAL,GAAiBA,SAAjB;AACD;;AAEDjU,QAAEwF,IAAF,CAAO;AACLvI,aAAK,2BADA;AAELE,cAAM,MAFD;AAGLD,cAAMA,IAHD;AAILuI,iBAAS,yBAA2B;AAAA,cAAjBE,IAAiB,UAAjBA,IAAiB;AAAA,cAAXyE,GAAW,UAAXA,GAAW;AAAA,cAANlN,IAAM,UAANA,IAAM;;AAClC,cAAI,KAAKyI,IAAT,EAAe;AACb3F,cAAEqK,QAAF,CAAW,qBAAX;AACA,gBAAI,uBAAuBlC,OAAOC,SAAP,CAAiB1L,QAAjB,CAA0BiK,IAA1B,CAA+BxE,MAAMkG,KAAN,CAAYsK,aAA3C,CAA3B,EAAsF;AACpFxQ,oBAAMkG,KAAN,CAAYsK,aAAZ,CAA0B,IAA1B;AACD;AACD3I,2BAAeM,KAAf;AACD,WAND,MAMK;AACHtK,cAAEqK,QAAF,CAAWD,GAAX;AACA;AACD;AACF,SAfI;AAgBLvE,eAAO,iBAAU;AACf7F,YAAEqK,QAAF,CAAW,UAAX;AACD;AAlBI,OAAP;AAoBD,KAvDM;AAwDP+J,kBAAc,sBAASpK,cAAT,EAAyBqK,WAAzB,EAAqC;AACjD,UAAIlS,QAAQ,IAAZ;AACA,UAAImS,YAAY,EAAhB;AACA,UAAIC,eAAe,EAAnB;AACA,UAAIzT,QAAQd,EAAE,uBAAF,EAA2BV,GAA3B,EAAZ;;AAEA,UAAI,SAASwB,KAAb,EAAoB;AAClB,YAAIuT,YAAYG,gBAAhB,EAAkC;AAAG;AACnCF,sBAAY;AACV,2BAAe;AACbG,wBAAU;AADG,aADL;AAIV,uBAAW;AACTA,wBAAU;AADD,aAJD;AAOV,4BAAgB;AACdA,wBAAU;AADI,aAPN;AAUV,2BAAe;AACb;AADa;AAVL,WAAZ;AAcAF,yBAAe;AACb,2BAAe;AACbE,wBAAU;AADG,aADF;AAIb,uBAAW;AACTA,wBAAU;AADD,aAJE;AAOb,4BAAgB;AACdA,wBAAU;AADI,aAPH;AAUb,2BAAe;AACb;AADa;AAVF,WAAf;AAcD,SA7BD,MA6BK;AACHH,sBAAY;AACV,2BAAe;AACbG,wBAAU;AADG,aADL;AAIV,uBAAW;AACTA,wBAAU;AADD,aAJD;AAOV,4BAAgB;AACd;AADc,aAPN;AAUV,2BAAe;AACb;AADa,aAVL;AAaV,yBAAa;AACXA,wBAAU;AADC,aAbH;AAgBV,yBAAa;AACXA,wBAAU;AADC;AAhBH,WAAZ;AAoBAF,yBAAe;AACb,2BAAe;AACbE,wBAAU;AADG,aADF;AAIb,uBAAW;AACTA,wBAAU;AADD,aAJE;AAOb,4BAAgB;AACd;AADc,aAPH;AAUb,2BAAe;AACb;AADa,aAVF;AAab,yBAAa;AACXA,wBAAU;AADC,aAbA;AAgBb,yBAAa;AACXA,wBAAU;AADC;AAhBA,WAAf;AAoBD;AACF,OAxED,MAwEK;AACH,YAAIJ,YAAYK,eAAhB,EAAiC;AAAE;AACjCJ,sBAAY;AACV,2BAAe;AACbG,wBAAU;AADG,aADL;AAIV,uBAAW;AACTA,wBAAU;AADD,aAJD;AAOV,4BAAgB;AACdA,wBAAU;AADI,aAPN;AAUV,uBAAW;AACTA,wBAAU;AADD;AAVD,WAAZ;AAcAF,yBAAe;AACb,2BAAe;AACbE,wBAAU;AADG,aADF;AAIb,uBAAW;AACTA,wBAAU;AADD,aAJE;AAOb,4BAAgB;AACdA,wBAAU;AADI,aAPH;AAUb,uBAAW;AACTA,wBAAU;AADD;AAVE,WAAf;AAcD,SA7BD,MA6BK;AACHH,sBAAY;AACV,2BAAe;AACbG,wBAAU;AADG,aADL;AAIV,uBAAW;AACTA,wBAAU;AADD,aAJD;AAOV,4BAAgB;AACd;AADc,aAPN;AAUV,uBAAW;AACTA,wBAAU;AADD,aAVD;AAaV,uBAAW;AACTA,wBAAU;AADD,aAbD;AAgBV,yBAAa;AACXA,wBAAU;AADC,aAhBH;AAmBV,yBAAa;AACXA,wBAAU;AADC,aAnBH;AAsBV,0BAAa;AACXA,wBAAU;AADC,aAtBH;AAyBV,0BAAc;AACZA,wBAAU;AADE;AAzBJ,WAAZ;AA6BAF,yBAAe;AACb,2BAAe;AACbE,wBAAU;AADG,aADF;AAIb,uBAAW;AACTA,wBAAU;AADD,aAJE;AAOb,4BAAgB;AACdA,wBAAU;AADI,aAPH;AAUb,uBAAW;AACTA,wBAAU;AADD,aAVE;AAab,uBAAW;AACTA,wBAAU;AADD,aAbE;AAgBb,yBAAa;AACXA,wBAAU;AADC,aAhBA;AAmBb,yBAAa;AACXA,wBAAU;AADC,aAnBA;AAsBb,0BAAa;AACXA,wBAAU;AADC,aAtBA;AAyBb,0BAAc;AACZA,wBAAU;AADE;AAzBD,WAAf;AA6BD;AACF;;AAEDzU,QAAE,cAAF,EAAkB2U,QAAlB,GAA6BC,SAA7B;AACA5U,QAAE,cAAF,EAAkB2U,QAAlB,GAA6BE,OAA7B;AACA7U,QAAE,cAAF,EAAkB2U,QAAlB,CAA2B;AACzB,sBAAc,cADW;AAEzB,iBAASL,SAFgB;AAGzB,oBAAYC,YAHa;AAIzBO,wBAAgB,wBAASjP,KAAT,EAAgBoI,OAAhB,EAAwB;AACtCpI,gBAAMkP,QAAN,CAAe9G,QAAQV,OAAR,CAAgB,kBAAhB,CAAf;AACD,SANwB;AAOzByH,uBAAe,yBAAU;AACvB7S,gBAAMsR,UAAN,CAAiBzJ,cAAjB;AACD;AATwB,OAA3B;AAWD,KA/OM;AAgPPiL,eAAW,qBAAU;AACnB,UAAI9S,QAAQ,IAAZ;AACA,UAAI+S,aAAa,EAAjB;AACA,UAAIC,cAAc,EAAlB;AACA,UAAIC,UAAU,EAAd;AACA,UAAIC,WAAW,EAAf;;AAEA;AACA,UAAIX,kBAAkB,IAAtB;AACA,UAAIF,mBAAmB,IAAvB;;AAEArM,aAAOkE,IAAP,CAAY,KAAKmH,iBAAjB,EAAoC7R,OAApC,CAA4C,UAASC,CAAT,EAAW;AACrDsT,mBAAWxG,IAAX,CAAgB;AACd7M,iBAAOM,MAAMqR,iBAAN,CAAwB5R,CAAxB,CADO;AAEdd,iBAAOc;AAFO,SAAhB;;AAKAwT,mBAAW,oBAAmBxT,CAAnB,GAAsB,IAAtB,GAA4BO,MAAMqR,iBAAN,CAAwB5R,CAAxB,CAA5B,GAAwD,WAAnE;AACD,OAPD;AAQAuG,aAAOkE,IAAP,CAAY,KAAKkH,kBAAjB,EAAqC5R,OAArC,CAA6C,UAASC,CAAT,EAAW;AACtDuT,oBAAYzG,IAAZ,CAAiB;AACf7M,iBAAOM,MAAMoR,kBAAN,CAAyB3R,CAAzB,CADQ;AAEfd,iBAAOc;AAFQ,SAAjB;;AAKAyT,oBAAY,oBAAmBzT,CAAnB,GAAsB,IAAtB,GAA4BO,MAAMoR,kBAAN,CAAyB3R,CAAzB,CAA5B,GAAyD,WAArE;AACD,OAPD;;AASA5B,QAAEyJ,OAAF,CAAU;AACRC,eAAO,MADC;AAERC,iBAAS,23BAUqGyL,OAVrG,+nHAFD;AA+DRxL,mBAAW,IA/DH;AAgERC,qBAAa,qBAhEL;AAiERC,uBAAe,IAjEP;AAkERC,4BAAoB,2BAlEZ;AAmERN,iBAAS,mBAAU;AACjB,cAAIO,iBAAiB,IAArB;AACA7H,gBAAMiS,YAAN,CAAmBpK,cAAnB,EAAkC;AAChC0K,6BAAiBA,eADe;AAEhCF,8BAAkBA;AAFc,WAAlC;AAIA;AACAxU,YAAE,cAAF,EAAkBsV,MAAlB;AACA,iBAAO,KAAP;AACD,SA5EO;AA6ERpL,sBAAc;AA7EN,OAAV;;AAgFA,UAAIqL,uBAAuB,SAAvBA,oBAAuB,GAAU;AACnCvV,UAAE,cAAF,EAAkByI,IAAlB;AACAzI,UAAE,aAAF,EAAiB2I,IAAjB;AACA3I,UAAE,oBAAF,EAAwBkN,KAAxB,GAAgC3L,IAAhC,CAAqC8T,QAArC;AACA,YAAIb,oBAAoB,IAAxB,EAA8B;AAC5BxU,YAAE,mBAAF,EAAuB2I,IAAvB;AACA3I,YAAE,sBAAF,EAA0B2I,IAA1B;AACD,SAHD,MAGK;AACH3I,YAAE,mBAAF,EAAuByI,IAAvB;AACAzI,YAAE,sBAAF,EAA0B2I,IAA1B;AACD;AACF,OAXD;AAYA,UAAI6M,kBAAkB,SAAlBA,eAAkB,GAAU;AAC9BxV,UAAE,cAAF,EAAkB2I,IAAlB;AACA3I,UAAE,aAAF,EAAiByI,IAAjB;AACAzI,UAAE,oBAAF,EAAwBkN,KAAxB,GAAgC3L,IAAhC,CAAqC6T,OAArC;AACA,YAAIV,mBAAmB,IAAvB,EAA6B;AAC3B1U,YAAE,mBAAF,EAAuB2I,IAAvB;AACA3I,YAAE,sBAAF,EAA0B2I,IAA1B;AACD,SAHD,MAGK;AACH3I,YAAE,mBAAF,EAAuByI,IAAvB;AACAzI,YAAE,sBAAF,EAA0ByI,IAA1B;AACD;AACF,OAXD;AAYA,UAAIgN,iBAAiB,SAAjBA,cAAiB,GAAU;;AAE7B,YAAI3U,QAAQd,EAAE,uBAAF,EAA2BV,GAA3B,EAAZ;AACA,YAAI,SAASwB,KAAb,EAAoB;AAClB0T,6BAAmB,KAAnB;AACAe;AACD,SAHD,MAGK;AACHb,4BAAkB,KAAlB;AACAc;AACD;AACF,OAVD;AAWAxV,QAAE,cAAF,EAAkB8M,GAAlB,GAAwBC,EAAxB,CAA2B,QAA3B,EAAqC,eAArC,EAAsD,YAAU;AAC9D,YAAIjM,QAAQd,EAAE,IAAF,EAAQV,GAAR,EAAZ;AACAU,UAAE,cAAF,EAAkB2U,QAAlB,GAA6BC,SAA7B;AACA,YAAI,SAAS9T,KAAb,EAAoB;AAClByU;AACD,SAFD,MAEK;AACHC;AACD;AACF,OARD,EAQGzI,EARH,CAQM,OARN,EAQe,qBARf,EAQsC,YAAU;AAC9C0I;AACD,OAVD;AAWD;AA1YM;AA3CsB,CAAjC;;AAybAhW,IAAIC,SAAJ,CAAc,iBAAd,EAAiC;AAC/BC,SAAO,EADwB;AAE/BC,8FAF+B;AAK/BvB,WAAS;AACPqX,aAAS,mBAAU;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE,UAAIrF,eAAe5Q,IAAI6Q,MAAJ,CAAW;AAC9BpT,YAD8B,kBACxB;AACJ,iBAAO;AACLC,kBAAK,CADA;AAELwY,yBAAY,EAFP;AAGLC,6BAAgB,EAHX;AAILC,4BAAe,EAJV;AAKLC,sBAAS;AALJ,WAAP;AAOD,SAT6B;;AAU9BlW,wqBAV8B;AA0B9BuB,eAAM;AACJhE,cADI,gBACCmC,GADD,EACK;AACP,gBAAGA,OAAK,CAAR,EAAU;AACR,mBAAKwW,QAAL,GAAgB,KAAKH,WAArB;AACD;AACD,gBAAGrW,OAAK,CAAR,EAAU;AACR,mBAAKwW,QAAL,GAAgB,KAAKF,eAArB;AACD;AACD,gBAAGtW,OAAK,CAAR,EAAU;AACR,mBAAKwW,QAAL,GAAgB,KAAKD,cAArB;AACD;AAEF;AAZG,SA1BwB;AAwC9BhW,eAxC8B,qBAwCrB;AACP,cAAIsC,QAAQ,IAAZ;AACAnC,YAAEwF,IAAF,CAAO;AACLvI,iBAAK,uCADA;AAELE,kBAAM,KAFD;AAGLsI,qBAAS,yBAAqB;AAAA,kBAAnBE,IAAmB,UAAnBA,IAAmB;AAAA,kBAAdyE,GAAc,UAAdA,GAAc;AAAA,kBAAVlN,IAAU,UAAVA,IAAU;;AAC5B,kBAAI,KAAKyI,IAAT,EAAe;AACbxD,sBAAMwT,WAAN,GAAoBzY,IAApB;AACAiF,sBAAM2T,QAAN,GAAiB5Y,IAAjB;AACD;AACF;AARI,WAAP;AAUA8C,YAAEwF,IAAF,CAAO;AACLvI,iBAAK,uCADA;AAELE,kBAAM,KAFD;AAGLsI,qBAAS,yBAAqB;AAAA,kBAAnBE,IAAmB,UAAnBA,IAAmB;AAAA,kBAAdyE,GAAc,UAAdA,GAAc;AAAA,kBAAVlN,IAAU,UAAVA,IAAU;;AAC5B,kBAAI,KAAKyI,IAAT,EAAe;AACbxD,sBAAMyT,eAAN,GAAwB1Y,IAAxB;AACD;AACF;AAPI,WAAP;AASA8C,YAAEwF,IAAF,CAAO;AACLvI,iBAAK,uCADA;AAELE,kBAAM,KAFD;AAGLsI,qBAAS,yBAAqB;AAAA,kBAAnBE,IAAmB,UAAnBA,IAAmB;AAAA,kBAAdyE,GAAc,UAAdA,GAAc;AAAA,kBAAVlN,IAAU,UAAVA,IAAU;;AAC5B,kBAAI,KAAKyI,IAAT,EAAe;AACbxD,sBAAM0T,cAAN,GAAuB3Y,IAAvB;AACD;AACF;AAPI,WAAP;AAUD;AAvE6B,OAAX,CAAnB;;AA0EF,WAAK0T,QAAL,CAAc;AACVlH,eAAO,MADG;AAEVC,iBAAQ0G,YAFE;AAGVzG,mBAAW;AAHD,OAAd;AAMD;AAnHM;AALsB,CAAjC;AA2HA;AACAnK,IAAIC,SAAJ,CAAc,mBAAd,EAAmC;AACjCsG,UAAQ,CAAC5H,WAAD,CADyB;AAEjCuB,SAAO,CAAC,IAAD,EAAO,OAAP,EAAgB,UAAhB,EAA4B,WAA5B,EAAyC,aAAzC,CAF0B;AAGjCC,ovBAHiC;AAejCuB,SAAM,EAf2B;AAkBjCjE,QAAM,gBAAU;AACd,WAAO;AACL;AACAW,cAAQ,gBAFH;AAGL;AACAkY,oBAAc;AAJT,KAAP;AAMD,GAzBgC;AA0BjCC,cAAY;AACVC,WAAO;AACHhS,cAAQ,gBAAUiM,EAAV,UAAuB;AAAA,YAARpP,KAAQ,UAARA,KAAQ;;AAC3B,YAAIA,KAAJ,EAAW;AACPoP,aAAG+F,KAAH;AACH;AACJ;AALE;AADG,GA1BqB;AAmCjC5X,WAAS;AACP6X,eAAW,mBAASrY,MAAT,EAAgB;AACzB,UAAIsE,QAAQ,IAAZ;AACA,UAAI,iBAAiBtE,MAArB,EAA6B;AAC3B;AACA,YAAI,KAAK,KAAKsY,WAAd,EAA2B;AACzB,eAAKJ,YAAL,GAAoBnX,QAAQ,KAAKkC,KAAb,EAAoBjC,MAApB,CAA2B,MAA3B,CAApB;AACD,SAFD,MAEK;AACH,eAAKkX,YAAL,GAAoBnX,QAAQ,KAAKkC,KAAb,EAAoBjC,MAApB,CAA2B,GAA3B,CAApB;AACD;;AAED,aAAKuE,SAAL,CAAe,YAAU;AACvBpD,YAAEmC,MAAMlC,GAAR,EAAagB,IAAb,CAAkB,4CAAlB,EAAgEgV,KAAhE;AACD,SAFD;AAGD;AACD,WAAKpY,MAAL,GAAcA,MAAd;AACD,KAhBM;AAiBPuY,YAAQ,kBAAU;AAChB,WAAKvY,MAAL,GAAc,gBAAd;AACD,KAnBM;AAoBPwY,cAAU,oBAAU;AAAA;;AAClB,UAAIlU,QAAQ,IAAZ;AACA,UAAIoJ,YAAY,KAAKA,SAArB;AACAA,gBAAU,KAAK1G,EAAf,IAAqB,KAAKkR,YAA1B;AACA/V,QAAEwF,IAAF,CAAO;AACLvI,aAAK,KAAKqZ,QADL;AAELpZ,cAAMqO,SAFD;AAGLpO,cAAM,MAHD;AAILsI,iBAAS,yBAAqB;AAAA,cAAnBE,IAAmB,UAAnBA,IAAmB;AAAA,cAAbyE,GAAa,UAAbA,GAAa;AAAA,cAARlN,IAAQ,UAARA,IAAQ;;AAC5B,cAAI,KAAKyI,IAAT,EAAe;AACb3F,cAAEqK,QAAF,CAAW,MAAX;AACA,mBAAKxM,MAAL,GAAc,gBAAd;AACA,mBAAK6C,KAAL,CAAW,cAAX,EAA2B,OAAKqV,YAAhC;;AAEA,gBAAI,uBAAuB5N,OAAOC,SAAP,CAAiB1L,QAAjB,CAA0BiK,IAA1B,CAA+B,OAAK0B,KAAL,CAAWkO,0BAA1C,CAA3B,EAAkG;AAChG,qBAAKlO,KAAL,CAAWkO,0BAAX,CAAsC,IAAtC;AACD;AACF,WARD,MAQK;AACHvW,cAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,SAhBI;AAiBLvE,eAAO,iBAAU;AACf7F,YAAEqK,QAAF,CAAW,UAAX;AACD;AAnBI,OAAP;AAqBD;AA7CM;AAnCwB,CAAnC;;AAoFA;AACA5K,IAAIC,SAAJ,CAAc,mBAAd,EAAkC;AAChCC,SAAM,CAAC,OAAD,EAAS,IAAT,EAAe,YAAf,EAA4B,UAA5B,EAAwC,WAAxC,EAAoD,WAApD,EAAgE,KAAhE,EAAsE,QAAtE,CAD0B;AAEhCC,s9BAFgC;AAwBhC1C,QAAK,gBAAU;AACb,WAAO;AACL4D,aAAM,EADD;AAELkK,yBAAkB;AAFb,KAAP;AAID,GA7B+B;AA8BhC3M,WAAQ;AACNmY,gBADM,wBACOvL,MADP,EACc;;AAElB,UAAG,KAAKpJ,KAAL,IAAc,IAAjB,EAAsB;AACpB,YAAIlD,MAAOsM,OAAOjC,MAAP,CAAclI,KAAzB;AACA,YAAG,cAAckP,IAAd,CAAmBrR,GAAnB,CAAH,EAA2B;AACzB,eAAKmC,KAAL,GAAanC,IAAIiJ,KAAJ,CAAU,CAAV,EAAYjJ,IAAI2C,MAAJ,GAAW,CAAvB,CAAb;AACD;AACF;;AAED,UAAG,KAAKO,KAAL,IAAc,MAAjB,EAAwB;AACtB,YAAIlD,OAAOsM,OAAOjC,MAAP,CAAclI,KAAzB;AACA,YAAG,cAAckP,IAAd,CAAmBrR,IAAnB,CAAH,EAA2B;AACzB,eAAKmC,KAAL,GAAanC,KAAIiJ,KAAJ,CAAU,CAAV,EAAYjJ,KAAI2C,MAAJ,GAAW,CAAvB,CAAb;AACD;AACF;AAEF,KAjBK;;AAkBN6J,qBAAgB,2BAAU;AACxB,WAAKH,iBAAL,GAAyB,IAAzB;AACA,WAAKlK,KAAL,GAAa,KAAK2V,UAAL,CAAgBvX,OAAhB,CAAwB,IAAxB,EAA6B,EAA7B,CAAb;AACA,WAAKmJ,KAAL,CAAW+C,MAAX,GAAoB,KAApB,CAHwB,CAGE;AAC3B,KAtBK;AAuBNE,UAAK,gBAAU;AACb,UAAG,CAAC,KAAKxK,KAAT,EAAe;AACbd,UAAEqK,QAAF,CAAW,KAAKqM,GAAhB;AACA;AACD;AACD,UAAIvU,QAAQ,IAAZ;AACA,UAAIwU,MAAM,2BAAV,CAAsC;AACtC,UAAG,CAACA,IAAI3G,IAAJ,CAAS,KAAKlP,KAAd,CAAJ,EAAyB;AACvBd,UAAEqK,QAAF,CAAW,SAAX;AACA;AACD;AACD,UAAIkB,YAAY,KAAKA,SAArB;AACA,UAAIE,YAAY,KAAKA,SAArB;AACAF,gBAAU,KAAK1G,EAAf,IAAsB,MAAM,KAAK/D,KAAZ,GAAmB,CAAnB,GAAqB,KAAKA,KAA/C;AACAd,QAAEwF,IAAF,CAAO;AACLvI,aAAK,KAAKqZ,QADL;AAELpZ,cAAMqO,SAFD;AAGLpO,cAAMsO,SAHD;AAILhG,iBAAS,yBAA2B;AAAA,cAAjBE,IAAiB,UAAjBA,IAAiB;AAAA,cAAXyE,GAAW,UAAXA,GAAW;AAAA,cAANlN,IAAM,UAANA,IAAM;;AAClC,cAAI,KAAKyI,IAAT,EAAe;AACb3F,cAAEqK,QAAF,CAAW,MAAX;AACAlI,kBAAM6I,iBAAN,GAA0B,KAA1B;AACA7I,kBAAMrB,KAAN,GAAa,EAAb;AACAqB,kBAAMzB,KAAN,CAAY,cAAZ,EAA4ByB,MAAMuJ,UAAlC;AACA,gBAAI,uBAAuBvD,OAAOC,SAAP,CAAiB1L,QAAjB,CAA0BiK,IAA1B,CAA+BxE,MAAMkG,KAAN,CAAYkO,0BAA3C,CAA3B,EAAmG;AACjGpU,oBAAMkG,KAAN,CAAYkO,0BAAZ,CAAuC,IAAvC;AACD;AACF,WARD,MAQK;AACHvW,cAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,SAhBI;AAiBLvE,eAAO,iBAAU;AACf7F,YAAEqK,QAAF,CAAW,UAAX;AACD;AAnBI,OAAP,EAoBG0E,MApBH,CAoBU,YAAI;AACZ5M,cAAMkG,KAAN,CAAY+C,MAAZ,GAAqB,IAArB,CADY,CACc;AAC3B,OAtBD;AAuBD,KA5DK;AA6DNC,YAAO,kBAAU;AACf,WAAKL,iBAAL,GAAyB,KAAzB;AACA,WAAKlK,KAAL,GAAY,EAAZ;AACA,WAAKuH,KAAL,CAAW+C,MAAX,GAAoB,IAApB,CAHe,CAGU;AAC1B;AAjEK;AA9BwB,CAAlC;;AAmGA;AACA;AACA3L,IAAIC,SAAJ,CAAc,2BAAd,EAA0C;AACxCC,SAAM,CAAC,OAAD,EAAS,IAAT,EAAe,YAAf,EAA4B,UAA5B,EAAwC,WAAxC,EAAoD,WAApD,EAAgE,KAAhE,EAAsE,QAAtE,CADkC;AAExCC,04BAFwC;AAuBxC1C,QAAK,gBAAU;AACb,WAAO;AACL4D,aAAM,EADD;AAELkK,yBAAkB;AAFb,KAAP;AAID,GA5BuC;AA6BxC3M,WAAQ;AACNmY,gBADM,wBACO5U,CADP,EACS;;AAEb,UAAI+U,YAAJ;;AAEA,cAAQ,KAAK9U,KAAb;AACE,aAAK,IAAL;AACE8U,gBAAM,iBAAN;AACA;AACF,aAAK,MAAL;AACEA,gBAAM,iBAAN;AACA;AACF,aAAK,MAAL;AACEA,gBAAM,iBAAN;AACA;AACF;AACEA,gBAAM,iBAAN;AACA;AAZJ;;AAeA,UAAI,KAAK/U,EAAEgV,OAAX,EAAoB;AAClB;AACD;;AAED,UAAI,KAAK5G,IAAL,CAAUpO,EAAEiV,GAAZ,CAAJ,EAAsB;AACpB,YAAIF,IAAI3G,IAAJ,CAAS,KAAKlP,KAAL,GAAac,EAAEiV,GAAxB,CAAJ,EAAkC;AAChC,iBAAO,IAAP;AACD,SAFD,MAEO;AACLjV,YAAEkV,cAAF;AACA,iBAAO,KAAP;AACD;AACF;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACD,KArDK;;AAsDN3L,qBAAgB,2BAAU;AACxB,WAAKH,iBAAL,GAAyB,IAAzB;AACA,WAAKlK,KAAL,GAAa,KAAK2V,UAAL,CAAgBvX,OAAhB,CAAwB,IAAxB,EAA6B,EAA7B,CAAb;AACA,WAAKmJ,KAAL,CAAW+C,MAAX,GAAoB,KAApB,CAHwB,CAGE;AAC3B,KA1DK;AA2DNE,UAAK,gBAAU;AACb,UAAG,CAAC,KAAKxK,KAAT,EAAe;AACbd,UAAEqK,QAAF,CAAW,KAAKqM,GAAhB;AACA;AACD;AACD,UAAIvU,QAAQ,IAAZ;AACA,UAAIwU,MAAM,2BAAV;AACA,UAAG,CAACA,IAAI3G,IAAJ,CAAS,KAAKlP,KAAd,CAAJ,EAAyB;AACvBd,UAAEqK,QAAF,CAAW,SAAX;AACA;AACD;AACD,UAAIkB,YAAY,KAAKA,SAArB;AACA,UAAIE,YAAY,KAAKA,SAArB;AACAF,gBAAU,KAAK1G,EAAf,IAAsB,MAAM,KAAK/D,KAAZ,GAAmB,CAAnB,GAAqB,KAAKA,KAA/C;AACAd,QAAEwF,IAAF,CAAO;AACLvI,aAAK,KAAKqZ,QADL;AAELpZ,cAAMqO,SAFD;AAGLpO,cAAMsO,SAHD;AAILhG,iBAAS,yBAA2B;AAAA,cAAjBE,IAAiB,UAAjBA,IAAiB;AAAA,cAAXyE,GAAW,UAAXA,GAAW;AAAA,cAANlN,IAAM,UAANA,IAAM;;AAClC,cAAI,KAAKyI,IAAT,EAAe;AACb3F,cAAEqK,QAAF,CAAW,MAAX;AACAlI,kBAAM6I,iBAAN,GAA0B,KAA1B;AACA7I,kBAAMzB,KAAN,CAAY,cAAZ,EAA4ByB,MAAMrB,KAAlC;AACAqB,kBAAMrB,KAAN,GAAa,EAAb;AACA,gBAAI,uBAAuBqH,OAAOC,SAAP,CAAiB1L,QAAjB,CAA0BiK,IAA1B,CAA+BxE,MAAMkG,KAAN,CAAYkO,0BAA3C,CAA3B,EAAmG;AACjGpU,oBAAMkG,KAAN,CAAYkO,0BAAZ,CAAuC,IAAvC;AACD;AACF,WARD,MAQK;AACHvW,cAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,SAhBI;AAiBLvE,eAAO,iBAAU;AACf7F,YAAEqK,QAAF,CAAW,UAAX;AACD;AAnBI,OAAP,EAoBG0E,MApBH,CAoBU,YAAI;AACZ5M,cAAMkG,KAAN,CAAY+C,MAAZ,GAAqB,IAArB,CADY,CACc;AAC3B,OAtBD;AAuBD,KAhGK;AAiGNC,YAAO,kBAAU;AACf,WAAKL,iBAAL,GAAyB,KAAzB;AACA,WAAKlK,KAAL,GAAY,EAAZ;AACA,WAAKuH,KAAL,CAAW+C,MAAX,GAAoB,IAApB,CAHe,CAGU;AAC1B;AArGK;AA7BgC,CAA1C;AAqIA;AACA3L,IAAIC,SAAJ,CAAc,iBAAd,EAAgC;AAC9BC,SAAM,CAAC,KAAD,CADwB;AAE9BC,iuBAF8B;AAkB9B1C,QAAK,gBAAU;AACb,WAAO;AACL4D,aAAM,EADD;AAELkK,yBAAkB,KAFb;AAGLpK,eAAQ,EAHH;AAILmW,cAAO,EAJF;AAKLjS,YAAK;AALA,KAAP;AAOD,GA1B6B;AA2B9BzG,WAAQ;AACN8M,qBAAgB,2BAAU;AACxB,WAAKH,iBAAL,GAAyB,IAAzB;AACA,WAAK+L,MAAL,CAAY,CAAZ,EAAehX,SAAf,CAAyBc,QAAzB,CAAkC,CAAC,KAAKqF,GAAL,CAASgG,YAAV,CAAlC;AACA,WAAK7D,KAAL,CAAW+C,MAAX,GAAoB,KAApB,CAHwB,CAGE;AAC3B,KALK;AAMNE,UAAK,gBAAU;AACb,UAAInJ,QAAQ,IAAZ;AACA,UAAIrB,QAAQ,KAAKiW,MAAL,CAAY,CAAZ,EAAehX,SAAf,CAAyBiX,QAAzB,GAAoC,CAApC,CAAZ;AACA;AACA,UAAG,CAAClW,KAAJ,EAAU;AACRd,UAAEqK,QAAF,CAAW,SAAX;AACA;AACD;AACD,UAAIvF,OAAO9E,EAAEmC,MAAMlC,GAAR,EAAagB,IAAb,CAAkB,OAAlB,EAA2BgW,IAA3B,EAAX;AACA,UAAGnS,KAAKoS,OAAL,CAAa,KAAb,KAAqB,CAAC,CAAzB,EAA2B;AACzBlX,UAAEqK,QAAF,CAAW,gBAAX;AACA;AACD;AACD,UAAIkB,YAAY;AACdpB,kBAAS,KAAKjE,GAAL,CAASrB,EADJ;AAEdqH,sBAAapL;;AAFC,OAAhB;AAKA,UAAI2K,YAAY,MAAhB;AACAzL,QAAEwF,IAAF,CAAO;AACLvI,aAAK,0CADA;AAELC,cAAMqO,SAFD;AAGLpO,cAAMsO,SAHD;AAILhG,iBAAS,yBAA2B;AAAA,cAAjBE,IAAiB,UAAjBA,IAAiB;AAAA,cAAXyE,GAAW,UAAXA,GAAW;AAAA,cAANlN,IAAM,UAANA,IAAM;;AAClC,cAAI,KAAKyI,IAAT,EAAe;AACb3F,cAAEqK,QAAF,CAAW,MAAX;AACAlI,kBAAM6I,iBAAN,GAA0B,KAA1B;AACA7I,kBAAMrB,KAAN,GAAa,EAAb;AACAqB,kBAAM+D,GAAN,CAAUgG,YAAV,GAAyBpL,KAAzB,EACAqB,MAAM2C,IAAN,GAAa9E,EAAEmC,MAAMlC,GAAR,EAAagB,IAAb,CAAkB,OAAlB,EAA2BgW,IAA3B,EADb;AAEA9U,kBAAMgV,WAAN,CAAkBhV,MAAM+D,GAAxB;AACD,WAPD,MAOK;AACHlG,cAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,SAfI;AAgBLvE,eAAO,iBAAU;AACf7F,YAAEqK,QAAF,CAAW,UAAX;AACD;AAlBI,OAAP,EAmBG0E,MAnBH,CAmBU,YAAI;AACZ5M,cAAMkG,KAAN,CAAY+C,MAAZ,GAAqB,IAArB,CADY,CACc;AAC3B,OArBD;AAsBD,KA/CK;AAgDNC,YAAO,kBAAU;AACf,WAAKL,iBAAL,GAAyB,KAAzB;AACA,WAAKlK,KAAL,GAAY,EAAZ;AACA,WAAKuH,KAAL,CAAW+C,MAAX,GAAoB,IAApB,CAHe,CAGU;AAC1B,KApDK;AAqDNgM,eArDM,yBAqDO;AACX,UAAIxW,UAAU,KAAKA,OAAnB;AACAA,cAAQe,OAAR,CAAgB,UAASC,CAAT,EAAW;AACzB,YAAGA,EAAE/D,MAAF,IAAY,CAAf,EAAiB;AACf+D,YAAEyV,QAAF,GAAazV,EAAE0V,SAAf;AAED,SAHD,MAGM,IAAG1V,EAAE/D,MAAF,IAAW,CAAd,EAAgB;AACpB+D,YAAEyV,QAAF,GAAazV,EAAE0V,SAAF,GAAY,OAAzB;AACD;AACF,OAPD;AAQA,UAAI9I,OAAO,IAAX;AACA,WAAKuI,MAAL,GAAc/W,EAAE,KAAKC,GAAP,EAAYgB,IAAZ,CAAiB,eAAjB,EAAkClB,SAAlC,CAA4C;AACxDwX,kBAAU,CAD8C;AAExDjX,oBAAY,SAF4C;AAGxDC,oBAAY,UAH4C;AAIxDiX,qBAAa,WAJ2C;AAKxD5W,iBAASA,OAL+C;AAMxD6W,gBAAQ,KANgD;AAOxDC,cAPwD,kBAOjD/Y,GAPiD,EAO5C;AACV,eAAKgZ,iBAAL,CAAuB1W,IAAvB,CAA4B,wBAAsBuN,KAAKtI,GAAL,CAASgG,YAA/B,GAA4C,GAAxE,EAA6EvD,IAA7E,GADU,CAC0E;AACpF,cAAG,KAAKgP,iBAAL,CAAuB1W,IAAvB,CAA4B,SAA5B,EAAuCK,MAAvC,IAA+C,CAAlD,EAAoD;AAClD,iBAAKqW,iBAAL,CAAuBpW,IAAvB,CAA4B,yDAA5B;AACA,iBAAKqW,SAAL,CAAenP,IAAf;AACD;AACF;AAbuD,OAA5C,CAAd;AAeA,WAAKsO,MAAL,CAAY,CAAZ,EAAehX,SAAf,CAAyBc,QAAzB,CAAkC,CAAC,KAAKqF,GAAL,CAASgG,YAAV,CAAlC;AACA,WAAK6K,MAAL,CAAY,CAAZ,EAAehX,SAAf,CAAyB4X,iBAAzB,CAA2C1W,IAA3C,CAAgD,wBAAsB,KAAKiF,GAAL,CAASgG,YAA/B,GAA4C,GAA5F,EAAiGvD,IAAjG,GA3BW,CA2B6F;AACzG,KAjFK;AAkFNwO,eAlFM,uBAkFMjR,GAlFN,EAkFU;AACdA,UAAI2R,QAAJ,GAAgB,KAAK/S,IAArB;AACA,UAAGoB,IAAIiK,WAAJ,IAAmBjK,IAAIiK,WAAJ,YAA2B3I,KAAjD,EAAuD;AACrD,aAAI,IAAIzK,IAAI,CAAZ,EAAeA,IAAEmJ,IAAIiK,WAAJ,CAAgB7O,MAAjC,EAAwCvE,GAAxC,EAA4C;AAC1C,eAAKoa,WAAL,CAAiBjR,IAAIiK,WAAJ,CAAgBpT,CAAhB,CAAjB;AACD;AACF;AACD,UAAGmJ,IAAI+J,aAAJ,IAAqB/J,IAAI+J,aAAJ,YAA6BzI,KAArD,EAA2D;AACzD,aAAI,IAAIzK,KAAI,CAAZ,EAAeA,KAAEmJ,IAAI+J,aAAJ,CAAkB3O,MAAnC,EAA0CvE,IAA1C,EAA8C;AAC5C,eAAKoa,WAAL,CAAiBjR,IAAI+J,aAAJ,CAAkBlT,EAAlB,CAAjB;AACD;AACF;AACF,KA9FK;AA+FN+a,cA/FM,wBA+FM;AACV,UAAI3V,QAAQ,IAAZ;AACAnC,QAAEwF,IAAF,CAAO;AACLvI,aAAK,4CAA0CkF,MAAM+D,GAAN,CAAUgG,YADpD;AAEL/O,cAAK,KAFA;AAGLsI,iBAAS,yBAA2B;AAAA,cAAjBE,IAAiB,UAAjBA,IAAiB;AAAA,cAAXyE,GAAW,UAAXA,GAAW;AAAA,cAANlN,IAAM,UAANA,IAAM;;AAClC,cAAI,KAAKyI,IAAT,EAAe;AACbxD,kBAAM6I,iBAAN,GAA0B,KAA1B;AACA7I,kBAAMrB,KAAN,GAAa,EAAb;AACAqB,kBAAMvB,OAAN,GAAgB1D,IAAhB;AACAiF,kBAAMiV,WAAN;AACD,WALD,MAKK;AACHpX,cAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,SAZI;AAaLvE,eAAO,iBAAU;AACf7F,YAAEqK,QAAF,CAAW,UAAX;AACD;AAfI,OAAP;AAiBD;AAlHK,GA3BsB;AA+I9BxK,SA/I8B,qBA+IrB;AACP,QAAIsC,QAAQ,IAAZ;AACAnC,MAAEwF,IAAF,CAAO;AACLvI,WAAK,4CAA0CkF,MAAM+D,GAAN,CAAUgG,YADpD;AAEL/O,YAAK,KAFA;AAGLsI,eAAS,yBAA2B;AAAA,YAAjBE,IAAiB,UAAjBA,IAAiB;AAAA,YAAXyE,GAAW,UAAXA,GAAW;AAAA,YAANlN,IAAM,UAANA,IAAM;;AAClC,YAAI,KAAKyI,IAAT,EAAe;AACbxD,gBAAM6I,iBAAN,GAA0B,KAA1B;AACA7I,gBAAMrB,KAAN,GAAa,EAAb;AACAqB,gBAAMvB,OAAN,GAAgB1D,IAAhB;AACAiF,gBAAMiV,WAAN;AACD,SALD,MAKK;AACHpX,YAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,OAZI;AAaLvE,aAAO,iBAAU;AACf7F,UAAEqK,QAAF,CAAW,UAAX;AACD;AAfI,KAAP;AAkBD,GAnK6B;;AAoK9BQ,YAAS;AACPhN,UADO,oBACC;AACN,UAAG,KAAKqI,GAAL,CAASrI,MAAT,IAAmB,CAAtB,EAAwB;AACtB,eAAO,KAAP;AACD,OAFD,MAEK;AACH,eAAO,IAAP;AACD;AACF;AAPM;AApKqB,CAAhC;AA8KA4B,IAAIC,SAAJ,CAAc,uBAAd,EAAsC;AACpCC,SAAM,CAAC,QAAD,CAD8B;AAEpCC,kqBAFoC;AAiBpC1C,QAAK,gBAAU;AACb,WAAO;AACL4D,aAAM,EADD;AAELkK,yBAAkB,KAFb;AAGLpK,eAAQ,EAHH;AAILmW,cAAO;AAJF,KAAP;AAMD,GAxBmC;AAyBpC1Y,WAAQ;AACN8M,qBAAgB,2BAAU;AACxB,WAAKH,iBAAL,GAAyB,IAAzB;AACA,WAAK+L,MAAL,CAAY,CAAZ,EAAehX,SAAf,CAAyBc,QAAzB,CAAkC,CAAC,KAAKgI,MAAL,CAAYqD,YAAb,CAAlC;AACA,WAAK7D,KAAL,CAAW+C,MAAX,GAAoB,KAApB,CAHwB,CAGE;AAC3B,KALK;AAMNE,UAAK,gBAAU;AACb,UAAInJ,QAAQ,IAAZ;AACA,UAAIrB,QAAQ,KAAKiW,MAAL,CAAY,CAAZ,EAAehX,SAAf,CAAyBiX,QAAzB,GAAoC,CAApC,CAAZ;AACA;AACA,UAAG,CAAClW,KAAJ,EAAU;AACRd,UAAEqK,QAAF,CAAW,SAAX;AACA;AACD;AACA,UAAIvF,OAAO9E,EAAEmC,MAAMlC,GAAR,EAAagB,IAAb,CAAkB,OAAlB,EAA2BgW,IAA3B,EAAX;AACD,UAAGnS,KAAKoS,OAAL,CAAa,KAAb,KAAuB,CAAC,CAA3B,EAA6B;AAC3BlX,UAAEqK,QAAF,CAAW,gBAAX;AACA;AACD;AACD,UAAIkB,YAAY;AACdiC,oBAAW,KAAK3E,MAAL,CAAYhE,EADT;AAEdqH,sBAAapL;AAFC,OAAhB;AAIA,UAAI2K,YAAY,MAAhB;AACAzL,QAAEwF,IAAF,CAAO;AACLvI,aAAK,0CADA;AAELC,cAAMqO,SAFD;AAGLpO,cAAMsO,SAHD;AAILhG,iBAAS,yBAA2B;AAAA,cAAjBE,IAAiB,UAAjBA,IAAiB;AAAA,cAAXyE,GAAW,UAAXA,GAAW;AAAA,cAANlN,IAAM,UAANA,IAAM;;AAClC,cAAI,KAAKyI,IAAT,EAAe;AACb3F,cAAEqK,QAAF,CAAW,MAAX;AACAlI,kBAAM6I,iBAAN,GAA0B,KAA1B;AACA7I,kBAAMkG,KAAN,CAAY+C,MAAZ,GAAqB,IAArB,CAHa,CAGa;AAC1BjJ,kBAAMrB,KAAN,GAAa,EAAb;AACAqB,kBAAM0G,MAAN,CAAaqD,YAAb,GAA4BpL,KAA5B,EACAqB,MAAM0G,MAAN,CAAagP,QAAb,GAAwB7X,EAAEmC,MAAMlC,GAAR,EAAagB,IAAb,CAAkB,OAAlB,EAA2BgW,IAA3B,EADxB;AAED,WAPD,MAOK;AACHjX,cAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,SAfI;AAgBLvE,eAAO,iBAAU;AACf7F,YAAEqK,QAAF,CAAW,UAAX;AACD;AAlBI,OAAP,EAmBG0E,MAnBH,CAmBU,YAAI;AACZ5M,cAAMkG,KAAN,CAAY+C,MAAZ,GAAqB,IAArB,CADY,CACc;AAC3B,OArBD;AAsBD,KA9CK;AA+CNC,YAAO,kBAAU;AACf,WAAKL,iBAAL,GAAyB,KAAzB;AACA,WAAKlK,KAAL,GAAY,EAAZ;AACA,WAAKuH,KAAL,CAAW+C,MAAX,GAAoB,IAApB,CAHe,CAGU;AAC1B,KAnDK;AAoDNgM,eApDM,yBAoDO;AACX,UAAIxW,UAAU,KAAKA,OAAnB;AACAA,cAAQe,OAAR,CAAgB,UAASC,CAAT,EAAW;AACzB,YAAGA,EAAE/D,MAAF,IAAY,CAAf,EAAiB;AACf+D,YAAEyV,QAAF,GAAazV,EAAE0V,SAAf;AACD,SAFD,MAEM,IAAG1V,EAAE/D,MAAF,IAAW,CAAd,EAAgB;AACpB+D,YAAEyV,QAAF,GAAazV,EAAE0V,SAAF,GAAY,OAAzB;AACD;AACF,OAND;AAOA,UAAI9I,OAAO,IAAX;AACA,WAAKuI,MAAL,GAAc/W,EAAE,KAAKC,GAAP,EAAYgB,IAAZ,CAAiB,eAAjB,EAAkClB,SAAlC,CAA4C;AACxDwX,kBAAU,CAD8C;AAExDjX,oBAAY,SAF4C;AAGxDC,oBAAY,UAH4C;AAIxDiX,qBAAa,WAJ2C;AAKxD5W,iBAASA,OAL+C;AAMxD6W,gBAAQ,KANgD;AAOxDC,cAPwD,kBAOjD/Y,GAPiD,EAO5C;AACV,eAAKgZ,iBAAL,CAAuB1W,IAAvB,CAA4B,wBAAsBuN,KAAK3F,MAAL,CAAYqD,YAAlC,GAA+C,GAA3E,EAAgFvD,IAAhF,GADU,CAC6E;AACvF,cAAG,KAAKgP,iBAAL,CAAuB1W,IAAvB,CAA4B,SAA5B,EAAuCK,MAAvC,IAA+C,CAAlD,EAAoD;AAClD,iBAAKqW,iBAAL,CAAuBpW,IAAvB,CAA4B,yDAA5B;AACA,iBAAKqW,SAAL,CAAenP,IAAf;AACD;AACF;AAbuD,OAA5C,CAAd;AAeA,WAAKsO,MAAL,CAAY,CAAZ,EAAehX,SAAf,CAAyBc,QAAzB,CAAkC,CAAC,KAAKgI,MAAL,CAAYqD,YAAb,CAAlC;AACA,WAAK6K,MAAL,CAAY,CAAZ,EAAehX,SAAf,CAAyB4X,iBAAzB,CAA2C1W,IAA3C,CAAgD,wBAAsB,KAAK4H,MAAL,CAAYqD,YAAlC,GAA+C,GAA/F,EAAoGvD,IAApG,GA1BW,CA0BgG;AAC5G;AA/EK,GAzB4B;AA0GpC9I,SA1GoC,qBA0G3B;AACP,QAAIsC,QAAQ,IAAZ;AACAnC,MAAEwF,IAAF,CAAO;AACLvI,WAAK,4CAA0CkF,MAAM0G,MAAN,CAAaqD,YADvD;AAEL/O,YAAK,KAFA;AAGLsI,eAAS,yBAA2B;AAAA,YAAjBE,IAAiB,UAAjBA,IAAiB;AAAA,YAAXyE,GAAW,UAAXA,GAAW;AAAA,YAANlN,IAAM,UAANA,IAAM;;AAClC,YAAI,KAAKyI,IAAT,EAAe;AACbxD,gBAAM6I,iBAAN,GAA0B,KAA1B;AACA7I,gBAAMrB,KAAN,GAAa,EAAb;AACAqB,gBAAMvB,OAAN,GAAgB1D,IAAhB;AACAiF,gBAAMiV,WAAN;AACD,SALD,MAKK;AACHpX,YAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,OAZI;AAaLvE,aAAO,iBAAU;AACf7F,UAAEqK,QAAF,CAAW,UAAX;AACD;AAfI,KAAP;AAkBD;AA9HmC,CAAtC;AAgIA;AACA5K,IAAIC,SAAJ,CAAc,wBAAd,EAAwC;AACtCC,SAAO,CAAC,IAAD,EAAO,OAAP,EAAgB,UAAhB,EAA4B,WAA5B,CAD+B;AAEtCC,gtBAFsC;AActC1C,QAAM,gBAAU;AACd,WAAO;AACL;AACAW,cAAQ,gBAFH;AAGL;AACAkY,oBAAc;AAJT,KAAP;AAMD,GArBqC;AAsBtCC,cAAY;AACVC,WAAO;AACHhS,cAAQ,gBAAUiM,EAAV,UAAuB;AAAA,YAARpP,KAAQ,UAARA,KAAQ;;AAC3B,YAAIA,KAAJ,EAAW;AACPoP,aAAG+F,KAAH;AACH;AACJ;AALE;AADG,GAtB0B;AA+BtC5X,WAAS;AACP0Z,mBAAe,uBAAStX,CAAT,EAAW;AACxB,UAAI,MAAMA,CAAN,IAAWhC,aAAagC,CAA5B,EAA+B;AAC7B,eAAO,IAAP;AACD,OAFD,MAEK;AACH,eAAOA,CAAP;AACD;AACF,KAPM;AAQPyV,eAAW,mBAASrY,MAAT,EAAgB;AACzB,UAAIsE,QAAQ,IAAZ;AACA,UAAI,iBAAiBtE,MAArB,EAA6B;AAC3B,aAAKkY,YAAL,GAAoB,KAAKjV,KAAzB;AACA;AACA,aAAKsC,SAAL,CAAe,YAAU;AACvBpD,YAAEmC,MAAMlC,GAAR,EAAagB,IAAb,CAAkB,4CAAlB,EAAgEgV,KAAhE;AACD,SAFD;AAGD;AACD,WAAKpY,MAAL,GAAcA,MAAd;AACD,KAlBM;AAmBPuY,YAAQ,kBAAU;AAChB,WAAKvY,MAAL,GAAc,gBAAd;AACD,KArBM;AAsBPwY,cAAU,oBAAU;AAAA;;AAClB,UAAIlU,QAAQ,IAAZ;AACA,UAAIoJ,YAAY,KAAKA,SAArB;AACAA,gBAAU,KAAK1G,EAAf,IAAqB,KAAKkR,YAA1B;AACA/V,QAAEwF,IAAF,CAAO;AACLvI,aAAK,KAAKqZ,QADL;AAELpZ,cAAMqO,SAFD;AAGLpO,cAAM,MAHD;AAILsI,iBAAS,yBAAqB;AAAA,cAAnBE,IAAmB,UAAnBA,IAAmB;AAAA,cAAbyE,GAAa,UAAbA,GAAa;AAAA,cAARlN,IAAQ,UAARA,IAAQ;;AAC5B,cAAI,KAAKyI,IAAT,EAAe;AACb3F,cAAEqK,QAAF,CAAW,MAAX;AACA,mBAAKxM,MAAL,GAAc,gBAAd;AACA,mBAAK6C,KAAL,CAAW,cAAX,EAA2B,OAAKqV,YAAhC;;AAEA,gBAAI,uBAAuB5N,OAAOC,SAAP,CAAiB1L,QAAjB,CAA0BiK,IAA1B,CAA+B,OAAK0B,KAAL,CAAWkO,0BAA1C,CAA3B,EAAkG;AAChG,qBAAKlO,KAAL,CAAWkO,0BAAX,CAAsC,IAAtC;AACD;AACF,WARD,MAQK;AACHvW,cAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,SAhBI;AAiBLvE,eAAO,iBAAU;AACf7F,YAAEqK,QAAF,CAAW,UAAX;AACD;AAnBI,OAAP;AAqBD;AA/CM;AA/B6B,CAAxC;;AAkFA;AACA5K,IAAIC,SAAJ,CAAc,sBAAd,EAAsC;AACpCsG,UAAQ,CAAC5H,WAAD,CAD4B;AAEpCuB,SAAO,CAAC,IAAD,EAAO,OAAP,EAAgB,UAAhB,EAA4B,WAA5B,EAAyC,OAAzC,EAAkD,cAAlD,EAAkE,eAAlE,CAF6B;AAGpCC,kzCAHoC;AAyBpCuB,SAAO;AACL;;AAEA4U,kBAAc,sBAASjV,KAAT,EAAgBO,GAAhB,EAAoB;AAChC,UAAIpF,MAAM6E,MAAMkX,KAAN,CAAY,mBAAZ,CAAV;AACA,UAAI/b,OAAOA,IAAIqF,MAAJ,GAAa,CAAxB,EAA2B;AACzB,aAAKyU,YAAL,GAAoB9Z,IAAI,CAAJ,CAApB;AACD;AACF;AARI,GAzB6B;AAmCpCiB,QAAM,gBAAU;AACd,WAAO;AACL;AACAW,cAAQ,gBAFH;AAGL;AACAkY,oBAAc,KAAKkC;AAJd,KAAP;AAMD,GA1CmC;AA2CpC5Z,WAAS;AACP6X,eAAW,mBAASrY,MAAT,EAAgB;AACzB,WAAKA,MAAL,GAAcA,MAAd;AACD,KAHM;AAIPqa,gBAAY,sBAAU;AACpB,WAAKhC,SAAL,CAAe,gBAAf;AACA,WAAKH,YAAL,GAAoB,EAApB;AACD,KAPM;AAQPM,cAAU,oBAAU;AAClB,UAAIlU,QAAQ,IAAZ;AACA,UAAIoJ,YAAY,KAAKA,SAArB;AACAA,gBAAU,KAAK1G,EAAf,IAAsB,MAAM,KAAKkR,YAAZ,GAA0B,CAA1B,GAA4B,KAAKA,YAAtD;AACA/V,QAAEwF,IAAF,CAAO;AACLvI,aAAK,KAAKqZ,QADL;AAELpZ,cAAMqO,SAFD;AAGLpO,cAAM,MAHD;AAILsI,iBAAS,yBAA2B;AAAA,cAAjBE,IAAiB,UAAjBA,IAAiB;AAAA,cAAXyE,GAAW,UAAXA,GAAW;AAAA,cAANlN,IAAM,UAANA,IAAM;;AAClC,cAAI,KAAKyI,IAAT,EAAe;AACb3F,cAAEqK,QAAF,CAAW,MAAX;AACAlI,kBAAMtE,MAAN,GAAe,gBAAf;AACAsE,kBAAMzB,KAAN,CAAY,cAAZ,EAA4ByB,MAAM4T,YAAlC;;AAEA,gBAAI,uBAAuB5N,OAAOC,SAAP,CAAiB1L,QAAjB,CAA0BiK,IAA1B,CAA+BxE,MAAMkG,KAAN,CAAYkO,0BAA3C,CAA3B,EAAmG;AACjGpU,oBAAMkG,KAAN,CAAYkO,0BAAZ,CAAuC,IAAvC;AACD;AACF,WARD,MAQK;AACHvW,cAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,SAhBI;AAiBLvE,eAAO,iBAAU;AACf7F,YAAEqK,QAAF,CAAW,UAAX;AACD;AAnBI,OAAP;AAqBD;AAjCM;AA3C2B,CAAtC;;AAgFA;AACA5K,IAAIC,SAAJ,CAAc,sBAAd,EAAqC;AACnC;AACAC,SAAO,CAAC,OAAD,EAAU,UAAV,EAAsB,WAAtB,EAAmC,IAAnC,EAAyC,QAAzC,CAF4B;AAGnCC,kxBAHmC;AAgBnC1C,QAAM,gBAAY;AAChB,WAAO;AACLib,mBAAa,KADR;AAELpC,oBAAc;AAFT,KAAP;AAID,GArBkC;AAsBnC1X,WAAS;AACP+Z,kBAAc,sBAASxW,CAAT,EAAYd,KAAZ,EAAkB;AAC9B;AACE;AACA;AACA;AACA,UAAI,KAAKc,EAAEgV,OAAX,EAAoB;AAClB;AACD;;AAED,UAAI,KAAK5G,IAAL,CAAUpO,EAAEiV,GAAZ,CAAJ,EAAsB;AACpB,YAAI,kBAAkB7G,IAAlB,CAAuBlP,QAAQc,EAAEiV,GAAjC,CAAJ,EAA2C;AACzC;AACA,iBAAO,IAAP;AACD;AACDjV,UAAEkV,cAAF;AACA,eAAO,KAAP;AACD;AACDlV,QAAEkV,cAAF;AACA,aAAO,KAAP;AACF;AACA;AACA;AACD,KAvBM;AAwBPuB,YAAQ,kBAAY;AAAE;AACpB,WAAKF,WAAL,GAAmB,IAAnB;AACA,UAAIhW,QAAQ,IAAZ;AACA,UAAI,MAAM,KAAKrB,KAAX,IAAoBrC,aAAa,KAAKqC,KAA1C,EAAiD;AAC/C,aAAKiV,YAAL,GAAoB,EAApB;AACD,OAFD,MAEO;AACL,aAAKA,YAAL,GAAoB,KAAKjV,KAAzB;AACD;AACD,WAAKsC,SAAL,CAAe,YAAU;AACvBpD,UAAEmC,MAAMlC,GAAR,EAAagB,IAAb,CAAkB,uCAAlB,EAA2DgV,KAA3D;AACD,OAFD;AAGD,KAnCM;AAoCPqC,iBAAa,uBAAY;AACvB,WAAKH,WAAL,GAAmB,KAAnB;AACD,KAtCM;AAuCP/B,YAAQ,kBAAY;AAClB,WAAK+B,WAAL,GAAmB,KAAnB;AACD,KAzCM;AA0CPI,qBAAiB,2BAAY;AAC3B,UAAI,MAAM,KAAKzX,KAAX,IAAoBrC,aAAa,KAAKqC,KAA1C,EAAiD;AAC/C,eAAO,IAAP;AACD,OAFD,MAEO;AACL,eAAO,KAAKA,KAAZ;AACD;AACF,KAhDM;AAiDPwK,UAAM,gBAAY;AAChB,UAAInJ,QAAQ,IAAZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAI,MAAM,KAAK4T,YAAf,EAA6B;AAC3B/V,UAAEqK,QAAF,CAAW,QAAX;AACA,eAAO,KAAP;AACD;;AAEDrK,QAAEwQ,YAAF,CAAe,MAAf;;AAEA,UAAIgI,WAAWrQ,OAAOsQ,MAAP,CAAc,EAAd,EAAkB,KAAKlN,SAAvB,CAAf;AACAiN,eAAS,KAAK3T,EAAd,IAAoB,KAAKkR,YAAzB;AACA/V,QAAEwF,IAAF,CAAO;AACLvI,aAAK,KAAKqZ,QADL;AAELnZ,cAAM,MAFD;AAGLD,cAAMsb,QAHD;AAIL/S,iBAAQ,yBAA2B;AAAA,cAAhBE,IAAgB,UAAhBA,IAAgB;AAAA,cAAXyE,GAAW,UAAXA,GAAW;AAAA,cAAPlN,IAAO,UAAPA,IAAO;;AACjC8C,YAAE0Q,YAAF;AACA,cAAI,KAAK/K,IAAT,EAAe;AACbxD,kBAAMuW,WAAN,GAAoB,KAApB;AACA1Y,cAAEqK,QAAF,CAAW,MAAX;;AAEA;AACA,gBAAI,uBAAuBlC,OAAOC,SAAP,CAAiB1L,QAAjB,CAA0BiK,IAA1B,CAA+BxE,MAAMkG,KAAN,CAAYkO,0BAA3C,CAA3B,EAAmG;AACjGpU,oBAAMkG,KAAN,CAAYkO,0BAAZ,CAAuC,IAAvC;AACD;AACD;AACA,gBAAI,uBAAuBpO,OAAOC,SAAP,CAAiB1L,QAAjB,CAA0BiK,IAA1B,CAA+BxE,MAAMkG,KAAN,CAAYsQ,iBAA3C,CAA3B,EAA0F;AACxFxW,oBAAMkG,KAAN,CAAYsQ,iBAAZ,CAA8B,IAA9B;AACD;;AAED;AACA,gBAAI,uBAAuBxQ,OAAOC,SAAP,CAAiB1L,QAAjB,CAA0BiK,IAA1B,CAA+BxE,MAAMkG,KAAN,CAAYuQ,IAA3C,CAA3B,EAA6E;AAC3EzW,oBAAMkG,KAAN,CAAYuQ,IAAZ;AACD;AACF,WAjBD,MAiBO;AACL5Y,cAAEqK,QAAF,CAAWD,GAAX;AACD;AACF,SA1BI;AA2BLvE,eAAM,iBAAY;AAChB7F,YAAE0Q,YAAF;AACA1Q,YAAEqK,QAAF,CAAW,UAAX;AACD;AA9BI,OAAP;AAgCD;AAvGM;AAtB0B,CAArC;;AAiIA;AACA5K,IAAIC,SAAJ,CAAc,eAAd,EAA+B;AAC7BC,SAAO,CAAC,MAAD,EAAS,OAAT,CADsB;AAE7BC;AAF6B,CAA/B;;AAWA;AACAH,IAAIC,SAAJ,CAAc,sBAAd,EAAsC;AACpCC,SAAO,CAAC,MAAD,EAAS,IAAT,EAAe,OAAf,EAAwB,UAAxB,EAAoC,WAApC,CAD6B;AAEpCC,qTAFoC;AAUpCvB,WAAS;AACP0X,kBAAc,sBAAStV,CAAT,EAAW;AACvB,WAAKC,KAAL,CAAW,cAAX,EAA2BD,CAA3B;AACD;AAHM;AAV2B,CAAtC;;AAiBA;AACAhB,IAAIC,SAAJ,CAAc,yBAAd,EAAyC;AACvCC,SAAO,CAAC,MAAD,EAAS,IAAT,EAAe,OAAf,EAAwB,UAAxB,EAAoC,WAApC,EAAiD,cAAjD,EAAiE,eAAjE,CADgC;AAEvCC,qYAFuC;AAUvCvB,WAAS;AACP0X,kBAAc,sBAAStV,CAAT,EAAW;AACvB,WAAKC,KAAL,CAAW,cAAX,EAA2BD,CAA3B;AACD;AAHM;AAV8B,CAAzC;;AAiBA;AACAhB,IAAIC,SAAJ,CAAc,2BAAd,EAA2C;AACzCC,SAAO,CAAC,MAAD,CADkC;AAEzCC;AAFyC,CAA3C;;AAYA;AACA;AACAH,IAAIC,SAAJ,CAAc,mBAAd,EAAmC;AACjCC,SAAO,CAAC,MAAD,EAAS,YAAT,EAAuB,UAAvB,CAD0B;AAEjCC,oiBAFiC;AAajC;;AAEA;AACA1C,QAAM,gBAAU;AACd,WAAO,EAAP;AAED,GAnBgC;AAoBjCmB,WAAS;AACPwa,iBAAa,qBAASC,UAAT,EAAqB5b,IAArB,EAA0B;AACrC,UAAIiL,OAAOC,SAAP,CAAiB1L,QAAjB,CAA0BiK,IAA1B,CAA+BmS,WAAWC,OAA1C,KAAsD,mBAA1D,EAA+E;AAC7ED,mBAAWC,OAAX,CAAmBpS,IAAnB,CAAwB,IAAxB,EAA8BzJ,IAA9B;AACD;AACD,UAAI4b,WAAWE,WAAf,EAA4B;AAC1B,eAAO,YAAYF,WAAWE,WAAvB,GAAqC,GAA5C;AACD,OAFD,MAEM,IAAIF,WAAWG,aAAf,EAA8B;AAClC,YAAI/b,OAAO,CAAX,EAAc;AACZ,iBAAO,aAAP;AACD,SAFD,MAEM,IAAGA,OAAO,CAAV,EAAY;AAChB,iBAAO,eAAP;AACD;AACF,OANK,MAMD;AACH,eAAO,EAAP;AAED;AACF,KAjBM;AAkBP6b,aAAS,iBAASD,UAAT,EAAqB5b,IAArB,EAA0B;AACjC,UAAIiL,OAAOC,SAAP,CAAiB1L,QAAjB,CAA0BiK,IAA1B,CAA+BmS,WAAWC,OAA1C,KAAsD,mBAA1D,EAA+E;AAC7E,eAAOD,WAAWC,OAAX,CAAmBpS,IAAnB,CAAwB,IAAxB,EAA8BzJ,IAA9B,CAAP;AACD,OAFD,MAEM,IAAI4b,WAAWI,aAAf,EAA8B;AAClC,YAAIhc,OAAO,CAAX,EAAc;AACZ,cAAI4b,WAAWK,gBAAf,EAAiC;AAC/B,mBAAO,MAAMva,QAAQ1B,IAAR,EAAc2B,MAAd,CAAqBia,WAAWI,aAAhC,CAAb;AACD,WAFD,MAEK;AACH,mBAAOta,QAAQ1B,IAAR,EAAc2B,MAAd,CAAqBia,WAAWI,aAAhC,CAAP;AACD;AACF,SAND,MAMK;AACH,iBAAOta,QAAQ1B,IAAR,EAAc2B,MAAd,CAAqBia,WAAWI,aAAhC,CAAP;AACD;AAEF,OAXK,MAWD;AACH,YAAIhc,QAAQuB,SAAZ,EAAuB;AACrB,iBAAO,EAAP;AACD;AACD,eAAOvB,IAAP;AACD;AACF,KAtCM;AAuCPkc,cAAU,kBAASN,UAAT,EAAoB;AAC5B,UAAIA,cAAcA,WAAW3b,IAA7B,EAAmC;AACjC,eAAO2b,WAAW3b,IAAlB;AACD,OAFD,MAEK;AACH,eAAO,MAAP;AACD;AACF,KA7CM;AA8CPkc,cAAU,kBAASC,GAAT,EAAcC,KAAd,EAAoB;AAC5B,WAAK7Y,KAAL,CAAW,UAAX,EAAuB6Y,KAAvB;AACD,KAhDM;AAiDPC,oBAAgB,0BAAU;AACxB,WAAK9Y,KAAL,CAAW,aAAX,EAA0B,CAAC,KAAKxD,IAAhC;AACD;AAEH;AACA;AACA;AACA;AAxDS,GApBwB,EAAnC;;AA+EA;AACAuC,IAAIC,SAAJ,CAAc,WAAd,EAA2B;AACzBC,SAAO,CAAC,iBAAD,EAAoB,WAApB,CADkB;AAEzBzC,QAAM,gBAAU;AACd,WAAO,EAAP;AAED,GALwB;AAMzB0C,+mCANyB;AAgCzBvB,WAAS;AACP+H,mBAAe,uBAASF,GAAT,EAAczF,CAAd,EAAgB;AAC7B,UAAI4F,MAAM,KAAV;AACA,UAAI5F,EAAE6F,eAAN,EAAuB;AACrBD,cAAMH,IAAIzF,EAAE6F,eAAN,CAAN;AACD;AACD,aAAOD,GAAP;AACD,KAPM;AAQPoT,mBAAe,uBAAS3c,GAAT,EAAc4c,OAAd,EAAsB;AACnC,aAAO1Z,EAAE2Z,SAAF,CAAY7c,GAAZ,EAAiB4c,OAAjB,CAAP;AACD,KAVM;AAWPE,mBAAe,uBAAS1T,GAAT,EAAc4S,UAAd,EAA0BhY,KAA1B,EAAgC;AAC7CgY,iBAAWe,IAAX,CAAgB/Y,KAAhB,EAAuBqC,OAAvB,CAA+B+C,IAAIrB,EAAnC;AACD,KAbM;AAcPiV,mBAAe,uBAAS5T,GAAT,EAAcpF,KAAd,EAAoB;AACjC,UAAI,CAACoF,IAAIuG,QAAT,EAAmB;AACjBvG,YAAI,KAAK6T,cAAT,IAA2BjZ,KAA3B;AACD;AACF,KAlBM;AAmBPkZ,wBAAoB,8BAAU;AAC5B,UAAI7X,QAAQ,IAAZ;AACA,UAAI8X,OAAO,KAAKC,YAAhB;AACA,WAAI,IAAIX,KAAR,IAAiB,KAAKY,SAAtB,EAAgC;AAC9B,YAAI,CAAC,KAAKA,SAAL,CAAeZ,KAAf,EAAsB9M,QAA3B,EAAqC;AACnC,eAAK0N,SAAL,CAAeZ,KAAf,EAAsB,KAAKQ,cAA3B,IAA6C,CAACE,IAA9C;AACD;AAEF;AACF,KA5BM;AA6BPG,YA7BO,oBA6BEb,KA7BF,EA6BSrT,GA7BT,EA6Ba;AAClB,WAAKxF,KAAL,CAAW,UAAX,EAAsB6Y,KAAtB,EAA4BrT,GAA5B;AACD,KA/BM;AAgCPmU,cAhCO,sBAgCId,KAhCJ,EAgCUrT,GAhCV,EAgCc;AACnB,WAAKxF,KAAL,CAAW,YAAX,EAAwB6Y,KAAxB,EAA8BrT,GAA9B;AACD;AAlCM,GAhCgB;AAoEzB2E,YAAU;AACRkP,oBAAgB,0BAAU;AACxB,UAAIL,UAAU,EAAd;AACA,WAAKY,eAAL,CAAqB3Y,OAArB,CAA6B,UAASC,CAAT,EAAY2X,KAAZ,EAAkB;AAC7C,YAAI3X,EAAEzE,IAAF,IAAU,UAAd,EAA0B;AACxBuc,oBAAU9X,EAAE8X,OAAZ;AACD;AACF,OAJD;AAKA,aAAOA,OAAP;AACD,KATO;AAURQ,kBAAc,wBAAU;AACtB,UAAI/X,QAAQ,IAAZ;AACA,UAAI,KAAKgY,SAAL,CAAe7Y,MAAf,IAAyB,CAA7B,EAAgC;AAC9B,eAAO,KAAP;AACD;AACD,UAAIiZ,MAAM,KAAKJ,SAAL,CAAe1X,MAAf,CAAsB,UAASb,CAAT,EAAW;AACzC,eAAOA,EAAE6K,QAAF,IAAc,IAArB;AACD,OAFS,CAAV;AAGA,UAAI8N,IAAIjZ,MAAJ,IAAc,CAAlB,EAAqB;AACnB,eAAO,KAAP;AACD;AACD,UAAG,KAAK6Y,SAAL,CAAepI,KAAf,CAAqB,UAASnQ,CAAT,EAAW;AACjC,eAAOA,EAAEO,MAAM4X,cAAR,KAA2B,IAA3B,IAAmCnY,EAAE6K,QAAF,IAAc,IAAxD;AACD,OAFE,CAAH,EAEG;AACD,eAAO,IAAP;AACD,OAJD,MAIK;AACH,eAAO,KAAP;AACD;AACF;AAEH;AACA;AACA;AACA;AAjCU,GApEe,EAA3B;;AAwGA;AACAhN,IAAIC,SAAJ,CAAc,qBAAd,EAAqC;AACnCsG,UAAQ,CAAC5H,WAAD,CAD2B;AAEnCuB,SAAO,CAAC,WAAD,EAAc,YAAd,EAA4B,cAA5B,EAA4C,UAA5C,CAF4B;AAGnCC,+tFAHmC;AAyDnC1C,QAAM,gBAAU;AACd,WAAO,EAAP;AACD,GA3DkC;AA4DnCmB,WAAS;AACPmc,oBAAgB,wBAAS3c,MAAT,EAAiBiH,IAAjB,EAAsB;AACpC,UAAI,KAAKjH,MAAT,EAAiB;AACf,eAAOiH,OAAO,OAAd;AACD,OAFD,MAEK;AACH,eAAOA,IAAP;AACD;AACF;AAPM;AA5D0B,CAArC;AAsEI;AACE;AACA;AACA;AACA;;AAEN;AACArF,IAAIC,SAAJ,CAAc,kBAAd,EAAkC;AAChCC,SAAO,CAAC,YAAD,EAAe,QAAf,EAAyB,UAAzB,EAAqC,MAArC,CADyB;AAEhCzC,QAAM,gBAAU;AACd,WAAO;AACLud,sBAAgBpY,OAAOC,UAAP,CAAkBC,QAAlB,CAA2BC;AADtC,KAAP;AAGD,GAN+B;AAOhC5C,y2DAPgC;AAmChCvB,WAAS;AACP;AACA;AACA;AACA;AACA;AACA;AANO;AAnCuB,CAAlC;;AA6CA;AACAoB,IAAIC,SAAJ,CAAc,sBAAd,EAAqC;AACnCC,SAAM,CAAC,KAAD,EAAO,MAAP,EAAc,MAAd,EAAqB,OAArB,CAD6B;AAEnCwB,SAAM;AACJ7B,OADI;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,gBACAmB,CADA,EACE;AACJ,UAAI2B,aAAJ;AACA,UAAG9C,OAAO,KAAKmJ,IAAL,CAAUiS,IAAV,CAAe5Z,KAAzB,EAA+B;AAC7BsB,eAAO,IAAP;AACD;AACD,UAAG9C,OAAO,KAAKmJ,IAAL,CAAUkS,KAAV,CAAgB7Z,KAA1B,EAAgC;AAC9BsB,eAAO,KAAP;AACD;AACD,WAAKtB,KAAL,GAAasB,IAAb;AACD,KAVG;AAAA,GAF6B;AAcnClF,MAdmC,kBAc7B;AACF,QAAIkF,aAAJ;AACA,QAAG,KAAK9C,GAAL,IAAY,KAAKmJ,IAAL,CAAUiS,IAAV,CAAe5Z,KAA9B,EAAoC;AAClCsB,aAAO,IAAP;AACD;AACD,QAAG,KAAK9C,GAAL,IAAY,KAAKmJ,IAAL,CAAUkS,KAAV,CAAgB7Z,KAA/B,EAAqC;AACnCsB,aAAO,KAAP;AACD;AACH,WAAO;AACLtB,aAAMsB;AADD,KAAP;AAGD,GAzBkC;;AA0BnCxC,8WA1BmC;AAmCnCvB,WAAQ;AACNuc,aADM,uBACK;AACT,WAAK9Z,KAAL,GAAa,CAAC,KAAKA,KAAnB;AACA,WAAKJ,KAAL,CAAW,WAAX,EAAuB,KAAKI,KAA5B,EAAkC,KAAK5D,IAAvC,EAA4C,KAAKqc,KAAjD;AACD;AAJK;AAnC2B,CAArC;AA0CA;;AAEA;AACA,IAAIsB,aAAa,EAAjB;AACAA,WAAWC,OAAX,GAAqB,UAAUrb,GAAV,EAAcmB,OAAd,EAAuB;AAC1CnB,MAAI2I,SAAJ,CAAcwI,QAAd,GAAwB,UAAChQ,OAAD,EAAW;AACjC,QAAIma,cAActb,IAAI6Q,MAAJ,CAAW;AAC3B1Q,yxCAD2B;AAqB3B1C,UArB2B,kBAqBrB;;AAEJ,eAAO,EAAC0D,SAAQA,OAAT,EAAP;AACD,OAxB0B;;AAyB3BvC,eAAQ;AACN;AACA;AACA;AACA;AACA;AACA;AACAiM,aAPM,mBAOC;AACL;;AAEA,cAAG0Q,GAAH,EAAO;AACLC,qBAASC,IAAT,CAAcC,WAAd,CAA0BH,GAA1B;AACA,iBAAKI,QAAL;AACA,gBAAG,KAAKC,IAAR,EAAa;AACX,mBAAKA,IAAL,CAAUC,KAAV,GAAkB,IAAlB;AACD;;AAEDN,kBAAK,KAAL;AACD;AAEF;AApBK,OAzBmB;AA+C3Bnb,aA/C2B,qBA+ClB;AACP,YAAIsC,QAAQ,IAAZ;AACA,YAAIoZ,UAAU,SAAVA,OAAU,CAAS3Z,CAAT,EAAW;AACvB,cAAI,YAAYA,EAAEiV,GAAlB,EAAuB;AACrB1U,kBAAMmI,KAAN;AACD;AACF,SAJD;;AAMAtK,UAAEib,QAAF,EAAYO,GAAZ,CAAgB,OAAhB,EAAyBD,OAAzB;AACD,OAxD0B;;AAyD3BE,kBAAW;AACP,+BAAsB7a,QAAQ+I;AADvB;AAzDgB,KAAX,CAAlB;AA6DA,QAAIqR,MAAM,IAAID,WAAJ,GAAkBW,MAAlB,GAA2Bzb,GAArC,CA9DiC,CA8DU;AAC3Cgb,aAASC,IAAT,CAAcS,WAAd,CAA0BX,GAA1B;AACD,GAhED;AAiED,CAlED;AAmEAvb,IAAImc,GAAJ,CAAQf,UAAR;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA","file":"vue.component.js","sourcesContent":["// vue组件汇总，所有插件标签全部以“vue-”开头命名。\n// 此文件包含了jQuery插件转换为vue的组件，也包含了一些通用的自定义的vue组件，特殊处理的自定义组件可以放在这里也可以放在自己的页面。\n\n// 特别注意的是，如果页面使用了jquery插件转的vue组件，那么需要满足其插件的代码依赖。\n// 比如说页面使用了通用组件“vue-selectize”，则需要依赖jqery和selectize插件。\n// 不过仅在页面使用了该组件时才需要满足依赖。因为，vue的mounted方法不是立即就会执行的。\n\n// 目前来看我们可以粗略的通过是否在mounted方法内执行插件初始化方法来判断是jquery插件还是自定义组件。\n// 更多的东西，可以查看vue的生命周期\n\n/**************************** Begin: 公共函数 ****************************/\n// 其实公共函数应该另外放一个文件。但是在没有使用webpack打包之前，考虑到减少http请求，所以放在这里。\nvar VUECOMPONENT = {};\nVUECOMPONENT.sort = function(arr, order, order_by){\n  if (order == 'asc' || order == 'desc') {\n    arr.sort((a, b) => {\n      let x = a[order_by];\n      let y = b[order_by];\n      if (x == '--') {\n        return -1\n      }\n      if (y == '--') {\n        return 1\n      }\n      if ( !isNaN(parseFloat(x)) && !isNaN(parseFloat(y)) ) {\n        x = parseFloat(x);\n        y = parseFloat(y);\n\n        if (x > y) {\n          return 1;\n        }\n        if (x < y) {\n          return -1;\n        }\n        return 0;\n      }\n\n\n      x = x.toString();\n      y = y.toString();\n      return x.localeCompare(y, 'zh-CN');\n      // return new Intl.Collator('gb2312').compare(x, y)\n      // if (x > y) {\n      //   return 1;\n      // }\n      // if (x < y) {\n      //   return -1;\n      // }\n      // return 0;\n    })\n\n    if ('desc' == order) {\n      arr.reverse();\n    }\n    return arr;\n  }else{\n    return arr;\n  }\n}\n/**************************** End: 公共函数 ****************************/\n\n// 递归将对象的每一个元素的值改为字符串\nconst commonRecursionToString = function(obj){\n  for(let i in obj){\n    if ('string' == typeof obj[i]) {\n      ;\n    }else if ('number' == typeof obj[i]) {\n      obj[i] = obj[i].toString();\n    }else if('object' == typeof obj[i]){\n      commonRecursionToString(obj[i]);\n    }\n  }\n}\n\n// 公共ajax\nconst commonAjax = function(url, data, type = 'get') {\n  var promise = new Promise(function(resolve, reject){\n    var client = new XMLHttpRequest();\n    client.open(type, url);\n    client.onreadystatechange = function(){\n      if (this.readyState !== 4) {\n        return;\n      }\n      if (this.status === 200) {\n        // 额外处理，将所有的内容全部设置为字符串\n        commonRecursionToString(this.response);\n        resolve(this.response);\n      } else {\n        reject(new Error(this.statusText));\n      }\n    };\n    client.responseType = \"json\";\n    client.setRequestHeader(\"Accept\", \"application/json\");\n    // 数据暂时由使用的地方进行拼凑。这里直接使用\n    client.send(data);\n  });\n\n  return promise;\n};\n\n/**************************** Begin: Vue混合 ****************************/\n// 自定义数字混合\nlet numberMixin = {\n  methods: {\n    numeralNumber: function(arg, num){\n      if ('--' == arg || '' === arg || undefined == arg) {\n        return '--'\n      }\n      if (!isFinite(arg)) {\n        return arg;\n      }\n      if (undefined != num) {\n        var str = '0.'\n        for (let i = num - 1; i >= 0; i--) {\n          str += '0';\n        }\n        if(0 == num){\n          str = '0';\n        }\n        return numeral(arg).format( '0,' + str );\n      }\n      return numeral(arg).format( '0,0.00' );\n    },\n    numeralPercent: function(arg, num){\n      if ('--' == arg || '' === arg || undefined == arg) {\n        return '--'\n      }\n      if (!isFinite(arg)) {\n        return arg;\n      }\n      if (undefined != num) {\n        var str = '0.'\n        for (let i = num - 1; i >= 0; i--) {\n          str += '0';\n        }\n        if(0 == num){\n          str = '0';\n        }\n        return numeral(arg).format( '0,' + str + '%' );\n      }\n      return numeral(arg).format( '0.00%' );\n    },\n    numeralPercentV2: function(arg){\n      if ('--' == arg || '- -' == arg) {\n        return arg;\n      }\n      return numeral(arg).format( '0.00%' );\n    },\n    signNumeralNumber: function(arg, num){\n      if('-' == arg || '--' == arg){\n        return arg;\n      }\n\n      var noSign = +(arg||0).toString().replace(/^(\\-|\\+)/,'');\n      return (arg<0 ? '-' : '+') + this.numeralNumber(noSign, num);\n    },\n    signNumeralPercent: function(arg, num){\n      if('-' == arg || '--' == arg){\n        return arg;\n      }\n\n      var noSign = +(arg||0).toString().replace(/^(\\-|\\+)/,'');\n      return (arg<0 ? '-' : '+') + this.numeralPercent(noSign, num);\n    }\n  }\n}\n\n// 自定义颜色混合\nlet colorMixin = {\n  methods: {\n    rmgColor: function(val, cursor){\n      val = Number(val);\n      cursor = Number(cursor);\n      if (val > cursor) {\n        return 'priceRed';\n      }\n      if (val < cursor) {\n        return 'priceGreen';\n      }\n      return '';\n    }\n  }\n}\n/**************************** End: Vue混合 ****************************/\n\n/**************************** Begin: Vue包含的jq插件 ****************************/\n// 下拉框通用组件 selectize\n// 依赖：jQuery, selectize插件\nVue.component('vue-selectize', {\n  // 新增 is_readonly 属性，用来控制 input 不可手动输入\n  props: ['options', 'value', 'place_holder', 'is_readonly'],\n  template: `\n      <select>\n        <slot></slot>\n      </select>\n  `,\n  mounted: function () {\n    var vm = this;\n    var selectize = $(this.$el).selectize({\n      delimiter: ',',\n      persist: true,\n      placeholder: this.place_holder,\n      valueField: 'value',\n      labelField: 'label',\n      onChange: function(v){\n        vm.$emit('input', v);\n      }\n    })[0].selectize;\n    selectize.addOption(this.options);\n    selectize.setValue(this.value);\n    selectize = null;\n\n    if (this.is_readonly) {\n      $(this.$el).next().find('input').prop('readonly', true)\n    }\n  },\n  watch: {\n    value: function (value) {\n      // update value\n      $(this.$el).selectize()[0].selectize.setValue(value);\n    },\n    options: function (options) {\n      // // update options\n      var value = this.value;\n      var selectize = $(this.$el).selectize()[0].selectize;\n      selectize.clearOptions(true);\n      selectize.clearOptions(true);\n      selectize.addOption(this.options);\n      selectize.setValue(value);\n      selectize = null;\n    }\n  }\n  // ,\n  // destroyed: function () {\n  //   $(this.$el).off().selectize()[0].selectize.destroy();\n  // }\n});\n\n// 下拉框插件 multipleSelect\nVue.component('vue-multiple_select', {\n  // isfill --- options 长度为空时，下拉框显示的文本\n  props: ['options', 'init_obj', 'flag_check_all', 'chg_opt_flag_check_all', 'options_isnull_info'],\n  template: `\n    <select>\n\n    </select>\n  `,\n  watch: {\n    options: function(val, old){\n      if (0 === val.length && 0 === old.length) {\n        return;\n      }\n      if ($(this.$el).html() == '') {\n        var doUncheckAll = true;\n      }else{\n        var doUncheckAll = false;\n        var checked_arr = $(this.$el).multipleSelect('getSelects');\n      }\n\n      var html = '';\n      this.options.forEach(function (e) {\n        html += '<option value=\"' + e.value + '\">' + e.label + '</option>';\n      });\n      $(this.$el).html(html).multipleSelect();\n\n      if (doUncheckAll) {\n        // $(this.$el).multipleSelect('uncheckAll');\n        if (this.flag_check_all) {\n          $(this.$el).multipleSelect('checkAll');\n        }else{\n          $(this.$el).multipleSelect('uncheckAll');\n        }\n      }else{\n        $(this.$el).multipleSelect('setSelects', checked_arr);\n      }\n\n      if (this.chg_opt_flag_check_all) {\n        $(this.$el).multipleSelect('checkAll');\n      }\n    },\n    init_obj: function(val, old) {\n      if (val.allSelected !== old.allSelected) {\n        $(this.$el).multipleSelect('setAllSelected', val.allSelected);\n      }\n    },\n    options_isnull_info: function(val, old) {\n      if (val && val !== old) {\n        $(this.$el).multipleSelect('setNoMatchesFound', val);\n      }\n    }\n  },\n  mounted: function(){\n    let _this = this;\n    let html = '';\n    this.options.forEach(function(e){\n      html += '<option value=\"' + e.value + '\">'+ e.label +'</option>';\n    })\n    let temp;\n    if(window.LOGIN_INFO.org_info.theme == 3){\n      temp = \"产品\";\n    }else{\n      temp = \"基金\";\n    }\n    $(this.$el).html(html);\n    $(this.$el).multipleSelect({\n      filter: true,\n      width: '100%',\n      ellipsis: 'true',\n      allSelected: this.init_obj.allSelected || '全部'+temp,\n      selectAllText: '全选',\n      noMatchesFound: this.init_obj.noMatchesFound || '未分配任何'+temp,\n      countSelected: '已选：#，共：%',\n      placeholder: this.init_obj.placeholder || '请选择'+temp,\n      onCheckAll: function(view){\n        // onCheckAll事件和onClick事件可能同时触发，由goto方法内部保证只执行一次\n        _this.chgSelect();\n      },\n      onUncheckAll: function(){\n        // onCheckAll事件和onClick事件可能同时触发，由goto方法内部保证只执行一次\n        _this.chgSelect();\n      },\n      onClick: function(view){\n        // onCheckAll事件和onClick事件可能同时触发，由goto方法内部保证只执行一次\n        _this.chgSelect();\n      }\n    });\n\n    if (true == this.flag_check_all) {\n      $(this.$el).multipleSelect('checkAll');\n    }else{\n      $(this.$el).multipleSelect('uncheckAll');\n    }\n  },\n  methods: {\n    chgSelect: function(){\n      let _this = this;\n      _this.$nextTick(function () {\n        // 代码保证 this.$el 在 document 中\n        _this.$emit('multiple_select', $(_this.$el).multipleSelect('getSelects'))\n      })\n    }\n  }\n})\n\n// vue使用jquery的日历插件\n// 依赖：jquery，zebra_date_picker插件\nVue.component('vue-zebra_date_picker', {\n  props: ['value', 'min_date', 'max_date', 'start_date_time'],\n  template: `\n    <div>\n      <input size=\"16\" type=\"text\" value=\"\" more-param>\n    </div>\n  `,\n  watch: {\n    value: function(){\n      let zebra = $(this.$el).find('input').data('Zebra_DatePicker');\n      zebra.set_date(this.value);\n    },\n    start_date_time: function () {\n      if (this.start_date_time == '') {\n        let zebra = $(this.$el).find('input').data('Zebra_DatePicker');\n        zebra.clear_date(); //清空所选中的日期\n      }\n    }\n  },\n  mounted: function(){\n    let vm = this;\n    $(this.$el).find('input').val(this.value).Zebra_DatePicker({\n      container: $(this.$el),\n      months: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],\n      days: ['日', '一', '二', '三', '四', '五', '六'],\n      lang_clear_date: '清空',\n      show_select_today: '今天',\n      onSelect: function(value) {\n        vm.$emit('select', value);\n      },\n      onClear: function (value) { //点击清空按钮，清空数据\n        value = '';\n        vm.$emit('clear', value);\n      }\n    });\n    let zebra = $(this.$el).find('input').data('Zebra_DatePicker')\n    zebra.update({\n      direction: [vm.min_date, vm.max_date]\n    });\n  }\n})\n\n// 自定义股票过滤下拉框\n//assets_class 查询的股票类型  e 股票  f 基金 repo为国债 不传为全部类型\nVue.component('vue-stock-search', {\n  props: ['custom_cls', 'stock_input_id', 'placeholder', 'disabled','assets_class'],\n  template: `\n  <div :class=\"custom_cls\" class=\"client-stockInput\" style=\"z-index: 9;line-height: 35px;\">\n    <input style=\"height: 100%;margin:0;\" :disabled=\"disabled\" v-on:focus=\"focusFlag = true;\" v-on:blur=\"focusFlag = false\" class=\"client-stockInput__input\" :placeholder=\"placeholder\" v-model=\"stock_input\" v-on:input=\"getStockList()\"/>\n    <span style=\"height: 100%;\" class=\"client-stockInput__unit\" :class=\"{'trade-loading': true == is_loading}\">{{stock_name}}</span>\n    <ul v-show=\"focusFlag && stockList.length > 0\" class=\"client-suggest\" style=\"bottom: -177px; top: auto; left: -3px;width: 103%;\">\n      <li style=\"padding-left: 10px\" class=\"client-suggest__list\" v-for=\"stock in stockList\" v-on:mousedown=\"selectOneStock(stock.stock_id, stock.stock_name)\"> {{stock.stock_id + '&nbsp' + stock.stock_name}} </li>\n    </ul>\n  </div>\n  `,\n  data: function(){\n    return {\n      focusFlag: false,\n      stock_id: '',\n      stock_input: '',\n      stock_name: '',\n      stockList: [],\n      is_loading: false //查询状态 转圈\n    }\n  },\n  watch: {\n    stock_input: function(){\n      this.$emit('stock_input', this.stock_input);\n    },\n    stock_id: function(){\n      this.$emit('stock_id', this.stock_id);\n    },\n    stock_input_id: function(){\n      if (this.stock_input_id == '') {\n        // this.focusFlag = false; //存在一种情况就是当焦点在input上，但是将里面的内容删除时focusFlag不应该改为false\n        this.stock_id = '';\n        this.stock_input = '';\n        this.stock_name = '';\n        this.stockList = [];\n      }\n    }\n  },\n  methods: {\n    selectOneStock: function(id, name){\n      let _this = this;\n      // this.inputStockCode = id;\n      this.stock_name = name;\n      this.stock_input = id.substring(0, 6);\n      this.stock_id = id;\n      // this.getStockDetail(function(){\n      //   if ('buy' == _this.cur_nav) {\n      //     _this.submit_price = _this.stock_info.ask1_price;\n      //   }else if('sell' == _this.cur_nav){\n      //     _this.submit_price = _this.stock_info.bid1_price;\n      //   }\n      // });\n      // // 额外，每五秒刷新\n      // clearInterval(this.update_timer);\n      // this.update_timer = setInterval(function(){\n      //   _this.getStockDetail()\n      // },5000);\n\n      this.stockList = [];\n    },\n    getStockList: function(){\n      let _this = this;\n        // 判断stock_input 和 stock_id前六位是否一致\n      if (this.stock_input !== this.stock_id.substring(0, 6)) {\n        this.stock_id = '';\n        this.stock_name = '';\n        this.stock_info = '';\n      }\n      let get_assets_class = ''\n      if(this.assets_class){\n        get_assets_class = \"&assets_class=\"+this.assets_class\n      }\n      this.latest_suggest_timestamp = new Date().valueOf();\n      let latest_suggest_timestamp = this.latest_suggest_timestamp;\n      var str = (window.REQUEST_PREFIX||'')+'/oms/helper/code_genius?stock_code=' + this.stock_input+get_assets_class;\n      this.is_loading = true;\n      $.ajax({\n        url: str,\n        success: function(res){\n          if (latest_suggest_timestamp != _this.latest_suggest_timestamp) {\n            return;\n          }\n          if(res.code==0 || res.code==1123124){\n            _this.stockList = res.data;\n  \n            if (1 == _this.stockList.length) {\n              _this.selectOneStock(_this.stockList[0].stock_id, _this.stockList[0].stock_name)\n            }\n          }else{\n            // $.omsAlert('获取建议证券列表失败！',false,300);\n          }\n\n          $('.stock-input').removeClass('loading');\n          _this.is_loading = false;\n        },\n        error: function(){\n          $('.stock-input').removeClass('loading');\n          _this.is_loading = false;\n        }\n      });\n    }\n  }\n})\n//自定义显示密码或隐藏密码\nVue.component('vue-input-password', {\n  props: ['password_placeholder'],\n  template: `\n    <div class=\"password-box\">\n      <img class=\"password-box__img\" v-on:click=\"hideShowPsw()\" src=\"../images/welcome/hidepassword_icon.png\">\n      <input class=\"password-box__input\" type=\"password\" :placeholder=\"password_placeholder\"/>\n    </div>\n  `,\n  data: function () {\n    return {\n\n    }\n  },\n  methods: {\n    hideShowPsw: function () {\n      if ('password' == $(\".password-box__input\").attr('type')) {\n        $(\".password-box__input\").attr('type', 'text');\n\t\t    $(\".password-box__img\").attr('src', '../images/welcome/showpassword_icon.png');\n      } else {\n        $(\".password-box__input\").attr('type', 'password');\n\t\t    $(\".password-box__img\").attr('src', '../images/welcome/hidepassword_icon.png');\n      }\n    }\n  }\n})\n/**************************** End: Vue包含的jq插件 ****************************/\n\n\n// 表格头公共单元格\nVue.component('vue-common-grid-th', {\n  mixins: [numberMixin],\n  props: ['rule', 'row'],\n  template: `\n    <th v-bind:class=\"rule.class\">\n      <span v-if=\"'text' == rule.type || '' == rule.type || undefined == rule.type || 'percent' == rule.type || 'percent2' == rule.type || 'btn' == rule.type\" class=\"text\">\n        {{rule.label}}\n      </span>\n      <input v-if=\"'checkbox' == rule.type\" type=\"checkbox\" :value=\"row[rule.id]\" :checked=\"row[rule.id]\" @change=\"change(row, rule)\" />\n    </th>\n  `,\n  data: function(){\n    return {\n\n    }\n  },\n  methods: {\n    change: function(row, rule){\n      this.$emit('change', !row[rule.id]);\n    }\n  }\n});\n\n// 表格内容公共单元格\nVue.component('vue-common-grid-td', {\n  mixins: [numberMixin],\n  props: ['value', 'rule', 'row'],\n  template: `\n    <td v-bind:class=\"rule.class\">\n      <a v-if=\"'btn' == rule.type\" v-bind:style=\"displayStyle(row, rule)\" @click=\"doClickBtn(row, rule)\">\n        {{displayBtn(row, rule)}}\n      </a>\n      <div v-if=\"'text' == rule.type || '' == rule.type || undefined == rule.type\" style=\"display: flex;display:inline-flex;\">\n        <a style=\"vertical-align: super;margin-right: 3px;margin-top: 16px;\" v-if=\"('text' == rule.type || '' == rule.type || undefined == rule.type) && rule.preControl && row.children && row.children.length > 0\" v-bind:class=\"showPreControlClass(row, rule)\" @click=\"chgControllor(row, rule)\"></a>\n\n        <span v-if=\"('text' == rule.type || '' == rule.type || undefined == rule.type) && rule.preShow && 'text' == rule.preShow.type\" style=\"line-height: 36px;\">\n\n          {{displayValue(row, rule.preShow)}}\n        </span>\n        <span v-if=\"'text' == rule.type || '' == rule.type || undefined == rule.type\" :title=\"displayValue(row, rule)\" v-bind:class=\"rule.subClass\" style=\"text-overflow: ellipsis;white-space: nowrap;overflow: hidden;max-width: 150px;line-height: 36px;display:inline-block;\">\n          {{displayValue(row, rule)}}\n        </span>\n      </div>\n      <input v-if=\"checkDisplayCheckbox(row, rule)\" type=\"checkbox\" :disabled=\"checkDisabled(row, rule)\" :value=\"value\" :checked=\"value\" @click=\"input\" />\n      <div v-if=\"'percent' == rule.type && undefined != row[rule.id]\" class=\"vue-percent\">\n        <div v-bind:style=\"'width: ' + numeralPercent(row[rule.id], 0) + ';'\" class=\"vue-percent__progress1\"></div>\n        <span class=\"vue-percent__right-text\">{{numeralPercent(row[rule.id], 0)}}</span>\n      </div>\n      <div v-if=\"'percent2' == rule.type && undefined != row[rule.id]\" class=\"vue-percent\">\n        <div v-bind:style=\"'width: ' + numeralPercent(row[rule.id], 0) + ';'\" class=\"vue-percent__progress2\"></div>\n        <span class=\"vue-percent__left-text\">{{numeralPercent(row[rule.id], 0)}}</span>\n\n        <div v-bind:style=\"'width: ' + numeralPercent(row[rule.sub_id], 0) + ';'\" class=\"vue-percent__progress1\"></div>\n        <span class=\"vue-percent__right-text\">{{numeralPercent(row[rule.sub_id], 0)}}</span>\n      </div>\n    </td>\n  `,\n  data: function(){\n    return {\n\n\n    }\n  },\n  methods: {\n    checkDisabled: function(row, rule){\n      var rtn = false;\n      if (rule.disabledMapping) {\n        rtn = row[rule.disabledMapping];\n      }\n      return rtn;\n    },\n    doClickBtn: function(row, rule){\n      this[rule.btnClickFn](row, rule);\n    },\n    addParenthese: function(val, func, arg){\n      return '(' + this[func].call(this, val, arg) + ')';\n    },\n    checkDisplayCheckbox: function(row, rule){\n      if ('checkbox' == rule.type && (true != rule.hideChildren || (true == rule.hideChildren && true !== row.isChild) ) ) {\n        return true;\n      }\n      return false;\n    },\n    chgControllor: function(row, rule){\n      row[rule.preControl.id] = !row[rule.preControl.id];\n    },\n    showPreControlClass: function(row, rule){\n      // 子行也会使用该公共单元格组件，在这里使其无法显示。\n      if (undefined == row[rule.preControl.id]) {\n        return '';\n      }\n      if (0 == row.children.length) {\n        return '';\n      }\n      let rtn = rule.preControl.class || '';\n      if (row[rule.preControl.id]) {\n        rtn += ' ' + rule.preControl.trueClass;\n      }else{\n        rtn += ' ' + rule.preControl.falseClass;\n      }\n      return rtn;\n    },\n    input: function(){\n      this.$emit('input', !this.value);\n    },\n    displayValue: function(row, rule){\n      let value = row[rule.id];\n      if ((rule.format != '') && (rule.format instanceof Array) && (this[rule.format[0]] instanceof Function)) {\n        // value = this[rule.format].call(this, value, )\n        let args = [value].concat(rule.format.slice(1))\n        value = this[rule.format[0]].apply(this, args);\n\n      }\n      if (rule.unit) {\n        return value + rule.unit;\n      }else{\n        return value;\n      }\n    },\n    displayStyle: function(row, rule){\n      let value = row[rule.id];\n      if (2 == value || 3 == value) {\n        return 'color:#F44336;cursor: pointer;';\n      }else{\n        return 'color: #ccc;cursor: not-allowed;'\n      }\n    },\n    displayStatus: function(val){\n      if (2 == val || 3 == val) {\n        return '撤销'\n      }\n      if (4 == val) {\n        return '完成';\n      }\n      if (-1 == val) {\n        return '已撤销'\n      }\n    },\n    displayStatusForExecute: function(val){\n      if (2 == val || 3 == val) {\n        return '执行'\n      }\n      if (4 == val) {\n        return '完成';\n      }\n      if (-1 == val) {\n        return '已撤销'\n      }\n    },\n    doCancel: function(row, rule){\n      let _this = this;\n      if (\"[object Function]\" == Object.prototype.toString.call(_this.$root.doCancel)) {\n        _this.$root.doCancel(row, rule);\n      }\n    },\n    doExecute: function(row, rule){\n      let _this = this;\n      if (\"[object Function]\" == Object.prototype.toString.call(_this.$root.doExecute)) {\n        _this.$root.doExecute(row, rule);\n      }\n    },\n    displayBtn: function(row, rule){\n      let value = row[rule.id];\n      if ((rule.format != '') && (rule.format instanceof Array) && (this[rule.format[0]] instanceof Function)) {\n        let args = [value].concat(rule.format.slice(1))\n        value = this[rule.format[0]].apply(this, args);\n      }\n      return value;\n    }\n  }\n});\n\n//hover提示语\nVue.component('prompt-language', {\n  props: ['language_val'],\n  template: `<span class=\"dot-tip exclamation\">\n    <div v-on:mouseover=\"language_show()\" v-on:mouseout=\"language_hide()\">\n      <em>i</em>\n      <div class=\"str\" style=\"display:none;top: -28px;z-index:2;\">\n        <span class=\"msg\">\n          <span>{{language_val}}</span>\n        </span>\n      </div>\n    </div>\n  </span>`,\n  methods: {\n    language_show: function () {\n      $(this.$el).find('.str').show();\n    },\n    language_hide: function () {\n      $(this.$el).find('.str').hide();\n    }\n  }\n});\n\n// 自定义基金行\nVue.component('vue-group-row', {\n  mixins: [numberMixin],\n  props: ['row', 'is_child', 'top'],\n  template: `\n    <tr class=\"account-table-tr\" :style=style>\n      <td class=\"account-table-tr__align-left\" style=\"width: 20px;\">\n        <input :disabled=\"(is_child || row.child_group.length > 0) ? true : false\" class=\"account-table-tr__input\" v-model=\"row.web_checked\" v-on:change=\"chgSelect($event)\" type=\"checkbox\">\n      </td>\n      <td class=\"account-table-tr__align-left\" :style=\"is_child ? 'width: 190px;' : 'width: 220px;'\" style=\"padding-left: 8px;\">\n        <vue-modify-top-text :row=row></vue-modify-top-text>\n      </td>\n      <td class=\"account-table-tr__align-right\" v-on:click=\"userShowClick($event, row)\">\n        <vue-modify-text v-if=\"is_child != true\" :row=row></vue-modify-text>\n        <vue-custom-dl v-if=\"is_child == true\" :name=\"'基金经理'\" :value=\"top.operator\"></vue-custom-dl>\n      </td>\n      <td class=\"account-table-tr__align-right\" v-on:click=\"userShowClick($event, row)\">\n        <vue-custom-dl :name=\"'交易单元数'\" :value=\"numeralNumber(row.child_product.length, 0)\"></vue-custom-dl>\n      </td>\n      <td class=\"account-table-tr__align-right\" v-on:click=\"userShowClick($event, row)\">\n        <vue-custom-dl :name=\"'单位净值'\" :value=\"numeralNumber(row.net_value, 2)\"></vue-custom-dl>\n      </td>\n      <td class=\"account-table-tr__align-right\" v-on:click=\"userShowClick($event, row)\">\n        <vue-custom-dl :name=\"'净资产'\" :value=\"numeralNumber(row.total_amount, 2)\"></vue-custom-dl>\n      </td>\n      <td class=\"account-table-tr__align-right\" v-on:click=\"userShowClick($event, row)\">\n        <vue-modify-number :status=row.status :label=\"'份额'\" :tip=\"'请输入份额'\" :value_down=\"numeralNumber(row.volume,4)\" :ajax_url=\"'/bms-pub/product/modify_product_group'\" :ajax_data=\"{group_id:row.id}\" :id=\"'volume'\" :ajax_type=\"'POST'\"></vue-modify-number>\n      </td>\n      <td class=\"account-table-tr__align-right\" v-on:click=\"userShowClick($event, row)\">\n        <vue-modify-number :status=row.status :label=\"'初期规模'\" :tip=\"'请输入初期规模'\" :value_down=\"numeralNumber(row.begin_capital,2)\"  :ajax_url=\"'/bms-pub/product/modify_product_begin_capital'\"  :ajax_data=\"{group_id:row.id}\" :id=\"'begin_capital'\" :ajax_type=\"'GET'\"></vue-modify-number>\n      </td>\n      <td class=\"account-table-tr__align-right\" v-on:click=\"userShowClick($event, row)\">\n        <vue-custom-dl :name=\"'持仓市值'\" :value=\"numeralNumber(row.market_value, 2)\"></vue-custom-dl>\n      </td>\n      <td class=\"account-table-tr__align-right\" v-on:click=\"userShowClick($event, row)\">\n        <vue-custom-dl :name=\"'状态'\" :value=\"showStatus(row)\"></vue-custom-dl>\n      </td>\n      <td class=\"account-table-tr__align-right\" style=\"width: 150px;\">\n        <a v-if=\"(row.status == 6 || row.is_stoped == true)\" v-on:click=\"!(true == is_child && (top.status == 6 || top.status.is_stoped == true)) && doEnd(row.id, 5)\" class=\"table__btn table__btn--red\" :class=\"{'disabled': true == is_child && (top.status == 6 || top.status.is_stoped == true)}\">运行</a>\n        <a v-if=\"is_child\" v-on:click=\"doUnbind(row.id)\" class=\"table__btn\">移出</a>\n        <a v-if=\"(row.status == 5 || row.is_running == true)\" v-on:click=\"doEnd(row.id, 6)\" class=\"table__btn table__btn--red\">结束</a>\n      </td>\n    </tr>\n  `,\n  data: function(){\n    return {\n\n    }\n  },\n  methods: {\n    showStatus: function(detail){\n      if (detail.status == 5 || detail.is_running == true) {\n        return '运行'\n      }else if(detail.status == 6 || detail.is_stoped == true){\n        return '结束'\n      }else{\n        return '--';\n      }\n    },\n    chgSelect: function(e){\n      this.$emit('chg_select', $(e.target).prop('checked'));\n    },\n    chgSelectByClick: function(row){\n      let target = $(this.$el).find('.account-table-tr__input');\n      if (!target.prop('disabled')) {\n        let value = !target.prop('checked');\n        target.prop('checked', value)\n        this.$emit('chg_select', value);\n        row.web_checked = value;\n      }\n    },\n    userClick: function(e, row){\n      if ( $(this.$el).find('.account-table-tr__name')[0] == e.target ) {\n        this.chgSelectByClick(row);\n      }else{\n        row.web_hide_child = !row.web_hide_child;\n      }\n    },\n    userShowClick: function(e, row){\n      if ($(e.target).is('td')) {\n        row.web_hide_child = !row.web_hide_child;\n      }\n    },\n    doEnd: function(id, status){\n      let _this = this;\n      var childName = this.row.name;\n      let str = '';\n      if (5 == this.row.status) { //5是运行，所以显示为设置为结束\n        str = '结束';\n      }else if(6 == this.row.status){ //6是结束，所以显示为设置为运行\n        str = '运行';\n      }\n\n      $.confirm({\n        title: str + '确认',\n        content: `\n          <div class=\"vue-confirm\">\n            <div style=\"font-size: 14px; text-align: center; color: #000000; padding: 60px 0;\">确定将【`+ childName +`】设置为`+str+`状态？</div>\n          </div>\n        `,\n        closeIcon: true,\n        columnClass: 'custom-window-width',\n        confirmButton: '确定',\n        confirmButtonClass: 'vue-confirm__btns--cancel',\n        confirm: function(){\n          let confirm_window = this;\n          _this.submit_end(id, confirm_window, status);\n          return false;\n        },\n        cancelButton: false\n      })\n    },\n    submit_end: function(id, confirm_window, status){\n      let _this = this;\n      $.ajax({\n        url: '/bms-pub/product/set_status',\n        type: 'post',\n        data: {\n          group_id: id,\n          status: status\n        },\n        success: function({code, msg, data}){\n          if (0 == code) {\n            $.omsAlert('保存成功')\n            confirm_window.close();\n            _this.$root.getAllData(true);\n          }else{\n            $.omsAlert(msg)\n          }\n        },\n        error: function(){\n          $.failNotice();\n        }\n      })\n    },\n    doUnbind: function(id){\n      let _this = this;\n      let childName = this.row.name;\n      let topName = this.top.name;\n\n      $.confirm({\n        title: '移出组',\n        content: `\n          <div class=\"vue-confirm\">\n            <div style=\"font-size: 14px; text-align: center; color: #000000; padding: 60px 0;\">确定将【`+ childName +`】移出产品组【`+ topName +`】？</div>\n          </div>\n        `,\n        closeIcon: true,\n        columnClass: 'custom-window-width',\n        confirmButton: '确定',\n        confirmButtonClass: 'vue-confirm__btns--cancel',\n        confirm: function(){\n          let confirm_window = this;\n          _this.submit_unbind(id, confirm_window);\n          return false;\n        },\n        cancelButton: false\n      })\n    },\n    submit_unbind: function(id, confirm_window){\n      let _this = this;\n      $.ajax({\n        url: '/bms-pub/product/move_product_group',\n        type: 'post',\n        data: {\n          group_id: id\n        },\n        success: function({code, msg, data}){\n          if (0 == code) {\n            $.omsAlert('移出成功')\n            confirm_window.close();\n            _this.$root.getAllData(true)\n          }else{\n            $.omsAlert(msg)\n          }\n        },\n        error: function(){\n          $.failNotice();\n        }\n      })\n    }\n  },\n  computed:{\n    style(){\n      if(this.row.status == 6){\n        return {\n          color:\"hsla(0,0%,60%,.8)\"\n        }\n      }\n      if(this.row.status == 5){\n        return {\n          color:\"#333333\"\n        }\n      }\n    }\n  }\n})\n\n\nVue.component('vue-modify-top-text',{\n  props:['row'],\n  data(){\n    // let value = this.row.name\n    return {\n      value:this.row.name,\n      isShowChangePanel:false,\n\n    }\n  },\n  template:`\n        <div class=\"modify-text\">\n          <span class=\"account-table-tr__bold account-table-tr__name\" style=\"font-weight: bold;\" :title=\"row.name\">{{row.name}}</span>\n          <a  v-if=\"row.status !=6\" class=\"modify-remark__content__icon\" style=\"position: relative;top: -5px;\" @click=\"showChangePanel\"></a>\n          <a class=\"control-btn\" :class=\"{'control-btn__display': row.web_hide_child, 'control-btn__hide': !row.web_hide_child}\" style=\"vertical-align: super;\" @click=\"userClick($event,row)\"></a>\n          <div class=\"modify-number_showbox\" v-show=\"isShowChangePanel\">\n            <input class=\"modify-number_input\" placeholder=\"请输入产品组名称\" v-model=value>\n            <a class=\"modify-number_save\" @click=\"save()\" >确定</a>\n            <a class=\"modify-number_cancel\" @click=\"cancel()\" >取消</a>\n          </div>\n        </div>\n\n  `,\n  watch:{\n    row(row){\n      this.value = this.row.name\n    }\n  },\n  methods:{\n    userClick($event,row){\n      this.$parent.userClick($event,row);\n    },\n    showChangePanel:function(){\n      this.isShowChangePanel = true;\n      this.value = this.row.name;\n      this.$root.isdrag = false;//开启拓展\n    },\n    cancel(){\n      this.isShowChangePanel = false;\n      this.$root.isdrag = true;//开启拓展\n    },\n    save:function(){\n      let _this = this;\n      if(this.value == ''){\n        $.omsAlert('请输入产品组名称');\n        return;\n      }\n      let ajax_data = {\n        group_id:this.row.id,\n        group_name:this.value,\n      };\n      let ajax_type = 'post';\n      //ajax_data[this.id] = ('' == this.value)?0:this.value;\n      $.ajax({\n        url: '/bms-pub/product/modify_product_name',\n        data: ajax_data,\n        type: ajax_type,\n        success: function({code, msg, data}){\n          if (0 == code) {\n            $.omsAlert('保存成功')\n            _this.isShowChangePanel = false;\n            _this.row.name =_this.value;\n            _this.$emit('modify_value', _this.showstatus);\n            _this.$root.getOptionList();\n            _this.$root.getProductList();\n          }else{\n            $.omsAlert(msg)\n          }\n        },\n        error: function(){\n          $.omsAlert('网络异常，请重试')\n        }\n      })\n    },\n  }\n\n})\n\n\n// 点击  修改  的提示语\nlet vue_modify_click_data = {manager_map: {}};\nVue.component('vue-modify-click', {\n  props: ['operatorVal', 'nameVal', 'operatorId', 'productId', 'is_child'],\n  template: `\n    <a class=\"table__btn\" v-on:click=\"doModify()\">修改</a>\n  `,\n  data: function(){\n    return vue_modify_click_data\n  },\n  mounted: function(){\n    // this.getManagers();\n  },\n  methods: {\n    getManagers: function(callBack){\n      let _this = this;\n      $.ajax({\n        type: 'get',\n        url: '/bms-pub/user/org_info',\n        success: function({code, msg, data}){\n          if (0 == code) {\n            $.ajax({\n              type: 'get',\n              url: '/bms-pub/user/role_users',\n              success: function({code, msg, data}){\n                if (0 == code) {\n                  _this.manager_map = data;\n\n                  if (Object.prototype.toString.call(callBack) === '[object Function]') {\n                    callBack.apply(this, data);\n                  }\n                }else{\n                  $.omsAlert(msg);\n                }\n              },\n              error: function(){\n                $.omsAlert('网络异常，请重试')\n              }\n            });\n          }else{\n            $.omsAlert(msg)\n          }\n        },\n        error: function(){\n          $.failNotice();\n        }\n      });\n    },\n    submit_addGroup: function(confirm_window){\n      let _this = this;\n      let group_id = $('[name=\"name\"]').attr('placeholder');\n      let name = $('[name=\"name\"]').val();\n      let operator_uid = $('[name=\"operator_uid\"]').val();\n      $.ajax({\n        url: '/bms-pub/product/modify_product_group',\n        type: 'post',\n        data: {\n          group_id: group_id,\n          name: name,\n          operator_uid: operator_uid\n        },\n        success: function({code, msg, data}){\n          if (0 == code) {\n            $.omsAlert('保存成功');\n            // _this.$emit('create_success')\n            _this.$root.searchSelected();\n            confirm_window.close();\n          }else{\n            $.omsAlert(msg)\n          }\n        },\n        error: function(){\n          $.omsAlert('网络异常，请重试')\n        }\n      })\n    },\n    doModify:function(){\n      let _this = this;\n      if (Object.keys(this.manager_map).length > 0) {\n        _this.doCreate();\n      }else{\n        this.getManagers(function(){\n          _this.doCreate();\n        })\n      }\n    },\n    doCreate: function(){\n      let _this = this;\n      let manager_html = '';\n      Object.keys(this.manager_map).forEach(function(e){\n        if (_this.operatorId == e) {\n          manager_html += '<option selected=\"selected\" value=\"'+ e +'\">'+ _this.manager_map[e] +'</option>'\n        }else{\n          manager_html += '<option value=\"'+ e +'\">'+ _this.manager_map[e] +'</option>'\n        }\n      });\n      let disabled = '';\n      let disabledStr = '';\n      if (this.is_child) {\n        disabled = 'disabled=\"true\"';\n        disabledStr = 'disabled'\n      }\n      $.confirm({\n        title: '修改产品组',\n        content: `\n          <div class=\"vue-confirm\">\n            <form class=\"vue-form\">\n              <div class=\"vue-form__field\" style=\"margin-bottom: 5px;\">\n                <label class=\"vue-form__field--left\">产品组名</label>\n                <input class=\"vue-form__field--input\" name=\"name\" placeholder=\"`+this.productId+`\" value=\"`+this.nameVal+`\" />\n              </div>\n              <div class=\"vue-form__field\">\n                <label class=\"vue-form__field--left\">基金经理<b>*</b></label>\n                <select `+ disabled +` class=\"vue-form__field--select select_manager `+ disabledStr +`\" name=\"operator_uid\">`+ manager_html +`</select>\n              </div>\n            </form>\n          </div>\n        `,\n        closeIcon: true,\n        columnClass: 'custom-window-width',\n        confirmButton: '确定',\n        confirmButtonClass: 'vue-confirm__btns--submit',\n        confirm: function(){\n          let confirm_window = this;\n          _this.submit_addGroup(confirm_window);\n          return false;\n        },\n        cancelButton: false\n      });\n\n      $('.vue-confirm').off().on('click', '.do-create-manager', function(){\n        createManager(function(data){\n          _this.getManagers(function(){\n            let user_id = data.user_id;\n\n            let manager_html = '';\n            Object.keys(_this.manager_map).forEach(function(e){\n              manager_html += '<option value=\"'+ e +'\">'+ _this.manager_map[e] +'</option>'\n            });\n\n            $('.select_manager').empty().html(manager_html).val(user_id);\n          });\n        });\n      })\n    }\n  }\n})\n\n// 自定义产品表格 //不论顶级与否都用这个\nVue.component('vue-product-table', {\n  mixins: [numberMixin],\n  props: ['product', 'is_child', 'childs_child', 'top', 'filter',],\n  data: function(){\n    return {\n      prefix: window.REQUEST_PREFIX,\n      my_product:this.product,\n    }\n  },\n  watch:{\n    product(){\n      this.my_product = this.product;\n    }\n  },\n  template: `\n    <table class=\"vue-product-table\">\n      <thead>\n        <tr class=\"vue-product-table__thead--tr\">\n          <td class=\"vue-product-table__thead--td\" :style=\"is_child ? (childs_child ? 'width: 190px;' : 'width: 220px;') : 'width: 250px;'\">交易单元</td>\n          <td class=\"vue-product-table__thead--td vue-product-table__align-right\" style=\"width: 150px;\">基金经理</td>\n          <td class=\"vue-product-table__thead--td vue-product-table__align-right\">交易账户</td>\n          <td class=\"vue-product-table__thead--td vue-product-table__align-right\">单位净值</td>\n          <td class=\"vue-product-table__thead--td vue-product-table__align-right\">净资产</td>\n          <td class=\"vue-product-table__thead--td vue-product-table__align-right\"\">份额</td>\n          <td class=\"vue-product-table__thead--td vue-product-table__align-right\">初期规模</td>\n          <td v-if=\"false\" class=\"vue-product-table__thead--td\">资金余额</td>\n          <td class=\"vue-product-table__thead--td vue-product-table__align-right\">持仓市值</td>\n          <td v-if=\"false\" class=\"vue-product-table__thead--td\">冻结资金</td>\n          <td class=\"vue-product-table__thead--td vue-product-table__align-right\">状态</td>\n          <td class=\"vue-product-table__thead--td\" style=\"width: 150px;\"></td>\n        </tr>\n      </thead>\n      <draggable :element=\"'tbody'\" :list=\"my_product\"  @start=\"onStart\" :options=\"dragOptions\" :move=\"onMove\" @end=\"onEnd\" class=\"product_row\">\n        <template v-for=\"(detail,index) in my_product\" v-if=\"detail\">\n          <tr v-if=\"checkFilter(detail)\" class=\"vue-product-table__tbody--tr\" :style=style(detail)>\n            <td class=\"vue-product-table__tbody--td\" v-on:click=\"chgSelectByClick($event, detail)\" :style=\"is_child ? (childs_child ? 'width: 190px;' : 'width: 220px;') : 'width: 250px;'\">\n              <input :disabled=\"is_child ? 'disabled' : false\" type=\"checkbox\" v-model=\"detail.web_checked\" name=\"\" style=\"margin-right: 5px;\">\n              {{detail.name}}\n            </td>\n            <td  class=\"vue-product-table__tbody--td vue-product-table__align-right\">\n              <vue-modify-text-child v-if=\"!is_child\" :detail=detail></vue-modify-text-child>\n              <span v-else>{{detail.operator}}</span>\n            </td>\n            <td class=\"vue-product-table__tbody--td vue-product-table__align-right\">{{detail.account_id}}</td>\n            <td class=\"vue-product-table__tbody--td vue-product-table__align-right\">{{numeralNumber(detail.net_value)}}</td>\n            <td class=\"vue-product-table__tbody--td vue-product-table__align-right\">{{numeralNumber(detail.total_amount)}}</td>\n            <td class=\"vue-product-table__tbody--td vue-product-table__align-right\"\">\n              <vue-modify-product-number  :status=detail.status :label=\"'份额'\" :tip=\"'请输入份额'\" :value_down=\"numeralNumber(detail.volume,4)\"  :ajax_url=\"'/bms-pub/product/modify_product_volume'\"  :ajax_data=\"{product_id:detail.id}\" :id=\"'volume'\" :ajax_type=\"'POST'\"></vue-modify-product-number>\n            </td>\n            <td  class=\"vue-product-table__tbody--td vue-product-table__align-right\">\n              <vue-modify-product-number :status=detail.status :label=\"'初始资金'\" :tip=\"'请输入初始资金'\" :value_down=\"numeralNumber(detail.begin_capital,2)\"  :ajax_url=\"'/bms-pub/product/modify_product_begin_capital'\"  :ajax_data=\"{product_id:detail.id}\" :id=\"'begin_capital'\" :ajax_type=\"'GET'\"></vue-modify-product-number>\n            </td>\n            <td v-if=\"false\" class=\"vue-product-table__tbody--td\">{{numeralNumber(detail.balance_amount)}}</td>\n            <td v-if=\"false\" class=\"vue-product-table__tbody--td\">{{numeralNumber(detail.frozen_amount)}}</td>\n            <td class=\"vue-product-table__tbody--td vue-product-table__align-right\">{{numeralNumber(detail.market_value)}}</td>\n            <td class=\"vue-product-table__tbody--td vue-product-table__align-right\">{{showStatus(detail)}}</td>\n            <td class=\"vue-product-table__tbody--td vue-product-table__align-right\"  style=\"width: 150px;\">\n              <a v-on:click=\"doConfig(detail.id)\" class=\"table__btn\" v-if=\"false\">设置</a>\n              <a class=\"table__btn\" v-if=\"false\" :style=style(detail)>设置</a>\n              <a v-if=\"!is_child && (detail.status == 5 || detail.is_running == true)\" v-on:click=\"doEnd(detail.id, 6, detail.name, detail)\" class=\"table__btn table__btn--red\">结束</a>\n              <a v-if=\"!is_child && (detail.status == 6 || detail.is_stoped == true)\" v-on:click=\"doEnd(detail.id, 5, detail.name, detail)\" class=\"table__btn table__btn--red\">运行</a>\n              <a v-if=\"is_child\" v-on:click=\"doUnbind(detail.id, detail.name)\" class=\"table__btn table__btn--red\">移出</a>\n            </td>\n          </tr>\n        </template>\n      </draggable>\n    </table>\n  `,\n  methods: {\n    checkFilter: function(detail){\n      if (undefined == this.filter) {\n        return true;\n      }\n      if ('all' == this.filter) {\n        return true;\n      }else if('running' == this.filter){\n        if(detail.status == 5 || detail.is_running == true){\n          return true;\n        }\n        return false;\n      }else if('finished' == this.filter){\n        if(detail.status == 6 || detail.is_stoped == true){\n          return true;\n        }\n        return false;\n      }\n      return false;\n    },\n    showStatus: function(detail){\n      if (detail.status == 5 || detail.is_running == true) {\n        return '运行'\n      }else if(detail.status == 6 || detail.is_stoped == true){\n        return '结束'\n      }else{\n        return '--';\n      }\n    },\n    chgSelectByClick: function(e, row){\n      if ($(e.target).is('td')) {\n        let target = $(e.target).parents('tr').find('input')\n        if (!target.prop('disabled')) {\n          row.web_checked = !row.web_checked;\n        }\n      }\n    },\n    doEnd: function(id, status, name, detail){\n      let _this = this;\n      var childName = name;\n      let str = '';\n      if (5 == detail.status) { //5是运行，所以显示为设置为结束\n        str = '结束';\n      }else if(6 == detail.status){ //6是结束，所以显示为设置为运行\n        str = '运行';\n      }\n      $.confirm({\n        title: str + '确认',\n        content: `\n          <div class=\"vue-confirm\">\n            <div style=\"font-size: 14px; text-align: center; color: #000000; padding: 60px 0;\">确定将【`+ childName +`】设置为`+str+`状态？</div>\n          </div>\n        `,\n        closeIcon: true,\n        columnClass: 'custom-window-width',\n        confirmButton: '确定',\n        confirmButtonClass: 'vue-confirm__btns--cancel',\n        confirm: function(){\n          let confirm_window = this;\n          _this.submit_end(id, confirm_window, status);\n          return false;\n        },\n        cancelButton: false\n      })\n    },\n    submit_end: function(id, confirm_window, status){\n      let _this = this;\n      $.ajax({\n        url: '/bms-pub/product/set_status',\n        type: 'post',\n        data: {\n          product_id: id,\n          status: status\n        },\n        success: function({code, msg, data}){\n          if (0 == code) {\n            $.omsAlert('保存成功')\n            confirm_window.close();\n            _this.$root.getAllData(true);\n          }else{\n            $.omsAlert(msg)\n          }\n        },\n        error: function(){\n          $.failNotice();\n        }\n      })\n    },\n    doConfig: function(id){\n      location.href = window.REQUEST_PREFIX + '/product/setting_redirect?product_id=' + id;\n    },\n    doUnbind: function(id, name){\n      let _this = this;\n      let childName = name;\n      let topName = this.top.name;\n      $.confirm({\n        title: '移出',\n        content: `\n          <div class=\"vue-confirm\">\n            <div style=\"font-size: 14px; text-align: center; color: #000000; padding: 60px 0;\">确定将【`+ childName +`】移出基金【`+ topName +`】？</div>\n          </div>\n        `,\n        closeIcon: true,\n        columnClass: 'custom-window-width',\n        confirmButton: '确定',\n        confirmButtonClass: 'vue-confirm__btns--cancel',\n        confirm: function(){\n          let confirm_window = this;\n          _this.submit_unbind(id, confirm_window);\n          return false;\n        },\n        cancelButton: false\n      })\n    },\n    submit_unbind: function(id, confirm_window){\n      let _this = this;\n      $.ajax({\n        url: '/bms-pub/product/move_product_group',\n        type: 'post',\n        data: {\n          product_id: id\n        },\n        success: function({code, msg, data}){\n          if (0 == code) {\n            $.omsAlert('移出成功')\n            confirm_window.close();\n            _this.$root.getAllData(true)\n          }else{\n            $.omsAlert(msg)\n          }\n        },\n        error: function(){\n          $.failNotice();\n        }\n      })\n    },\n    style(detail){\n      if(detail.status == 6){\n        return {\n          color:\"hsla(0,0%,60%,.8)\"\n        }\n      }\n      if(detail.status == 5){\n        return {\n          color:\"#333333\"\n        }\n      }\n    },\n    onStart(){\n    },\n    onMove ({relatedContext, draggedContext}) {\n\n        const relatedElement = relatedContext.element;\n        const draggedElement = draggedContext.element;\n        return (!relatedElement || !relatedElement.fixed) && !draggedElement.fixed\n      // return true;\n    },\n    onEnd ({oldIndex, newIndex}){\n      this.set_group_product_index();\n    },\n    set_group_product_index(){\n      let self = this;\n      let productid_list = [];\n      this.my_product.forEach((e)=>{\n        if(!e){\n          return \n        }\n        productid_list.push(e.id);\n      })\n\n      let operation_id = '';\n      if(self.top){\n        operation_id = self.top.id\n      }\n      productid_list = productid_list.join(',');\n      $.ajax({\n        url: '/bms-pub/product/modify_product_orderNumber',\n        type: 'GET',\n        data: {\n          product_id:productid_list,\n          operation_id:operation_id,\n        },\n      })\n      .done(function(res) {\n      })\n      .fail(function() {\n      })\n      .always(function() {\n      });\n\n    }\n  },\n  computed:{\n    dragOptions: function () {\n      return  {\n        animation: 150,\n        scroll: true,\n        scrollSensitivity: 100,\n        // group: 'description',\n        disabled: !this.$root.isdrag, //停止拖拽\n        handle: '.product_row',\n        ghostClass: 'ghost'\n      };\n    },\n  },\n})\n\n// 自定义基金表格 // 顶级\nVue.component('vue-group-table', {\n  mixins: [numberMixin],\n  props: ['accounts_info', 'org_info', 'prefix', 'filter'],\n  template: `\n    <div>\n        <draggable :element=\"'table'\" :list=\"accounts_info.group\"  @start=\"onStart\" :options=\"dragOptions\" :move=\"onMove\" @end=\"onEnd\" v-if=\"org_info.theme != 3 && accounts_info.group && accounts_info.group.length > 0\" class=\"account-table bem-table\">\n          <tbody v-for=\"(detail, index) in accounts_info.group\" v-if=\"checkFilter(detail)\" class=\"draggableitem\">\n            <vue-group-row :is_child=\"false\" :row=\"detail\" v-on:chg_select=\"chgSelect(detail, $event)\"></vue-group-row>\n            <vue-sub-group v-if=\"!detail.web_hide_child\" :detail=\"detail\" :filter=\"filter\"></vue-sub-group>\n          </tbody>\n        </draggable>\n      <table v-if=\"org_info.theme != 3 && accounts_info.product && accounts_info.product.length > 0 && checkPassFilter(accounts_info.product)\" class=\"account-table\">\n        <tbody>\n          <tr>\n            <td colspan=\"999\">\n              <vue-product-table :product=\"accounts_info.product\" :is_child=\"false\" :filter=\"filter\"></vue-product-table>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div v-if=\"org_info.theme == 3\" class=\"container-content-grid\">\n        <table class=\"account-table bem-table\" style=\"margin-top: 0;\">\n          <thead>\n            <tr>\n              <th class=\"left10 multi\"></th>\n              <th style=\"color: #999;\" class=\"left10\">账户</th>\n              <th style=\"color: #999;\" class=\"left20\">账户名称</th>\n              <th style=\"color: #999;\" class=\"left20\">账户类型</th>\n              <th style=\"color: #999;\" class=\"left20\">所属券商</th>\n              <th style=\"color: #999;width: 190px;\" class=\"right20\">资产总值</th>\n              <th style=\"color: #999;width: 190px;\" class=\"right20\">资金余额</th>\n              <th style=\"color: #999;width: 190px;\" class=\"right20\">证券市值</th>\n              <th style=\"color: #999;width: 190px;\" class=\"right20\">可分配金额</th>\n              <th class=\"right40\"></th>\n            </tr>\n          </thead>\n          <tbody v-for=\"account in accounts_info.product\">\n            <tr>\n              <td class=\"left10\" v-on:click=\"toggleShowChildren(account)\">\n                <template v-if=\"account.child_product.length > 0\">\n                  <div v-if=\"account.showChildren\" class=\"icon-hide\"></div>\n                  <div v-if=\"!account.showChildren\" class=\"icon-show\"></div>\n                </template>\n              </td>\n              <td class=\"left10\">{{account.account_id}}</td>\n              <td class=\"left20\">{{account.name}}</td>\n              <td class=\"left20\">{{getsecuritiesType(account.securities_id)}}</td>\n              <td class=\"left20\">{{account.securities_name}}</td>\n              <td class=\"right20\">{{numeralNumber(account.total_amount)}}</td>\n              <td class=\"right20\">{{numeralNumber(account.balance_amount)}}</td>\n              <th class=\"right20\">{{numeralNumber(account.market_value)}}</th>\n              <th class=\"right20\">{{numeralNumber(account.available_amount)}}</th>\n              <td class=\"right40\">\n                <a class=\"do_split\" v-if=\"checkShowSplit() && checkSplit(account.able_split)\" v-on:click=\"doSplit(account.id)\">新建策略</a>\n                <a class=\"do_split disabled\" v-if=\"checkShowSplit() && !checkSplit(account.able_split)\">新建策略</a>\n                <span class=\"dot-tip exclamation\" v-if=\"checkShowSplit() && !checkSplit(account.able_split)\">\n                  <div>\n                    <em>i</em>\n                    <span class=\"str\">\n                      <span class=\"msg\">\n                        <span>该账户不支持新建策略，若需要请联系我们</span>\n                      </span>\n                    </span>\n                  </div>\n                </span>\n                <a class=\"do_changePassword\" v-if=\"checkShow(account.com_pw)\" v-on:click=\"doChangePassword(account.id, account.tx_pw)\" style=\"margin-left: 10px;display: inline-block;\">修改密码</a>\n              </td>\n            </tr>\n            <tr v-if=\"account.showChildren && (account.child_product.length > 0)\">\n              <td colspan=\"10\" style=\"padding-top: 0;padding-bottom: 0;\">\n                <table class=\"sub-table\">\n                  <thead>\n                    <tr>\n                      <th style=\"color: #999;\" class=\"left70\">策略名称</th>\n                      <th style=\"color: #999;\" class=\"right20\">用户账号</th>\n                      <th style=\"color: #999;\" class=\"right20\">杠杆比例</th>\n                      <th style=\"color: #999;\" class=\"right20\">资产总值</th>\n                      <th style=\"color: #999;\" class=\"right20\">保证金金额</th>\n                      <th style=\"color: #999;\" class=\"right20\">借款金额</th>\n                      <th style=\"color: #999;\" class=\"right20\">资金余额</th>\n                      <th style=\"color: #999;width: 190px;\" class=\"right20\">证券市值</th>\n                      <th style=\"color: #999;width: 50px;\" class=\"right20\">状态</th>\n                      <th class=\"right40\"></th>\n                    </tr>\n                  </thead>\n                  <tbody v-for=\"child in account.child_product\">\n                      <tr :class=\"child.status==6?'vue_base_list_gray':''\" v-if=\"child.status==5\">\n                        <td class=\"left70\">{{child.name}}</td>\n                        <td class=\"right20\">{{child.operator_uid}}</td>\n                        <td class=\"right20\">{{child.lever_ratio}}</td>\n                        <td class=\"right20\">{{numeralNumber(child.total_amount)}}</td>\n                        <td class=\"right20\">{{numeralNumber(child.assure_capital)}}</td>\n                        <td class=\"right20\">{{numeralNumber(child.loan_capital)}}</td>\n                        <td class=\"right20\">{{numeralNumber(child.balance_amount)}}</td>\n                        <td class=\"right20\">{{numeralNumber(child.market_value)}}</td>\n                        <td class=\"right20\" style=\"width:50px;\">{{getStatus(child.status)}}</td>\n                        <td class=\"right40\" style=\"max-width: inherit\">\n                          <template v-if=\"child.status==5\">\n                            <a v-if=\"child.permission.base_setting\" v-on:click=\"doConfig(child.product_id, 'base_setting')\">基础信息</a>\n                            <a v-if=\"child.permission.user_setting\" v-on:click=\"doConfig(child.product_id, 'user_setting')\">人员分配</a>\n                            <a v-if=\"child.permission.risk_setting\" v-on:click=\"doConfig(child.product_id, 'risk_setting')\">风控设置</a>\n                            <a v-if=\"child.permission.fee_setting\" v-on:click=\"doConfig(child.product_id, 'fee_setting')\">费用设置</a>\n                            <a v-if=\"child.permission.cash_setting\" v-on:click=\"doConfig(child.product_id, 'cash_setting')\">资金调整</a>\n                            <a v-if=\"child.permission.position_setting\" v-on:click=\"doConfig(child.product_id, 'position_setting')\">证券调整</a>\n                            <a v-if=\"child.status==5\" @click=\"end_product(child)\" style=\"color:red\">结束</a>\n                          </template>\n                          <template v-if=\"child.status==6\">\n                            <a v-if=\"child.permission.base_setting\" >基础信息</a>\n                            <a v-if=\"child.permission.user_setting\" >人员分配</a>\n                            <a v-if=\"child.permission.risk_setting\" >风控设置</a>\n                            <a v-if=\"child.permission.fee_setting\" >费用设置</a>\n                            <a v-if=\"child.permission.cash_setting\" >资金调整</a>\n                            <a v-if=\"child.permission.position_setting\" >证券调整</a>\n                            <a v-if=\"child.status==6\">结束</a>\n                          </template>\n\n                        </td>\n                      </tr>\n                  </tbody>\n                </table>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  `,\n  data: function(){\n    return {\n\n    }\n  },\n  methods: {\n    checkPassFilter: function(data){\n      let rtn = false;\n      if ('all' == this.filter) {\n        rtn = true;\n      }else if('running' == this.filter){\n        data.forEach(function(e){\n          if (e.status == 5 || true == e.is_running) {\n            rtn = true;\n          }\n        })\n      }else if('finished' == this.filter){\n        data.forEach(function(e){\n          if (e.status == 6 || true == e.is_stoped) {\n            rtn = true;\n          }\n        })\n      }\n\n      return rtn;\n    },\n    checkFilter: function(detail){\n      if ('all' == this.filter) {\n        return true;\n      }else if('running' == this.filter){\n        if(detail.status == 5 || detail.is_running == true){\n          return true;\n        }\n        return false;\n      }else if('finished' == this.filter){\n        if(detail.status == 6 || detail.is_stoped == true){\n          return true;\n        }\n        return false;\n      }\n\n      return false;\n    },\n    toggleShowChildren: function(v){\n      v.showChildren = !v.showChildren;\n    },\n    doConfig: function(v, type){\n      // location.href = prefix + '/product/setting_redirect?product_id=' + v;\n      if (type) {\n        location.href = this.prefix + '/product/'+ type +'?product_id=' + v;\n      }else{\n        location.href = this.prefix + '/product/setting_redirect?product_id=' + v;\n      }\n    },\n    checkSplit: function(v){\n      return 1 == v;\n    },\n    checkShow: function(v){\n      return 1 == v;\n    },\n    checkShowSplit: function(){\n      return LOGIN_INFO.role_id.some(function(e){\n        return e == 1;\n      })\n    },\n    doSplit: function(v){\n      location.href = this.prefix + '/product/add/' + v;\n    },\n    getsecuritiesType: function(id){\n      if (/pb/i.test(id)) {\n        return 'PB账户';\n      }else{\n        return '账户'\n      }\n    },\n    chgSelect: function(data, value){\n      data.child_product && data.child_product.forEach(function(e){\n        e.web_checked = value;\n        e.child_product && e.child_product.forEach(function(el){\n          el.web_checked = value\n        })\n      })\n      data.child_group && data.child_group.forEach(function(e){\n        e.web_checked = value;\n        e.child_product && e.child_product.forEach(function(el){\n          el.web_checked = value;\n        })\n        e.child_group && e.child_group.forEach(function(el){\n          el.web_checked = value\n        })\n      })\n    },\n    end_product(product){\n      let self = this;\n      let contentChild = Vue.extend({\n        data(){\n          return {\n            product:product\n          }\n        },\n        template:`\n         <form class=\"vue-form\">\n            <div style=\"width: 400px;height: 100px;line-height: 100px;text-align: center;margin-bottom: 20px;\">\n              <span class=\"vue-form__alert\"></span>\n              确定将［{{product.name}}］设为结束状态？\n            </div>\n            <div class=\"buttons\">\n              <button type=\"button\" class=\"vue-confirm__btns--cancel\"  @click=btn_submit>确认</button>\n              <button type=\"button\" class=\"vue-confirm__btns--submit\"  @click=btn_cancel>取消</button>\n            </div>\n          </form>\n        `,\n        methods:{\n          btn_submit(){\n            var _this = this;\n            $.startLoading('正在提交...');\n            if(!_this.isloarding){\n                _this.isloarding = true;\n                $.ajax({\n                url: '/bms-pub/product/end_product',\n                type: 'post',\n                data: {\n                  product_id:product.product_id,\n                },\n                success: function({msg, code, data}){\n                  if(code == 0){\n                    _this.isloarding = false;\n                    $.omsAlert('保存成功')\n                    product.status = 6 ;\n                    $.clearLoading();\n                    _this.$parent.close();\n                  }else{\n                    _this.isloarding = false;\n                    $.omsAlert(msg);\n                    $.clearLoading();\n                    _this.$parent.close();\n                  }\n                },\n                error: function(){\n                  _this.isloarding = false;\n                  $.omsAlert('保存失败')\n                  $.clearLoading();\n                  _this.$parent.close();\n                }\n              })\n            }\n\n          },\n          btn_cancel(){\n            this.$parent.close();\n          },\n        },\n        mounted(){\n        }\n      });\n\n      this.$confirm({\n          title: '结束确认',\n          content:contentChild,\n          closeIcon: true,\n      });\n    },\n    getStatus(status){\n      if(status == 5){\n        return \"运行\";\n      }\n      if(status==6){\n        return \"结束\";\n      }\n    },\n    onStart(){\n    },\n    onMove ({relatedContext, draggedContext}) {\n        const relatedElement = relatedContext.element;\n        const draggedElement = draggedContext.element;\n        return (!relatedElement || !relatedElement.fixed) && !draggedElement.fixed\n    },\n    onEnd ({oldIndex, newIndex}){\n      this.set_group_product_index();\n    },\n    set_group_product_index(){\n      let groupid_list = [];\n      this.accounts_info.group.forEach((e)=>{\n        groupid_list.push(e.id);\n      })\n      groupid_list = groupid_list.join(',');\n\n      let productid_list = [];\n      this.accounts_info.product.forEach((e)=>{\n        productid_list.push(e.id);\n      })\n      productid_list = productid_list.join(',');\n      $.ajax({\n        url: '/bms-pub/product/modify_product_orderNumber',\n        type: 'GET',\n        data: {\n          group_id: groupid_list,\n          product_id:productid_list,\n        },\n      })\n      .done(function(res) {\n      })\n      .fail(function() {\n      })\n      .always(function() {\n      });\n      \n    }\n\n  },\n  computed:{\n    dragOptions: function () {\n      return  {\n        animation: 150,\n        scroll: true,\n        scrollSensitivity: 100,\n        // group: 'description',\n        disabled: !this.$root.isdrag,\n        handle: '.draggableitem',\n        ghostClass: 'ghost'\n      };\n    },\n  },\n})\n\n// 自定义基金内容 // 子基金\nVue.component('vue-sub-group', {\n  mixins: [numberMixin],\n  props: ['detail', 'filter'],\n  template: `\n    <tr class=\"vue-sub-group bem-table__no-hover-v2\" style=\"background-color: #f4faff\">\n      <td class=\"vue-sub-group__content\" colspan=\"999\">\n        <vue-product-table :top=\"detail\" :product=\"detail.child_product\" :is_child=\"true\" v-if=\"detail.child_product.length > 0\"></vue-product-table>\n        <draggable class=\"vue-sub-group__table\" :element=\"'table'\" :list=\"detail.child_group\"  @start=\"onStart\" :options=\"dragOptions\" :move=\"onMove\" @end=\"onEnd\" v-if=\"detail.child_group && detail.child_group.length > 0\">\n          <tbody v-for=\"child in detail.child_group\">\n            <vue-group-row v-if=\"checkFilter(child)\" :row=\"child\" :top=\"detail\" :is_child=\"true\" v-on:chg_select=\"chgSelect(child, $event)\"></vue-group-row>\n            <tr v-if=\"child.child_product.length > 0 && !child.web_hide_child\" class=\"bem-table__no-hover\">\n              <td class=\"vue-sub-group__table--content\" colspan=\"999\">\n                <vue-product-table :top=\"child\" :product=\"child.child_product\" :is_child=\"true\" :childs_child=\"true\"></vue-product-table>\n              </td>\n            </tr>\n          </tbody>\n        </draggable>\n      </td>\n    </tr>\n  `,\n  data: function(){\n    return {\n\n    }\n  },\n  methods: {\n    checkFilter: function(detail){\n      if ('all' == this.filter) {\n        return true;\n      }else if('running' == this.filter){\n        if(detail.status == 5 || detail.is_running == true){\n          return true;\n        }\n        return false;\n      }else if('finished' == this.filter){\n        if(detail.status == 6 || detail.is_stoped == true){\n          return true;\n        }\n        return false;\n      }\n\n      return false;\n    },\n    chgSelect: function(data, value){\n      data.child_product && data.child_product.forEach(function(e){\n        e.web_checked = value;\n        e.child_product && e.child_product.forEach(function(el){\n          el.web_checked = value\n        })\n      })\n      data.child_group && data.child_group.forEach(function(e){\n        e.web_checked = value;\n        e.child_product && e.child_product.forEach(function(el){\n          el.web_checked = value;\n        })\n        e.child_group && e.child_group.forEach(function(el){\n          el.web_checked = value\n        })\n      })\n    },\n    onStart(){\n    },\n    onMove ({relatedContext, draggedContext}) {\n        const relatedElement = relatedContext.element;\n        const draggedElement = draggedContext.element;\n        return (!relatedElement || !relatedElement.fixed) && !draggedElement.fixed\n    },\n    onEnd ({oldIndex, newIndex}){\n      this.set_group_product_index();\n    },\n    set_group_product_index(){\n      let groupid_list = [];\n      let self = this;\n      this.detail.child_group.forEach((ele)=>{\n        groupid_list.push(ele.id);\n      })\n      groupid_list = groupid_list.join(',');\n\n      $.ajax({\n        url: '/bms-pub/product/modify_product_orderNumber',\n        type: 'GET',\n        data: {\n          group_id: groupid_list,\n          operation_id:self.detail.id\n        },\n      })\n      .done(function(res) {\n      })\n      .fail(function() {\n      })\n      .always(function() {\n      });\n    }\n  },\n  computed:{\n    dragOptions: function () {\n      return  {\n        animation: 150,\n        scroll: true,\n        scrollSensitivity: 100,\n        // group: 'description',\n        disabled: !this.$root.isdrag,\n        handle: '.draggableitem',\n        ghostClass: 'ghost'\n      };\n    },\n  },\n})\n//账户搜索\nVue.component('vue-account-search', {\n  props: ['product_list', 'selete_id'],\n  template: `<div class=\"account_search\">\n    <vue-selectize :options=\"options\" :place_holder=\"'请选择产品组'\" :value=\"selete_id\" v-on:input=\"select_id($event)\"></vue-selectize>\n    <button class=\"account_search_btn\" v-on:click=\"startSearch()\">开始搜索</button>\n  </div>`,\n  data: function () {\n    return {\n\n    }\n  },\n  computed: {\n    options: function(){\n      var rtn = [];\n      this.product_list.forEach(function(e){\n        var obj = {\n          type: e.type,\n          label: e.name,\n          value: e.id\n        }\n        rtn.push(obj);\n      })\n      return rtn;\n    }\n  },\n  methods: {\n    select_id: function(v){\n      this.$emit('select_id', v)\n    },\n    startSearch: function (id) {\n      this.$emit('change_selected');\n    }\n  }\n})\n// 自定义修改密码(底层账户)\n// 依赖：jquery, jquery-confirm\nVue.component('vue-change-system-password', {\n  props: ['selected_account_arr'],\n  template: `\n    <a class=\"vue-btn\" v-on:click=\"chgActive()\">批量修改账户密码</a>\n  `,\n  data: function(){\n    return {\n      active: false\n    }\n  },\n  mounted: function(){\n\n  },\n  methods: {\n    chgActive: function(){\n      if (this.selected_account_arr.length > 0) {\n        this.active = true;\n      }else{\n        $.omsAlert('请选择账户');\n      }\n    },\n    chgPassword: function(new_password, tx_new_passwd){\n      let _this = this;\n      $.startLoading('正在提交...');\n      this.selected_account_arr.forEach(function(e){\n        e.msg = e.code = e.sign_status = '';\n        let type;\n        if (0 == e.is_pb) {\n          type = 1;\n        } else {\n          type = 2;\n        }\n        $.ajax({\n          // url: window.REQUEST_PREFIX + '/product/change_base_password',\n          // url: window.REQUEST_PREFIX + '/system/sec_modify_passwd',\n          url: '/bms-pub/product/change_base_password',\n          type: 'post',\n          data: {\n            base_id: e.id,\n            // src_passwd: login_password,\n            new_passwd: new_password,\n            tx_new_passwd: tx_new_passwd,\n            type: type\n          },\n          success: function({msg, code, data}){\n            e.msg = msg;\n            e.code = code;\n            e.sign_status = 'finished';\n\n            if (_this.selected_account_arr.every(function(el){\n              return el.sign_status == 'finished';\n            })) {\n              _this.showResult();\n            }\n          },\n          error: function(){\n            e.msg = '网络异常，请重试';\n            e.code = -1;\n            e.sign_status = 'finished';\n\n            if (_this.selected_account_arr.every(function(el){\n              return el.sign_status == 'finished';\n            })) {\n              _this.showResult();\n            }\n          }\n        })\n      })\n    },\n    showResult: function(){\n      let _this = this;\n      $.clearLoading();\n      let resultHtml = '';\n      let okNum = 0;\n      let notOkNum = 0;\n      _this.selected_account_arr.forEach(function(e){\n        if (0 == e.code) {\n          okNum += 1;\n        }else{\n          notOkNum += 1;\n          resultHtml += `\n          <tr style=\"color: #000000; font-size: 16px; line-height: 30px;\">\n            <td>`+ e.name +`</td>\n            <td class=\"`+ (e.code == 0 ? 'statusSuccess' : 'statusFailure') +`\">`+ (e.code == 0 ? '成功' : '失败') +`</td>\n            <td class=\"`+ (e.code == 0 ? 'statusSuccess' : 'statusFailure') +`\">`+ (0 == e.code ? '无' : e.msg) +`</td>\n          </tr>\n          `;\n        }\n        e.code = null;\n        e.msg = null;\n        e.sign_status = null;\n      });\n      if (notOkNum > 0) {\n        $.confirm({\n          title: '失败提示',\n          content: `\n            <div style=\"font-size: 16px; color: #2A2A2A;\">以下账户密码修改失败</div>\n            <table style=\"width: 100%;\">\n              <tbody>\n                <tr style=\"font-size: 14px; color: #A2A2A2; border-bottom: 1px solid #C5CAD1; line-height: 30px;\">\n                  <td>账户</td>\n                  <td>登录结果</td>\n                  <td>备注</td>\n                </tr>\n              </tbody>\n              <tbody>` + resultHtml + `</tbody>\n            </table>\n          `,\n          closeIcon: true,\n          confirmButton: '确定',\n          confirmButtonClass: 'vue-confirm__btns--submit',\n          cancelButton: false\n        })\n      }else{\n        $.omsAlert('保存成功')\n      }\n    }\n  },\n  watch: {\n    active: function(){\n      let _this = this;\n      let accountName = this.selected_account_arr.map(function(e){\n        return e.name;\n      }).join('、');\n      if (true == this.active) {\n        $.confirm({\n          title: '修改密码',\n          content: `\n            <div class=\"vue-confirm\">\n              <form class=\"vue-form\">\n                <div class=\"vue-form__field\" style=\"margin-bottom: 5px;display:flex;\">\n                  <label class=\"vue-form__field--left\" style=\"line-height: 35px;\">账户</label>\n                  <span>`+ accountName +`</span>\n                </div>\n                <div class=\"vue-form__field\">\n                  <label class=\"vue-form__field--left\">交易密码<b>*</b></label>\n                  <input class=\"vue-form__field--input\" name=\"new_password\" placeholder=\"请输入正确密码\" />\n                </div>\n                <div class=\"vue-form__field\">\n                  <label class=\"vue-form__field--left\">通讯密码</label>\n                  <input class=\"vue-form__field--input\" name=\"tx_new_passwd\" placeholder=\"请输入通讯密码（若有，则必须提供）\" />\n                </div>\n              </form>\n            </div>\n          `,\n          // <div class=\"vue-confirm__btns\">\n          //   <a class=\"vue-confirm__btns--submit\">确定</a>\n          // </div>\n          closeIcon: true,\n          columnClass: 'custom-window-width',\n          confirmButton: '确定',\n          confirmButtonClass: 'vue-confirm__btns--submit',\n          confirm: function(){\n            let new_password = $('[name=\"new_password\"]').val();\n            let tx_new_passwd = $('[name=\"tx_new_passwd\"]').val();\n            _this.chgPassword(new_password, tx_new_passwd);\n            // return false;\n          },\n          cancelButton: false,\n          onClose: function(){\n            _this.active = false;\n          }\n        });\n      }\n\n    }\n  }\n})\n\n// 自定义单个修改密码组件\nVue.component('vue-single-change-system-password', {\n  props: ['selected_account_arr'],\n  template: `\n    <a class=\"custom-table__btn\" v-on:click=\"chgActive()\">修改密码</a>\n  `,\n  data: function(){\n    return {\n      active: false\n    }\n  },\n  mounted: function(){\n\n  },\n  methods: {\n    chgActive: function(){\n      if (this.selected_account_arr.length > 0) {\n        this.active = true;\n      }else{\n        $.omsAlert('请选择账户');\n      }\n    },\n    chgPassword: function(new_password, tx_new_passwd){\n      let _this = this;\n      $.startLoading('正在提交...');\n      this.selected_account_arr.forEach(function(e){\n        e.msg = e.code = e.sign_status = '';\n        let type;\n        if (0 == e.is_pb) {\n          type = 1;\n        } else {\n          type = 2;\n        }\n        $.ajax({\n          // url: window.REQUEST_PREFIX + '/product/change_base_password',\n          // url: window.REQUEST_PREFIX + '/system/sec_modify_passwd',\n          url: '/bms-pub/product/change_base_password',\n          type: 'post',\n          data: {\n            base_id: e.id,\n            // src_passwd: login_password,\n            new_passwd: new_password,\n            tx_new_passwd: tx_new_passwd,\n            type: type\n          },\n          success: function({msg, code, data}){\n            e.msg = msg;\n            e.code = code;\n            e.sign_status = 'finished';\n\n            if (_this.selected_account_arr.every(function(el){\n              return el.sign_status == 'finished';\n            })) {\n              _this.showResult();\n            }\n          },\n          error: function(){\n            e.msg = '网络异常，请重试';\n            e.code = -1;\n            e.sign_status = 'finished';\n\n            if (_this.selected_account_arr.every(function(el){\n              return el.sign_status == 'finished';\n            })) {\n              _this.showResult();\n            }\n          }\n        })\n      })\n    },\n    showResult: function(){\n      let _this = this;\n      $.clearLoading();\n      let resultHtml = '';\n      let okNum = 0;\n      let notOkNum = 0;\n      _this.selected_account_arr.forEach(function(e){\n        if (0 == e.code) {\n          okNum += 1;\n        }else{\n          notOkNum += 1;\n          resultHtml += `\n          <tr style=\"color: #000000; font-size: 16px; line-height: 30px;\">\n            <td>`+ e.name +`</td>\n            <td class=\"`+ (e.code == 0 ? 'statusSuccess' : 'statusFailure') +`\">`+ (e.code == 0 ? '成功' : '失败') +`</td>\n            <td class=\"`+ (e.code == 0 ? 'statusSuccess' : 'statusFailure') +`\">`+ (0 == e.code ? '无' : e.msg) +`</td>\n          </tr>\n          `;\n        }\n\n        e.code = null;\n        e.msg = null;\n        e.sign_status = null;\n      });\n      if (notOkNum > 0) {\n        $.confirm({\n          title: '失败提示',\n          content: `\n            <div style=\"font-size: 16px; color: #2A2A2A;\">以下账户密码修改失败</div>\n            <table style=\"width: 100%;\">\n              <tbody>\n                <tr style=\"font-size: 14px; color: #A2A2A2; border-bottom: 1px solid #C5CAD1; line-height: 30px;\">\n                  <td>账户</td>\n                  <td>登录结果</td>\n                  <td>备注</td>\n                </tr>\n              </tbody>\n              <tbody>` + resultHtml + `</tbody>\n            </table>\n          `,\n          closeIcon: true,\n          confirmButton: '确定',\n          confirmButtonClass: 'vue-confirm__btns--submit',\n          cancelButton: false\n        })\n      }else{\n        $.omsAlert('保存成功')\n      }\n    }\n  },\n  watch: {\n    active: function(){\n      let _this = this;\n      let accountName = this.selected_account_arr.map(function(e){\n        return e.name;\n      }).join('、')\n      if (true == this.active) {\n        $.confirm({\n          title: '修改密码',\n          content: `\n            <div class=\"vue-confirm\">\n              <form class=\"vue-form\">\n                <div class=\"vue-form__field\" style=\"margin-bottom: 5px;\">\n                  <label class=\"vue-form__field--left\">账户</label>\n                  <span>`+ accountName +`</span>\n                </div>\n                <div class=\"vue-form__field\">\n                  <label class=\"vue-form__field--left\">交易密码<b>*</b></label>\n                  <input class=\"vue-form__field--input\" name=\"new_password\" placeholder=\"请输入正确密码\" />\n                </div>\n                <div class=\"vue-form__field\">\n                  <label class=\"vue-form__field--left\">通讯密码</label>\n                  <input class=\"vue-form__field--input\" name=\"tx_new_passwd\" placeholder=\"请设置通讯密码（若有，则必须提供）\" />\n                </div>\n              </form>\n\n            </div>\n          `,\n          // <div class=\"vue-confirm__btns\">\n          //   <a class=\"vue-confirm__btns--submit\">确定</a>\n          // </div>\n          closeIcon: true,\n          columnClass: 'custom-window-width',\n          confirmButton: '确定',\n          confirmButtonClass: 'vue-confirm__btns--submit',\n          confirm: function(){\n            let new_password = $('[name=\"new_password\"]').val();\n            let tx_new_passwd = $('[name=\"tx_new_passwd\"]').val();\n            _this.chgPassword(new_password, tx_new_passwd);\n            // return false;\n          },\n          cancelButton: false,\n          onClose: function(){\n            _this.active = false;\n          }\n        });\n      }\n\n    }\n  }\n})\n\n// 自定义登录组件（底层账户）\n// 依赖：jquery, jquery-confirm\nVue.component('vue-login-account', {\n  props: ['selected_account_arr'],\n  template: `\n    <a class=\"vue-btn\" v-on:click=\"doLogin()\">批量登录账户</a>\n  `,\n  data: function(){\n    return {\n\n    }\n  },\n  methods: {\n    doLogin: function(){\n      let _this = this;\n      if (this.selected_account_arr.length > 0) {\n        $.startLoading();\n        // TODO 登录接口\n        this.selected_account_arr.forEach(function(e){\n          e.msg = e.code = e.sign_status = '';\n          $.ajax({\n            url: '/bms-pub/system/sec_account_login',\n            type: 'post',\n            data: {\n              base_id: e.id,\n            },\n            success: function({msg, code, data}){\n              e.msg = msg;\n              e.code = code;\n              e.sign_status = 'finished';\n\n              if (_this.selected_account_arr.every(function(el){\n                return el.sign_status == 'finished';\n              })) {\n                _this.showResult();\n              }\n            },\n            error: function(){\n              e.msg = '网络异常，请重试';\n              e.code = -1;\n              e.sign_status = 'finished';\n\n              if (_this.selected_account_arr.every(function(el){\n                return el.sign_status == 'finished';\n              })) {\n                _this.showResult();\n              }\n            }\n          })\n        })\n      }else{\n        $.omsAlert('请选择账户');\n      }\n    },\n    showResult: function(){\n      let _this = this;\n      $.clearLoading();\n      let resultHtml = '';\n      let okNum = 0;\n      let notOkNum = 0;\n      _this.selected_account_arr.forEach(function(e){\n        if (0 == e.code) {\n          okNum += 1;\n          e.login_status = true;\n          e.login_msg = '';\n        }else{\n          notOkNum += 1;\n          resultHtml += `\n          <tr style=\"color: #000000; font-size: 16px; line-height: 30px;\">\n            <td>`+ e.name +`</td>\n            <td class=\"`+ (e.code == 0 ? 'statusSuccess' : 'statusFailure') +`\">`+ (e.code == 0 ? '成功' : '失败') +`</td>\n            <td class=\"`+ (e.code == 0 ? 'statusSuccess' : 'statusFailure') +`\">`+ (0 == e.code ? '无' : e.msg) +`</td>\n          </tr>\n          `;\n        }\n\n        e.code = null;\n        e.msg = null;\n        e.sign_status = null;\n      });\n      if (notOkNum > 0) {\n        $.confirm({\n          title: '失败提示',\n          content: `\n            <div style=\"font-size: 16px; color: #2A2A2A;\">以下账户登录失败</div>\n            <table style=\"width: 100%;\">\n              <tbody>\n                <tr style=\"font-size: 14px; color: #A2A2A2; border-bottom: 1px solid #C5CAD1; line-height: 30px;\">\n                  <td>账户</td>\n                  <td>登录结果</td>\n                  <td>备注</td>\n                </tr>\n              </tbody>\n              <tbody>` + resultHtml + `</tbody>\n            </table>\n          `,\n          closeIcon: true,\n          confirmButton: '确定',\n          confirmButtonClass: 'vue-confirm__btns--submit',\n          cancelButton: false\n        })\n      }else{\n        $.omsAlert('账户登录成功')\n      }\n    }\n  }\n})\n\n// 自定单个登陆组件\nVue.component('vue-single-login-account', {\n  props: ['login_status', 'selected_account_arr'],\n  template: `\n    <a v-on:click=\"doLogin()\" class=\"custom-table__btn\" v-text=\"getText(login_status)\">登录</a>\n  `,\n  data: function(){\n    return {\n\n    }\n  },\n  methods: {\n    getText: function(status){\n      if (status == '1') {\n        return '退出'\n      }else{\n        return '登录'\n      }\n    },\n    doLogin: function(){\n      let _this = this;\n      if (1 == this.login_status) {\n        $.confirm({\n          title: '退出确认',\n          content: `\n            <div class=\"vue-confirm\">\n              <div style=\"font-size: 14px; text-align: center; color: #000000; padding: 60px 0;\">退出将无法对该账户下委托及读取数据，确定退出？</div>\n            </div>\n          `,\n          closeIcon: true,\n          columnClass: 'custom-window-width',\n          confirmButton: '确定',\n          confirmButtonClass: 'vue-confirm__btns--cancel',\n          confirm: function(){\n            $.startLoading();\n            _this.selected_account_arr.forEach(function(e) {\n              $.ajax({\n                url: '/bms-pub/system/sec_account_loginout',\n                type: 'post',\n                data: {\n                  base_id: e.id,\n                },\n                success: function({msg, code, data}){\n                  if (0 == code) {\n                    if (\"[object Function]\" == Object.prototype.toString.call(_this.$root.getSystemList)) {\n                      _this.$root.getSystemList(true);\n                    }\n                    $.clearLoading();\n                    $.omsAlert('登出成功');\n                  } else {\n                    $.clearLoading();\n                    $.omsAlert(msg);\n                  }\n                },\n                error: function(){\n                  $.clearLoading();\n                  $.omsAlert('网络异常，请重试');\n                }\n              })\n            })\n          },\n          cancelButton: false\n        })\n        return;\n      }\n      if (this.selected_account_arr.length > 0) {\n        $.startLoading();\n        this.selected_account_arr.forEach(function(e){\n          e.msg = e.code = e.sign_status = '';  //点击登录的时候，sign_status改变是因为通过for循环改变sign_status从而知道是否循环结束,主要是为了批量登录\n          $.ajax({\n            url: '/bms-pub/system/sec_account_login',\n            type: 'post',\n            data: {\n              base_id: e.id,\n            },\n            success: function({msg, code, data}){\n              e.msg = msg;\n              e.code = code;\n              e.sign_status = 'finished';\n\n              if (_this.selected_account_arr.every(function(el){  //循环判断是否sign_status的状态为‘finished’，当循环到最后一个的时候，继续执行下面的操作\n                return el.sign_status == 'finished';\n              })) {\n                _this.showResult();\n              }\n            },\n            error: function(){\n              e.msg = '网络异常，请重试';\n              e.code = -1;\n              e.sign_status = 'finished';\n\n              if (_this.selected_account_arr.every(function(el){\n                return el.sign_status == 'finished';\n              })) {\n                _this.showResult();\n              }\n            }\n          })\n        })\n      }else{\n        $.omsAlert('请选择账户');\n      }\n    },\n    showResult: function(){\n      let _this = this;\n      $.clearLoading();\n      let resultHtml = '';\n      let okNum = 0;\n      let notOkNum = 0;\n      _this.selected_account_arr.forEach(function(e){\n        if (0 == e.code) {\n          okNum += 1;\n          e.login_status = true;\n          e.login_msg = '';\n        }else{\n          notOkNum += 1;\n          resultHtml += `\n          <tr style=\"color: #000000; font-size: 16px; line-height: 30px;\">\n            <td>`+ e.name +`</td>\n            <td class=\"`+ (e.code == 0 ? 'statusSuccess' : 'statusFailure') +`\">`+ (e.code == 0 ? '成功' : '失败') +`</td>\n            <td class=\"`+ (e.code == 0 ? 'statusSuccess' : 'statusFailure') +`\">`+ (0 == e.code ? '无' : e.msg) +`</td>\n          </tr>\n          `;\n        }\n\n        e.code = null;\n        e.msg = null;\n        e.sign_status = null;\n      });\n      if (notOkNum > 0) {\n        $.confirm({\n          title: '失败提示',\n          content: `\n            <div style=\"font-size: 16px; color: #2A2A2A;\">以下账户登录失败</div>\n            <table style=\"width: 100%;\">\n              <tbody>\n                <tr style=\"font-size: 14px; color: #A2A2A2; border-bottom: 1px solid #C5CAD1; line-height: 30px;\">\n                  <td>账户</td>\n                  <td>登录结果</td>\n                  <td>备注</td>\n                </tr>\n              </tbody>\n              <tbody>` + resultHtml + `</tbody>\n            </table>\n          `,\n          closeIcon: true,\n          confirmButton: '确定',\n          confirmButtonClass: 'vue-confirm__btns--submit',\n          cancelButton: false\n        });\n      }else{\n        $.omsAlert('账户登录成功');\n      }\n      if (\"[object Function]\" == Object.prototype.toString.call(_this.$root.getSystemList)) {\n        _this.$root.getSystemList(true);\n      }\n    }\n  }\n})\n\n//自动登录状态\nVue.component('vue-base-account-auto-sign', {\n  props: ['auto_login', 'selected_account_arr'],\n  template: `\n    <a style=\"margin-left:20px;\" v-on:click=\"doChgAutoLogin(auto_login)\" class=\"custom-table__btn\" v-text=\"getText(auto_login)\"></a>\n  `,\n  data: function(){\n    return {\n\n    }\n  },\n  methods: {\n    getText: function(auto_login){\n      if (1 == auto_login) {\n        return '禁用'\n      }else{\n        return '启用'\n      }\n    },\n    doChgAutoLogin: function(auto_login){\n      let _this = this;\n      if (this.selected_account_arr.length > 0) {\n        $.startLoading();\n        this.selected_account_arr.forEach(function(e){\n          $.ajax({\n            url: '/bms-pub/product/set_auto_login',\n            type: 'post',\n            data: {\n              base_id: e.id,\n              auto_login: (true == auto_login) ? 0 : 1 //取反\n            },\n            success: function({msg, code, data}){\n              $.omsAlert('保存成功');\n              $.clearLoading();\n              if (\"[object Function]\" == Object.prototype.toString.call(_this.$root.getSystemList)) {\n                _this.$root.getSystemList(true);\n              }\n            },\n            error: function(){\n              $.omsAlert('网络异常，请重试');\n              $.clearLoading();\n            }\n          });\n        })\n      }\n    }\n  }\n})\n\nVue.component('vue-base-account', {\n  props: ['base_status', 'selected_account_arr'],\n  template: `\n    <a style=\"margin-left:20px;\" v-on:click=\"doChgStatus(base_status)\" class=\"custom-table__btn\" v-text=\"getText(base_status)\"></a>\n  `,\n  data: function(){\n    return {\n\n    }\n  },\n  methods: {\n    getText: function(status){\n      if (status == 1) {\n        return '禁用'\n      }else{\n        return '启用'\n      }\n    },\n    doChgStatus: function(status){\n      let _this = this;\n      if (this.selected_account_arr.length > 0) {\n        $.startLoading();\n        this.selected_account_arr.forEach(function(e){\n          $.ajax({\n            url: '/bms-pub/product/update_base_status',\n            type: 'post',\n            data: {\n              base_id: e.id,\n              status: (status == true) ? 0 : 1 //取反\n            },\n            success: function({msg, code, data}){\n              if (\"[object Function]\" == Object.prototype.toString.call(_this.$root.getSystemList)) {\n                _this.$root.getSystemList(true);\n              }\n              $.clearLoading();\n              $.omsAlert('保存成功');\n            },\n            error: function(){\n              $.clearLoading();\n              $.omsAlert('网络异常，请重试');\n            }\n          });\n        })\n      }\n    }\n  }\n})\n\n// 自定义创建产品组\n// 依赖：jquery, jquery-confirm bms的config.js文件内的createManager()\nVue.component('vue-add-group', {\n  props: [],\n  template: `\n    <a class=\"vue-btn\" v-on:click=\"doCreate()\">创建基金</a>\n  `,\n  data: function(){\n    return {\n      manager_map: {}\n    }\n  },\n  mounted: function(){\n    this.getManagers();\n  },\n  methods: {\n    getManagers: function(callBack){\n      let _this = this;\n      $.ajax({\n        type: 'get',\n        url: '/bms-pub/user/org_info',\n        success: function({code, msg, data}){\n          if (0 == code) {\n            // max_user = data.max_user;\n            // user_num = data.user_num;\n            $.ajax({\n              type: 'get',\n              url: '/bms-pub/user/role_users',\n              success: function({code, msg, data}){\n                if (0 == code) {\n                  _this.manager_map = data;\n\n                  if (Object.prototype.toString.call(callBack) === '[object Function]') {\n                    callBack.apply(this, data);\n                  }\n                }else{\n                  $.omsAlert(msg);\n                }\n              },\n              error: function(){\n                $.omsAlert('网络异常，请重试')\n              }\n            });\n          }else{\n            $.omsAlert(msg)\n          }\n        },\n        error: function(){\n          $.failNotice();\n        }\n      });\n\n    },\n    submit_addGroup: function(confirm_window){\n      let _this = this;\n      let name = $('[name=\"name\"]').val();\n      let operator_uid = $('[name=\"operator_uid\"]').val();\n      $.ajax({\n        url: '/bms-pub/product/create_product_group',\n        type: 'post',\n        data: {\n          name: name,\n          operator_uid: operator_uid\n        },\n        success: function({code, msg, data}){\n          if (0 == code) {\n            $.omsAlert('保存成功');\n            // _this.$emit('create_success')\n            _this.$root.getAllData(true);\n\n            confirm_window.close();\n          }else{\n            $.omsAlert(msg)\n          }\n        },\n        error: function(){\n          $.omsAlert('网络异常，请重试')\n        }\n      })\n    },\n    doCreate: function(){\n      let _this = this;\n      let manager_html = '';\n      Object.keys(this.manager_map).forEach(function(e){\n        manager_html += '<option value=\"'+ e +'\">'+ _this.manager_map[e] +'</option>'\n      });\n      $.confirm({\n        title: '新建基金',\n        content: `\n          <div class=\"vue-confirm\">\n            <form class=\"vue-form\">\n              <div class=\"vue-form__field\" style=\"margin-bottom: 5px;\">\n                <label class=\"vue-form__field--left\">基金</label>\n                <input class=\"vue-form__field--input\" name=\"name\" placeholder=\"请输入名称\" />\n              </div>\n              <div class=\"vue-form__field\">\n                <label class=\"vue-form__field--left\">基金经理<b>*</b></label>\n                <select class=\"vue-form__field--select select_manager\" name=\"operator_uid\" placeholder=\"请输入券商名称\">`+ manager_html +`</select>\n              </div>\n\n              <div class=\"vue-form__field\">\n                <div class=\"vue-form__field--tip\">\n                  <label>没有找到需要的基金经理，<a class=\"vue-form__field--tip-btn do-create-manager\">点这里创建</a></label>\n                </div>\n              </div>\n            </form>\n          </div>\n        `,\n        closeIcon: true,\n        columnClass: 'custom-window-width',\n        confirmButton: '确定',\n        confirmButtonClass: 'vue-confirm__btns--submit',\n        confirm: function(){\n          let confirm_window = this;\n          _this.submit_addGroup(confirm_window);\n          return false;\n        },\n        cancelButton: false\n      });\n\n      $('.vue-confirm').off().on('click', '.do-create-manager', function(){\n        createManager(function(data){\n          _this.getManagers(function(){\n            let user_id = data.user_id;\n\n            let manager_html = '';\n            Object.keys(_this.manager_map).forEach(function(e){\n              manager_html += '<option value=\"'+ e +'\">'+ _this.manager_map[e] +'</option>'\n            });\n\n            $('.select_manager').empty().html(manager_html).val(user_id);\n          });\n        });\n      })\n    }\n  }\n})\n\n// 自定义关联产品组\n// 依赖：jquery, jquery-confirm\nVue.component('vue-bind-group', {\n  props: ['selected_top_group_arr', 'selected_top_base_arr', 'group_list', 'option_list'],\n  template: `\n    <a class=\"vue-btn\" v-on:click=\"doBind()\">关联基金</a>\n  `,\n  data: function(){\n    return {\n\n    }\n  },\n  methods: {\n    doBind: function(){\n      let _this = this;\n      if (this.selected_top_group_arr.length + this.selected_top_base_arr.length > 0) {\n        let group_html = '';\n        if (this.selected_top_group_arr.length == 0) {\n          //group_list包含的是顶层的，而option_list则包含的是所有\n          _this.option_list.forEach(function(e){\n            if ('group' == e.type) {\n              group_html += '<option value=\"'+ e.id +'\">'+ e.name +'</option>';\n            }\n          })\n        }else{\n          _this.group_list.forEach(function(e){\n            // 额外对option_list过滤，去除已选中的产品组\n            if ('group' == e.type && !_this.selected_top_group_arr.some(function(el){ return el == e.id })) {\n              group_html += '<option value=\"'+ e.id +'\">'+ e.name +'</option>';\n            }\n          })\n        }\n\n        $.confirm({\n          title: '关联基金',\n          content: `\n            <div class=\"vue-confirm\">\n              <form class=\"vue-form\">\n                <div class=\"vue-form__field\">\n                  <label class=\"vue-form__field--left\">关联到<b>*</b></label>\n                  <select class=\"vue-form__field--select select_group\" name=\"group_id\" placeholder=\"请选择关联到产品组\">`+ group_html +`</select>\n                </div>\n              </form>\n            </div>\n          `,\n          closeIcon: true,\n          columnClass: 'custom-window-width',\n          confirmButton: '确定',\n          confirmButtonClass: 'vue-confirm__btns--submit',\n          confirm: function(){\n            let confirm_window = this;\n            _this.submit_bind(confirm_window);\n            return false;\n          },\n          cancelButton: false\n        });\n      }else{\n        $.omsAlert('请选择交易单元或基金');\n      }\n    },\n    submit_bind: function(confirm_window){\n      let _this = this;\n      let group_id = this.selected_top_group_arr.sort(function(e){\n        return e.id\n      }).join(',');\n      let product_id = this.selected_top_base_arr.sort(function(e){\n        return e.id\n      }).join(',');\n      let target_group_id = $('.select_group').val();\n      $.ajax({\n        url: '/bms-pub/product/move_product_group',\n        type: 'post',\n        data: {\n          group_id: group_id,\n          product_id: product_id,\n          target_group_id: target_group_id\n        },\n        success: function({code, msg, data}){\n          if (0 == code) {\n            $.omsAlert('关联成功');\n            _this.$emit('do_refresh');\n            confirm_window.close();\n          }else{\n            $.omsAlert(msg);\n          }\n        },\n        error: function(){\n          $.failNotice();\n        }\n      })\n    }\n  }\n});\n\n// 自定义添加账户组件（底层账户）\n// 依赖：jquery, jquery-confirm\nVue.component('vue-add-account', {\n  props: [],\n  template: `\n    <a class=\"vue-btn\" v-on:click=\"doConfirm()\">添加账户</a>\n  `,\n  data: function(){\n    return {\n      securities_map_tdx: {},\n      securities_map_pb: {}\n    }\n  },\n  mounted: function(){\n    let _this = this;\n    $.ajax({\n      url: '/bms-pub/product/securities_map',\n      data: {\n        type: 'tdx'\n      },\n      success: function({code, msg, data}){\n        if (0 == code) {\n          _this.securities_map_tdx = data;\n        }\n      },\n      error: function(){\n        $.omsAlert('网络异常，请重试')\n      }\n    });\n    $.ajax({\n      url: '/bms-pub/product/securities_map',\n      data: {\n        type: 'pb'\n      },\n      success: function({code, msg, data}){\n        if (0 == code) {\n          _this.securities_map_pb = data;\n        }\n      },\n      error: function(){\n        $.omsAlert('网络异常，请重试')\n      }\n    });\n\n  },\n  methods: {\n    submit_add: function(confirm_window){\n      let _this = this;\n      let type = $('input[name=\"type\"]:checked').val();\n      let account = $('input[name=\"account\"]').val();\n      let security_id = $('.select_securities').val();\n      let com_password = $('[name=\"com_password\"]').val();\n      let fund_id = $('[name=\"fund_id\"]').val();\n      let tx_password = $('[name=\"tx_password\"]').val();\n      let unit_id = $('[name=\"unit_id\"]').val();\n      let sh_a_code = $('[name=\"sh_a_code\"]').val();\n      let sz_a_code = $('[name=\"sz_a_code\"]').val();\n      let seat_id_sh = $('[name=\"seat_id_sh\"]').val();\n      let seat_id_sz = $('[name=\"seat_id_sz\"]').val();\n\n      let data = {\n        type: type,\n        account: account,\n        security_id: security_id,\n        com_password: com_password\n      };\n      if ('pb' == type) {\n        // data.fund_password = fund_password;\n        data.fund_id = fund_id;\n        data.unit_id = unit_id;\n        data.sh_a_code = sh_a_code;\n        data.sz_a_code = sz_a_code;\n        data.seat_id_sh = seat_id_sh;\n        data.seat_id_sz = seat_id_sz;\n      }else{\n        data.tx_password = tx_password;\n        data.sh_a_code = sh_a_code;\n        data.sz_a_code = sz_a_code;\n      }\n\n      $.ajax({\n        url: '/bms-pub/product/add_base',\n        type: 'post',\n        data: data,\n        success: function({code, msg, data}){\n          if (0 == code) {\n            $.omsAlert('账户添加申请已提交，我们会尽快为您处理')\n            if (\"[object Function]\" == Object.prototype.toString.call(_this.$root.getSystemList)) {\n              _this.$root.getSystemList(true);\n            }\n            confirm_window.close();\n          }else{\n            $.omsAlert(msg)\n            // $.omsAlert('提交失败，请重试')\n          }\n        },\n        error: function(){\n          $.omsAlert('网络异常，请重试')\n        }\n      })\n    },\n    validateForm: function(confirm_window, passwordObj){\n      let _this = this;\n      let rules_obj = {};\n      let messages_obj = {};\n      let value = $('[name=\"type\"]:checked').val();\n\n      if ('tdx' == value) {\n        if (passwordObj.needpasswdForTdx) {  //资金账号判断\n          rules_obj = {\n            'security_id': {\n              required: true\n            },\n            'account': {\n              required: true\n            },\n            'com_password': {\n              required: true\n            },\n            'tx_password': {\n              // required: true\n            }\n          };\n          messages_obj = {\n            'security_id': {\n              required: '请输入券商名称'\n            },\n            'account': {\n              required: '请输入帐号'\n            },\n            'com_password': {\n              required: '请输入密码'\n            },\n            'tx_password': {\n              // required: ''\n            }\n          };\n        }else{\n          rules_obj = {\n            'security_id': {\n              required: true\n            },\n            'account': {\n              required: true\n            },\n            'com_password': {\n              // required: true\n            },\n            'tx_password': {\n              // required: true\n            },\n            'sh_a_code': {\n              required: true\n            },\n            'sz_a_code': {\n              required: true\n            }\n          };\n          messages_obj = {\n            'security_id': {\n              required: '请输入券商名称'\n            },\n            'account': {\n              required: '请输入帐号'\n            },\n            'com_password': {\n              // required: '请输入密码'\n            },\n            'tx_password': {\n              // required: ''\n            },\n            'sh_a_code': {\n              required: '请输入股东代码沪A'\n            },\n            'sz_a_code': {\n              required: '请输入股东代码深A'\n            }\n          };\n        }\n      }else{\n        if (passwordObj.needpasswdForPb) { //pb帐号判断\n          rules_obj = {\n            'security_id': {\n              required: true\n            },\n            'account': {\n              required: true\n            },\n            'com_password': {\n              required: true\n            },\n            'fund_id': {\n              required: true\n            }\n          };\n          messages_obj = {\n            'security_id': {\n              required: '请输入券商名称'\n            },\n            'account': {\n              required: '请输入帐号'\n            },\n            'com_password': {\n              required: '请输入密码'\n            },\n            'fund_id': {\n              required: '请输入产品编号'\n            }\n          };\n        }else{\n          rules_obj = {\n            'security_id': {\n              required: true\n            },\n            'account': {\n              required: true\n            },\n            'com_password': {\n              // required: true\n            },\n            'fund_id': {\n              required: true\n            },\n            'unit_id': {\n              required: true\n            },\n            'sh_a_code': {\n              required: true\n            },\n            'sz_a_code': {\n              required: true\n            },\n            'seat_id_sh':{\n              required: true\n            },\n            'seat_id_sz': {\n              required: true\n            }\n          };\n          messages_obj = {\n            'security_id': {\n              required: '请输入券商名称'\n            },\n            'account': {\n              required: '请输入帐号'\n            },\n            'com_password': {\n              required: '请输入密码'\n            },\n            'fund_id': {\n              required: '请输入产品编号'\n            },\n            'unit_id': {\n              required: '请输入单元编号'\n            },\n            'sh_a_code': {\n              required: '请输入股东代码沪A'\n            },\n            'sz_a_code': {\n              required: '请输入股东代码深A'\n            },\n            'seat_id_sh':{\n              required: '请输入交易席位沪A'\n            },\n            'seat_id_sz': {\n              required: '请输入交易席位深A'\n            }\n          };\n        }\n      }\n\n      $(\"#add-account\").validate().resetForm();\n      $(\"#add-account\").validate().destroy();\n      $('#add-account').validate({\n        'errorClass': 'confirm-tips',\n        'rules': rules_obj,\n        'messages': messages_obj,\n        errorPlacement: function(error, element){\n          error.appendTo(element.parents(\".vue-form__field\"));\n        },\n        submitHandler: function(){\n          _this.submit_add(confirm_window);\n        }\n      })\n    },\n    doConfirm: function(){\n      let _this = this;\n      let pb_options = [];\n      let tdx_options = [];\n      let pb_html = '';\n      let tdx_html = '';\n\n      // 初始化的时候，在样式中隐藏资金账号下的选项。等到用户切换的时候再显示。\n      let needpasswdForPb = true;\n      let needpasswdForTdx = true;\n\n      Object.keys(this.securities_map_pb).forEach(function(e){\n        pb_options.push({\n          label: _this.securities_map_pb[e],\n          value: e\n        });\n\n        pb_html += '<option value=\"'+ e +'\">'+ _this.securities_map_pb[e] +'</option>';\n      });\n      Object.keys(this.securities_map_tdx).forEach(function(e){\n        tdx_options.push({\n          label: _this.securities_map_tdx[e],\n          value: e\n        });\n\n        tdx_html += '<option value=\"'+ e +'\">'+ _this.securities_map_tdx[e] +'</option>';\n      });\n\n      $.confirm({\n        title: '添加账户',\n        content: `\n          <div class=\"vue-confirm\">\n            <form class=\"vue-form\" id=\"add-account\">\n              <div class=\"vue-form__field\" style=\"margin-bottom: 5px;\">\n                <label class=\"vue-form__field--left\">账号类型</label>\n                <label style=\"padding-right: 10px;\"><input type=\"radio\" checked=\"checked\" style=\"margin-right: 7px;\" value=\"pb\" name=\"type\">PB账号</label>\n                <label style=\"padding-right: 10px;\"><input type=\"radio\" style=\"margin-right: 7px;\" value=\"tdx\" name=\"type\">资金账号</label>\n              </div>\n              <div class=\"vue-form__field\">\n                <label class=\"vue-form__field--left\">券商名称<b>*</b></label>\n                <select class=\"vue-form__field--select select_securities\" name=\"security_id\" placeholder=\"请输入券商名称\">`+ pb_html +`</select>\n              </div>\n              <div class=\"vue-form__field\">\n                <label class=\"vue-form__field--left\">帐号<b>*</b></label>\n                <input class=\"vue-form__field--input\" name=\"account\" placeholder=\"请输入帐号\" />\n              </div>\n              <div class=\"vue-form__field\">\n                <label class=\"vue-form__field--left\">密码<b>*</b></label>\n                <input class=\"vue-form__field--input\" name=\"com_password\" placeholder=\"请输入密码\" />\n              </div>\n              <div class=\"vue-form__field\">\n                <div class=\"vue-form__field--tip\">\n                  <label style=\"margin-left: 105px;\">无法提供密码，<a class=\"vue-form__field--tip-btn do-noneed-password\">请点击这里</a></label>\n                </div>\n              </div>\n              <div class=\"vue-form__field display-pb\">\n                <label class=\"vue-form__field--left\">产品编号<b>*</b></label>\n                <input class=\"vue-form__field--input\" name=\"fund_id\" placeholder=\"请输入产品编号\" />\n              </div>\n              <div class=\"vue-form__field display-tdx\" style=\"display: none;\">\n                <label class=\"vue-form__field--left\">通讯密码</label>\n                <input class=\"vue-form__field--input\" name=\"tx_password\" placeholder=\"若有，则必须提供\" />\n              </div>\n              <div class=\"vue-form__field display-nopasswd\" style=\"display: none;\">\n                <div class=\"vue-form__field--tip\" style=\"text-align: center;\">\n                  <label style=\"margin-left: 0;margin-top: 55px;\">--若无法提供密码，请提供以下内容--</label>\n                </div>\n              </div>\n              <div class=\"vue-form__field display-nopasswd-pb\" style=\"display: none;\">\n                <label class=\"vue-form__field--left\">单元编号<b>*</b></label>\n                <input class=\"vue-form__field--input\" name=\"unit_id\" placeholder=\"请输入单元编号\" />\n              </div>\n              <div class=\"vue-form__field display-nopasswd\" style=\"display: none;\">\n                <label class=\"vue-form__field--left\">股东代码沪A<b>*</b></label>\n                <input class=\"vue-form__field--input\" name=\"sh_a_code\" placeholder=\"请输入股东代码沪A\" />\n              </div>\n              <div class=\"vue-form__field display-nopasswd\" style=\"display: none;\">\n                <label class=\"vue-form__field--left\">股东代码深A<b>*</b></label>\n                <input class=\"vue-form__field--input\" name=\"sz_a_code\" placeholder=\"请输入股东代码深A\" />\n              </div>\n              <div class=\"vue-form__field display-nopasswd-pb\" style=\"display: none;\">\n                <label class=\"vue-form__field--left\">交易席位沪A<b>*</b></label>\n                <input class=\"vue-form__field--input\" name=\"seat_id_sh\" placeholder=\"请输入交易席位沪A\" />\n              </div>\n              <div class=\"vue-form__field display-nopasswd-pb\" style=\"display: none;\">\n                <label class=\"vue-form__field--left\">交易席位深A<b>*</b></label>\n                <input class=\"vue-form__field--input\" name=\"seat_id_sz\" placeholder=\"请输入交易席位深A\" />\n              </div>\n            </form>\n          </div>\n        `,\n        closeIcon: true,\n        columnClass: 'custom-window-width',\n        confirmButton: '确定',\n        confirmButtonClass: 'vue-confirm__btns--submit',\n        confirm: function(){\n          let confirm_window = this;\n          _this.validateForm(confirm_window,{\n            needpasswdForPb: needpasswdForPb,\n            needpasswdForTdx: needpasswdForTdx\n          });\n          // _this.submit_add(confirm_window);\n          $('#add-account').submit();\n          return false;\n        },\n        cancelButton: false\n      })\n\n      let selectCapitalAccount = function(){\n        $('.display-tdx').show();\n        $('.display-pb').hide();\n        $('.select_securities').empty().html(tdx_html);\n        if (needpasswdForTdx == true) {\n          $('.display-nopasswd').hide();\n          $('.display-nopasswd-pb').hide();\n        }else{\n          $('.display-nopasswd').show();\n          $('.display-nopasswd-pb').hide();\n        }\n      };\n      let selectPbAccount = function(){\n        $('.display-tdx').hide();\n        $('.display-pb').show();\n        $('.select_securities').empty().html(pb_html);\n        if (needpasswdForPb == true) {\n          $('.display-nopasswd').hide();\n          $('.display-nopasswd-pb').hide();\n        }else{\n          $('.display-nopasswd').show();\n          $('.display-nopasswd-pb').show();\n        }\n      }\n      let noNeedPassword = function(){\n\n        let value = $('[name=\"type\"]:checked').val();\n        if ('tdx' == value) {\n          needpasswdForTdx = false;\n          selectCapitalAccount();\n        }else{\n          needpasswdForPb = false;\n          selectPbAccount();\n        }\n      }\n      $('.vue-confirm').off().on('change', '[name=\"type\"]', function(){\n        let value = $(this).val();\n        $(\"#add-account\").validate().resetForm();\n        if ('tdx' == value) {\n          selectCapitalAccount();\n        }else{\n          selectPbAccount();\n        }\n      }).on('click', '.do-noneed-password', function(){\n        noNeedPassword();\n      })\n    }\n  }\n})\n\nVue.component('vue-account-log', {\n  props: [],\n  template: `\n    <a class=\"vue-btn\" v-on:click=\"lookLog()\">日志查看</a>\n  `,\n  methods: {\n    lookLog: function(){\n      // let _this = this;\n      // let logData = [];\n      // let html = '';\n      // $.ajax({\n      //   url: '/bms-pub/system/sec_login_logs',\n      //   type: 'GET',\n      //   success: ({code,msg,data}) => {\n      //     if (0 == code) {\n      //       logData = data;\n      //       if (data.length > 0) {\n      //         data.forEach((e) => {\n      //           html += '<p class=\"vue-log-confirm__log__desc\">'+e.desc+'</p>';\n      //         })\n      //       } else {\n      //         html = '<p class=\"vue-log-confirm__log__desc\">数据为空</p>';\n      //       }\n      //       $(\".vue-log-confirm__log\").html(html);\n      //     }\n      //   }\n      // })\n      // $.confirm({\n      //   title: '日志查看',\n      //   content: `\n      //     <div class=\"vue-log-confirm__log\">\n      //       `+html+`\n      //     </div>\n      //   `,\n      //   closeIcon: true,\n      //   columnClass: 'custom-window-width',\n      //   confirmButton: '',\n      //   confirmButtonClass: 'vue-confirm__btns--submit',\n      //   cancelButton: false\n      // })\n        let contentChild = Vue.extend({\n        data(){\n          return {\n            type:1,\n            logUserData:[],\n            logOperatorData:[],\n            logManagerData:[],\n            showData:[]\n          }\n        },\n        template:`\n          <div style=\"position: relative\">\n            <select name=\"\" id=\"\" style=\"position: absolute;left:110px;top:-35px;\" v-model=\"type\">\n              <option value=\"1\">账户登录日志</option>\n              <option value=\"2\">操作员日志</option>\n              <option value=\"3\">管理员操作日志</option>\n            </select>\n            <div class=\"vue-log-confirm__log\" style=\"width:650px\">\n\n                <p class=\"vue-log-confirm__log__desc\" v-for=\"text in showData\">\n                  {{text.desc}}\n                </p>\n\n            </div>\n          </div>\n        `,\n        watch:{\n          type(val){\n            if(val==1){\n              this.showData = this.logUserData;\n            }\n            if(val==2){\n              this.showData = this.logOperatorData;\n            }\n            if(val==3){\n              this.showData = this.logManagerData;\n            }\n\n          }\n        },\n        mounted(){\n          let _this = this;\n          $.ajax({\n            url: '/bms-pub/system/sec_login_logs?type=1',\n            type: 'GET',\n            success: ({code,msg,data}) => {\n              if (0 == code) {\n                _this.logUserData = data;\n                _this.showData = data;\n              }\n            }\n          })\n          $.ajax({\n            url: '/bms-pub/system/sec_login_logs?type=2',\n            type: 'GET',\n            success: ({code,msg,data}) => {\n              if (0 == code) {\n                _this.logOperatorData = data;\n              }\n            }\n          })\n          $.ajax({\n            url: '/bms-pub/system/sec_login_logs?type=3',\n            type: 'GET',\n            success: ({code,msg,data}) => {\n              if (0 == code) {\n                _this.logManagerData = data;\n              }\n            }\n          })\n\n        }\n      });\n\n      this.$confirm({\n          title: '日志查看',\n          content:contentChild,\n          closeIcon: true,\n      });\n\n    }\n  }\n})\n// 自定义内容修改组件\nVue.component('vue-custom-modify', {\n  mixins: [numberMixin],\n  props: ['id', 'value', 'ajax_url', 'ajax_data', 'digital_num'],\n  template: `\n    <div class=\"custom-modify\">\n      <div class=\"custom-modify__content\" v-show=\"status === 'status_display'\">\n        <span class=\"custom-modify__content--display-value\" :title=\"numeralNumber(value, digital_num || 0)\">{{numeralNumber(value, digital_num || 0)}}</span>\n        <a class=\"custom-modify__content--btn-modify\" v-on:click=\"chgStatus('status_edit')\"></a>\n      </div>\n      <div class=\"custom-modify__content\" v-show=\"status === 'status_edit'\" >\n        <input class=\"custom-modify__content--modify-value\" v-model=\"modify_value\" v-on:blur=\"onBlur()\" v-focus=\"status == 'status_edit'\" />\n        <a class=\"custom-modify__content--btn-save\" v-on:mousedown=\"saveData()\">保存</a>\n      </div>\n    </div>\n  `,\n  watch:{\n   \n  },\n  data: function(){\n    return {\n      // 组件状态，区分显示或者修改\n      status: 'status_display',\n      // 修改值，为了支持用户取消修改而存在，进入修改状态时从value复制过去，其余时候根据用户修改而改变\n      modify_value: ''\n    }\n  },\n  directives: {\n    focus: {\n        update: function (el, {value}) {\n            if (value) {\n                el.focus();\n            }\n        }\n    }\n  },\n  methods: {\n    chgStatus: function(status){\n      let _this = this;\n      if ('status_edit' == status) {\n        // this.modify_value = this.value;\n        if (2 == this.digital_num) {\n          this.modify_value = numeral(this.value).format('0.00');\n        }else{\n          this.modify_value = numeral(this.value).format('0');\n        }\n\n        this.$nextTick(function(){\n          $(_this.$el).find('input.custom-modify__content--modify-value').focus();\n        })\n      }\n      this.status = status;\n    },\n    onBlur: function(){\n      this.status = 'status_display';\n    },\n    saveData: function(){\n      let _this = this;\n      let ajax_data = this.ajax_data;\n      ajax_data[this.id] = this.modify_value\n      $.ajax({\n        url: this.ajax_url,\n        data: ajax_data,\n        type: 'post',\n        success: ({code, msg, data})=>{\n          if (0 == code) {\n            $.omsAlert('保存成功')\n            this.status = 'status_display';\n            this.$emit('modify_value', this.modify_value);\n\n            if (\"[object Function]\" == Object.prototype.toString.call(this.$root.customRefreshAfterModified)) {\n              this.$root.customRefreshAfterModified(true);\n            }\n          }else{\n            $.omsAlert(msg)\n          }\n        },\n        error: function(){\n          $.omsAlert('网络异常，请重试')\n        }\n      })\n    }\n  }\n});\n\n// td子元素 修改数字，确定+取消(基于<vue-remark-modify>)\nVue.component('vue-modify-number',{\n  props:['label','id', 'value_down','ajax_url', 'ajax_data','ajax_type','tip','status'],\n  template:`\n    <div class=\"modify-number\">\n      <div class=\"modify-number_content\">\n        <p class=\"modify-number_content_label\" :title=\"label\">{{label}}</p>\n        <div class=\"modify-number_content_value\">\n        <template v-if=\"value_down == '' || value_down == 'undefined'\">\n        - -\n        </template>\n        <template v-else>\n        {{value_down}}\n        </template>\n          <a  v-if=\"status != 6\" class=\"modify-remark__content__icon\" @click=\"showChangePanel()\"></a>\n        </div>\n      </div>\n      <div class=\"modify-number_showbox\" v-show=\"isShowChangePanel\">\n        <input class=\"modify-number_input\" v-model.number=\"value\" type=\"number\" @keyup=\"limit_number\">\n        <span class=\"modify-number_mockplaceholder\" v-show=\" value === '' \">{{tip}}</span>\n        <a class=\"modify-number_save\" @click=\"save()\" >确定</a>\n    \t  <a class=\"modify-number_cancel\" @click=\"cancel()\" >取消</a>\n      </div>\n    </div>\n  `,\n  data:function(){\n    return {\n      value:\"\",\n      isShowChangePanel:false\n    }\n  },\n  methods:{\n    limit_number($event){\n\n      if(this.label == \"份额\"){\n        let str =  $event.target.value;\n        if(/^\\d+\\.\\d{5}/.test(str)){\n          this.value = str.slice(0,str.length-1);\n        }\n      }\n\n      if(this.label == \"初始资金\"){\n        let str =  $event.target.value;\n        if(/^\\d+\\.\\d{3}/.test(str)){\n          this.value = str.slice(0,str.length-1);\n        }\n      }\n\n    },\n    showChangePanel:function(){\n      this.isShowChangePanel = true;\n      this.value = this.value_down.replace(/,/g,'');\n      this.$root.isdrag = false;//开启拓展\n    },\n    save:function(){\n      if(!this.value){\n        $.omsAlert(this.tip);\n        return;\n      }\n      let _this = this;\n      let reg = /(^\\d+\\.?\\d{1,4}$)||(^\\d$)/;;\n      if(!reg.test(this.value)){\n        $.omsAlert('输入的格式错误');\n        return;\n      }\n      let ajax_data = this.ajax_data;\n      let ajax_type = this.ajax_type;\n      ajax_data[this.id] = ('' == this.value)?0:this.value;\n      $.ajax({\n        url: this.ajax_url,\n        data: ajax_data,\n        type: ajax_type,\n        success: function({code, msg, data}){\n          if (0 == code) {\n            $.omsAlert('保存成功')\n            _this.isShowChangePanel = false;\n            _this.value =\"\";\n            _this.$emit('modify_value', _this.showstatus);\n            if (\"[object Function]\" == Object.prototype.toString.call(_this.$root.customRefreshAfterModified)) {\n              _this.$root.customRefreshAfterModified(true);\n            }\n          }else{\n            $.omsAlert(msg)\n          }\n        },\n        error: function(){\n          $.omsAlert('网络异常，请重试')\n        }\n      }).always(()=>{\n        _this.$root.isdrag = true;//开启拓展\n      })\n    },\n    cancel:function(){\n      this.isShowChangePanel = false;\n      this.value =\"\";\n      this.$root.isdrag = true;//开启拓展\n    }\n  },\n})\n\n//vue-modify-product-number\n// 产品列表中数字修改\nVue.component('vue-modify-product-number',{\n  props:['label','id', 'value_down','ajax_url', 'ajax_data','ajax_type','tip','status'],\n  template:`\n    <div class=\"modify-number\">\n      <div class=\"modify-number_content\">\n        <div class=\"modify-number_content_value\">\n        <template v-if=\"value_down == '' || value_down == 'undefined'\">\n        - -\n        </template>\n        <template v-else>\n        {{value_down}}\n        </template>\n          <a v-if=\"status != 6\" class=\"modify-remark__content__icon\" @click=\"showChangePanel()\"></a>\n        </div>\n      </div>\n      <div class=\"modify-number_showbox\" v-show=\"isShowChangePanel\">\n        <input class=\"modify-number_input\" v-model=\"value\" type=\"text\" @keydown=\"limit_number($event);\">\n        <span class=\"modify-number_mockplaceholder\" v-show=\" value === '' \">{{tip}}</span>\n        <a class=\"modify-number_save\" @click=\"save()\" >确定</a>\n        <a class=\"modify-number_cancel\" @click=\"cancel()\" >取消</a>\n      </div>\n    </div>\n  `,\n  data:function(){\n    return {\n      value:\"\",\n      isShowChangePanel:false\n    }\n  },\n  methods:{\n    limit_number(e){\n\n      let reg;\n\n      switch (this.label) {\n        case \"份额\":\n          reg = /^\\d+\\.?\\d{0,4}$/;\n          break;\n        case \"初始资金\":\n          reg = /^\\d+\\.?\\d{0,3}$/;\n          break;\n        case \"银行存款\":\n          reg = /^\\d+\\.?\\d{0,2}$/;\n          break;\n        default:\n          reg = /^\\d+\\.?\\d{0,4}$/;\n          break;\n      }\n\n      if (8 == e.keyCode) {\n        return;\n      }\n\n      if (/\\S/.test(e.key)) {\n        if (reg.test(this.value + e.key)) {\n          return true;\n        } else {\n          e.preventDefault();\n          return false;\n        }\n      }\n\n      // if(this.label == \"份额\"){\n      //   let str =  $event.target.value;\n      //   if(/^\\d+\\.\\d{5}/.test(str)){\n      //     this.value = str.slice(0,str.length-1);\n      //   }\n      // }\n\n      // if(this.label == \"初始资金\"){\n      //   let str =  $event.target.value;\n      //   if(/^\\d+\\.\\d{3}/.test(str)){\n      //     this.value = str.slice(0,str.length-1);\n      //   }\n      // }\n\n      // if(this.label == \"银行存款\"){\n      //   let str =  $event.target.value;\n      //   if(/^\\d+\\.\\d{2}/.test(str)){\n      //     this.value = str.slice(0,str.length-1);\n      //   }\n      // }\n    },\n    showChangePanel:function(){\n      this.isShowChangePanel = true;\n      this.value = this.value_down.replace(/,/g,'');\n      this.$root.isdrag = false;//禁止拖拽\n    },\n    save:function(){\n      if(!this.value){\n        $.omsAlert(this.tip);\n        return;\n      }\n      let _this = this;\n      let reg = /(^\\d+\\.?\\d{1,4}$)||(^\\d$)/;\n      if(!reg.test(this.value)){\n        $.omsAlert('输入的格式错误');\n        return;\n      }\n      let ajax_data = this.ajax_data;\n      let ajax_type = this.ajax_type;\n      ajax_data[this.id] = ('' == this.value)?0:this.value;\n      $.ajax({\n        url: this.ajax_url,\n        data: ajax_data,\n        type: ajax_type,\n        success: function({code, msg, data}){\n          if (0 == code) {\n            $.omsAlert('保存成功')\n            _this.isShowChangePanel = false;\n            _this.$emit('modify_value', _this.value);\n            _this.value =\"\";\n            if (\"[object Function]\" == Object.prototype.toString.call(_this.$root.customRefreshAfterModified)) {\n              _this.$root.customRefreshAfterModified(true);\n            }\n          }else{\n            $.omsAlert(msg)\n          }\n        },\n        error: function(){\n          $.omsAlert('网络异常，请重试')\n        }\n      }).always(()=>{\n        _this.$root.isdrag = true;//开启拖拽\n      })\n    },\n    cancel:function(){\n      this.isShowChangePanel = false;\n      this.value =\"\";\n      this.$root.isdrag = true;//开启拖拽\n    }\n  },\n})\n// td子元素 修改文字，确定+取消\nVue.component('vue-modify-text',{\n  props:[\"row\"],\n  template:`\n    <div class=\"modify-number\">\n      <div class=\"modify-number_content\">\n        <p class=\"modify-number_content_label\">基金经理</p>\n        <div class=\"modify-number_content_value\">\n          {{row.operator}}\n          <a v-if=\"status\" class=\"modify-remark__content__icon\" @click=\"showChangePanel()\"></a>\n        </div>\n      </div>\n      <div class=\"modify-number_showbox\" v-show=\"isShowChangePanel\">\n        <select class=\"select-tools\" multiple placeholder=\"请输入基金经理\"></select>\n        <a class=\"modify-number_save\" @click=\"save()\" >确定</a>\n        <a class=\"modify-number_cancel\" @click=\"cancel()\" >取消</a>\n      </div>\n    </div>\n  `,\n  data:function(){\n    return {\n      value:\"\",\n      isShowChangePanel:false,\n      options:[],\n      select:'',\n      name:''\n    }\n  },\n  methods:{\n    showChangePanel:function(){\n      this.isShowChangePanel = true;\n      this.select[0].selectize.setValue([this.row.operator_uid]);\n      this.$root.isdrag = false;//禁止拖拽\n    },\n    save:function(){\n      let _this = this;\n      let value = this.select[0].selectize.getValue()[0];\n      // let reg = /^\\d+$/;\n      if(!value){\n        $.omsAlert('请选择基金经理');\n        return;\n      }\n      let name = $(_this.$el).find('.item').text();\n      if(name.indexOf('已注销')!=-1){\n        $.omsAlert('该基金经理已注销，请重新选择');\n        return;\n      }\n      let ajax_data = {\n        group_id:this.row.id,\n        operator_uid:value,\n\n      }\n      let ajax_type = 'post';\n      $.ajax({\n        url: '/bms-pub/product/modify_product_managers',\n        data: ajax_data,\n        type: ajax_type,\n        success: function({code, msg, data}){\n          if (0 == code) {\n            $.omsAlert('保存成功')\n            _this.isShowChangePanel = false\n            _this.value =\"\";\n            _this.row.operator_uid = value,\n            _this.name = $(_this.$el).find('.item').text();\n            _this.modify_name(_this.row);\n          }else{\n            $.omsAlert(msg)\n          }\n        },\n        error: function(){\n          $.omsAlert('网络异常，请重试')\n        }\n      }).always(()=>{\n        _this.$root.isdrag = true;//开启拖拽\n      })\n    },\n    cancel:function(){\n      this.isShowChangePanel = false;\n      this.value =\"\";\n      this.$root.isdrag = true;//开启拖拽\n    },\n    select_init(){\n      let options = this.options;\n      options.forEach(function(e){\n        if(e.status == 1){\n          e.showTest = e.real_name;\n\n        }else if(e.status ==2){\n          e.showTest = e.real_name+'(已注销)';\n        }\n      })\n      let self = this;\n      this.select = $(this.$el).find('.select-tools').selectize({\n        maxItems: 1,\n        valueField: 'user_id',\n        labelField: 'showTest',\n        searchField: 'real_name',\n        options: options,\n        create: false,\n        onType(str) {\n          this.$dropdown_content.find('.option[data-value='+self.row.operator_uid+']').hide();//隐藏当前产品经理\n          if(this.$dropdown_content.find('.option').length==0){\n            this.$dropdown_content.html('<div class=\"option\" data-selectable=\"\" >没有匹配的基金经理</div>');\n            this.$dropdown.show();\n          }\n        },\n      });\n      this.select[0].selectize.setValue([this.row.operator_uid]);\n      this.select[0].selectize.$dropdown_content.find('.option[data-value='+this.row.operator_uid+']').hide();//隐藏当前产品经理\n    },\n    modify_name(row){\n      row.operator  = this.name;\n      if(row.child_group && row.child_group instanceof Array){\n        for(let i = 0; i<row.child_group.length;i++){\n          this.modify_name(row.child_group[i])\n        }\n      }\n      if(row.child_product && row.child_product instanceof Array){\n        for(let i = 0; i<row.child_product.length;i++){\n          this.modify_name(row.child_product[i])\n        }\n      }\n    },\n    updateData(){\n      let _this = this;\n      $.ajax({\n        url: '/bms-pub/user/getManagers?operator_uid='+_this.row.operator_uid,\n        type:'get',\n        success: function({code, msg, data}){\n          if (0 == code) {\n            _this.isShowChangePanel = false;\n            _this.value =\"\";\n            _this.options = data;\n            _this.select_init();\n          }else{\n            $.omsAlert(msg)\n          }\n        },\n        error: function(){\n          $.omsAlert('网络异常，请重试')\n        }\n      })\n    }\n  },\n  mounted(){\n    let _this = this;\n    $.ajax({\n      url: '/bms-pub/user/getManagers?operator_uid='+_this.row.operator_uid,\n      type:'get',\n      success: function({code, msg, data}){\n        if (0 == code) {\n          _this.isShowChangePanel = false;\n          _this.value =\"\";\n          _this.options = data;\n          _this.select_init();\n        }else{\n          $.omsAlert(msg)\n        }\n      },\n      error: function(){\n        $.omsAlert('网络异常，请重试')\n      }\n    })\n\n  },\n  computed:{\n    status(){\n      if(this.row.status == 6){\n        return false;\n      }else{\n        return true;\n      }\n    }\n  }\n})\nVue.component('vue-modify-text-child',{\n  props:[\"detail\"],\n  template:`\n    <div class=\"modify-number\">\n      <div class=\"modify-number_content\">\n        <div class=\"modify-number_content_value\">\n          {{detail.operator}}\n          <a v-if=\"detail.status !=6\" class=\"modify-remark__content__icon\" @click=\"showChangePanel()\"></a>\n        </div>\n      </div>\n      <div class=\"modify-number_showbox\" v-show=\"isShowChangePanel\">\n        <select class=\"select-tools\" multiple placeholder=\"请选择基金经理\"></select>\n        <a class=\"modify-number_save\" @click=\"save()\" >确定</a>\n        <a class=\"modify-number_cancel\" @click=\"cancel()\" >取消</a>\n      </div>\n    </div>\n  `,\n  data:function(){\n    return {\n      value:\"\",\n      isShowChangePanel:false,\n      options:[],\n      select:'',\n    }\n  },\n  methods:{\n    showChangePanel:function(){\n      this.isShowChangePanel = true;\n      this.select[0].selectize.setValue([this.detail.operator_uid]);\n      this.$root.isdrag = false;//禁止拖拽\n    },\n    save:function(){\n      let _this = this;\n      let value = this.select[0].selectize.getValue()[0];\n      // let reg = /^\\d+$/;\n      if(!value){\n        $.omsAlert('请选择基金经理');\n        return;\n      }\n       let name = $(_this.$el).find('.item').text();\n      if(name.indexOf('已注销') != -1){\n        $.omsAlert('该基金经理已注销，请重新选择');\n        return;\n      }\n      let ajax_data = {\n        product_id:this.detail.id,\n        operator_uid:value,\n      }\n      let ajax_type = 'post';\n      $.ajax({\n        url: '/bms-pub/product/modify_product_managers',\n        data: ajax_data,\n        type: ajax_type,\n        success: function({code, msg, data}){\n          if (0 == code) {\n            $.omsAlert('保存成功')\n            _this.isShowChangePanel = false;\n            _this.$root.isdrag = true;//开启拓展\n            _this.value =\"\";\n            _this.detail.operator_uid = value,\n            _this.detail.operator = $(_this.$el).find('.item').text();\n          }else{\n            $.omsAlert(msg)\n          }\n        },\n        error: function(){\n          $.omsAlert('网络异常，请重试')\n        }\n      }).always(()=>{\n        _this.$root.isdrag = true;//开启拓展\n      })\n    },\n    cancel:function(){\n      this.isShowChangePanel = false;\n      this.value =\"\";\n      this.$root.isdrag = true;//开启拓展\n    },\n    select_init(){\n      let options = this.options;\n      options.forEach(function(e){\n        if(e.status == 1){\n          e.showTest = e.real_name;\n        }else if(e.status ==2){\n          e.showTest = e.real_name+'(已注销)';\n        }\n      })\n      let self = this;\n      this.select = $(this.$el).find('.select-tools').selectize({\n        maxItems: 1,\n        valueField: 'user_id',\n        labelField: 'showTest',\n        searchField: 'real_name',\n        options: options,\n        create: false,\n        onType(str) {\n          this.$dropdown_content.find('.option[data-value='+self.detail.operator_uid+']').hide();//隐藏当前产品经理\n          if(this.$dropdown_content.find('.option').length==0){\n            this.$dropdown_content.html('<div class=\"option\" data-selectable=\"\" >没有匹配的基金经理</div>');\n            this.$dropdown.show();\n          }\n        },\n      });\n      this.select[0].selectize.setValue([this.detail.operator_uid]);\n      this.select[0].selectize.$dropdown_content.find('.option[data-value='+this.detail.operator_uid+']').hide();//隐藏当前产品经理\n    }\n  },\n  mounted(){\n    let _this = this;\n    $.ajax({\n      url: '/bms-pub/user/getManagers?operator_uid='+_this.detail.operator_uid,\n      type:'get',\n      success: function({code, msg, data}){\n        if (0 == code) {\n          _this.isShowChangePanel = false;\n          _this.value =\"\";\n          _this.options = data;\n          _this.select_init();\n        }else{\n          $.omsAlert(msg)\n        }\n      },\n      error: function(){\n        $.omsAlert('网络异常，请重试')\n      }\n    })\n\n  }\n})\n// 自定义内容修改组件 文本\nVue.component('vue-custom-modify-text', {\n  props: ['id', 'value', 'ajax_url', 'ajax_data'],\n  template: `\n    <div class=\"custom-modify\">\n      <div class=\"custom-modify__content\" v-show=\"status === 'status_display'\">\n        <span class=\"custom-modify__content--display-value\" :title=\"customDisplay(value)\">{{customDisplay(value)}}</span>\n        <a class=\"custom-modify__content--btn-modify\" v-on:click=\"chgStatus('status_edit')\"></a>\n      </div>\n      <div class=\"custom-modify__content\" v-show=\"status === 'status_edit'\" >\n        <input class=\"custom-modify__content--modify-value\" v-model=\"modify_value\" v-on:blur=\"onBlur()\" v-focus=\"status == 'status_edit'\" />\n        <a class=\"custom-modify__content--btn-save\" v-on:mousedown=\"saveData()\">保存</a>\n      </div>\n    </div>\n  `,\n  data: function(){\n    return {\n      // 组件状态，区分显示或者修改\n      status: 'status_display',\n      // 修改值，为了支持用户取消修改而存在，进入修改状态时从value复制过去，其余时候根据用户修改而改变\n      modify_value: ''\n    }\n  },\n  directives: {\n    focus: {\n        update: function (el, {value}) {\n            if (value) {\n                el.focus();\n            }\n        }\n    }\n  },\n  methods: {\n    customDisplay: function(v){\n      if ('' == v || undefined == v) {\n        return '--';\n      }else{\n        return v;\n      }\n    },\n    chgStatus: function(status){\n      let _this = this;\n      if ('status_edit' == status) {\n        this.modify_value = this.value;\n        // this.modify_value = numeral(this.value).format('0');\n        this.$nextTick(function(){\n          $(_this.$el).find('input.custom-modify__content--modify-value').focus();\n        })\n      }\n      this.status = status;\n    },\n    onBlur: function(){\n      this.status = 'status_display';\n    },\n    saveData: function(){\n      let _this = this;\n      let ajax_data = this.ajax_data;\n      ajax_data[this.id] = this.modify_value\n      $.ajax({\n        url: this.ajax_url,\n        data: ajax_data,\n        type: 'post',\n        success: ({code, msg, data})=>{\n          if (0 == code) {\n            $.omsAlert('保存成功');\n            this.status = 'status_display';\n            this.$emit('modify_value', this.modify_value);\n\n            if (\"[object Function]\" == Object.prototype.toString.call(this.$root.customRefreshAfterModified)) {\n              this.$root.customRefreshAfterModified(true);\n            }\n          }else{\n            $.omsAlert(msg);\n          }\n        },\n        error: function(){\n          $.omsAlert('网络异常，请重试');\n        }\n      })\n    }\n  }\n});\n\n// 自定义内容修改组件，新的版本，以弹窗的形式。另外会显示当前的值和预期变化输入框\nVue.component('vue-custom_v2-modify', {\n  mixins: [numberMixin],\n  props: ['id', 'value', 'ajax_url', 'ajax_data', 'label', 'adjust_value', 'current_value'],\n  template: `\n    <div class=\"custom-v2-modify\" style=\"position:relative;z-index:10;\">\n      <div class=\"custom-v2-modify__content\">\n        <span class=\"custom-v2-modify__content--display-value\">{{numeralNumber(value, 2)}}</span>\n        <a class=\"custom-v2-modify__content--btn-modify\" v-on:click=\"chgStatus('status_edit')\"></a>\n      </div>\n      <div class=\"custom-v2-modify__window\" v-show=\"status === 'status_edit'\" style=\"position:absolute;\">\n        <dl class=\"custom-v2-modify__window--left-content\">\n          <dt>当前{{label}}</dt>\n          <dd><input disabled=\"disabled\" :value=\"numeralNumber(current_value, 0)\" /></dd>\n        </dl>\n        <dl class=\"custom-v2-modify__window--right-content\">\n          <dt>预期变化</dt>\n          <dd><input :value=\"adjust_value\" v-on:input=\"modify_value = $event.target.value\" placeholder=\"请输入正负数字，如+100\" style=\"font-size: 12px; line-height: 23px;\" /></dd>\n        </dl>\n        <dl class=\"custom-v2-modify__window--controller\">\n          <dt v-on:click=\"saveData()\" class=\"custom-v2-modify__window--controller-save\">确定</dt>\n          <dd v-on:click=\"cancelEdit()\" class=\"custom-v2-modify__window--controller-cancel\">取消</dd>\n        </dl>\n      </div>\n    </div>\n  `,\n  watch: {\n    // 校验\n\n    modify_value: function(value, old){\n      let arr = value.match(/^(-|\\+)?\\d*\\.?\\d*/);\n      if (arr && arr.length > 0) {\n        this.modify_value = arr[0];\n      }\n    }\n  },\n  data: function(){\n    return {\n      // 组件状态，区分显示或者修改//status_display status_edit\n      status: 'status_display',\n      // 修改值，为了支持用户取消修改而存在，进入修改状态时从value复制过去，其余时候根据用户修改而改变\n      modify_value: this.adjust_value\n    }\n  },\n  methods: {\n    chgStatus: function(status){\n      this.status = status;\n    },\n    cancelEdit: function(){\n      this.chgStatus('status_display');\n      this.modify_value = '';\n    },\n    saveData: function(){\n      let _this = this;\n      let ajax_data = this.ajax_data;\n      ajax_data[this.id] = ('' == this.modify_value)?0:this.modify_value;\n      $.ajax({\n        url: this.ajax_url,\n        data: ajax_data,\n        type: 'post',\n        success: function({code, msg, data}){\n          if (0 == code) {\n            $.omsAlert('保存成功')\n            _this.status = 'status_display';\n            _this.$emit('modify_value', _this.modify_value);\n\n            if (\"[object Function]\" == Object.prototype.toString.call(_this.$root.customRefreshAfterModified)) {\n              _this.$root.customRefreshAfterModified(true);\n            }\n          }else{\n            $.omsAlert(msg)\n          }\n        },\n        error: function(){\n          $.omsAlert('网络异常，请重试')\n        }\n      })\n    }\n  }\n})\n\n//修改公共组件，由给备注展示的组件抽象而来\nVue.component('vue-custom_v3-modify',{\n  // value: 显示的值；ajax_url: 请求url; ajax_data: 请求数据（修改的这个id除外）；id: 此组件修改的对应id\n  props: ['value', 'ajax_url', 'ajax_data', 'id', 'regexp'],\n  template: `\n    <div class=\"modify-remark\">\n      <div class=\"modify-remark__content\">\n        <span class=\"modify-remark__content__value\" v-text=\"security_remark()\" :title=\"value\"></span>\n        <a class=\"modify-remark__content__icon\" v-on:click=\"toggle()\"></a>\n      </div>\n      <div class=\"modify-remark__describle\" v-show=\"show_modify\">\n        <input type=\"text\" placeholder=\"请输入成本价\" v-model=\"modify_value\" class=\"modify-remark__describle__input\" v-on:blur=\"onBlur()\" @keydown=\"checkKeyDown($event, modify_value)\"/>\n        <a v-on:mousedown=\"save()\" class=\"modify-remark__describle__determine\">确定</a>\n        <a v-on:click=\"change_show()\" class=\"modify-remark__describle__cancel\">取消</a>\n      </div>\n    </div>\n  `,\n  data: function () {\n    return {\n      show_modify: false,\n      modify_value: ''\n    }\n  },\n  methods: {\n    checkKeyDown: function(e, value){\n      // if (this.regexp) {\n        // var regexp = new RegExp(window.encodeURIComponent(this.regexp.reg));\n        // var regexp = new RegExp(/^\\d+\\.?\\d{0,3}$/);\n        // var regexp = /^\\d+\\.?\\d{0,3}$/;\n        if (8 == e.keyCode) {\n          return;\n        }\n\n        if (/\\S/.test(e.key)) {\n          if (/^\\d+\\.?\\d{0,3}$/.test(value + e.key)) {\n            // value = value + e.key;\n            return true;\n          }\n          e.preventDefault();\n          return false;\n        }\n        e.preventDefault();\n        return false;\n      // }else{\n      //   return;\n      // }\n    },\n    toggle: function () { //当点击输入文字的icon时，应该只能显示修改框，不能隐藏\n      this.show_modify = true;\n      let _this = this;\n      if ('' == this.value || undefined == this.value) {\n        this.modify_value = '';\n      } else {\n        this.modify_value = this.value;\n      }\n      this.$nextTick(function(){\n        $(_this.$el).find('input.modify-remark__describle__input').focus();\n      })\n    },\n    change_show: function () {\n      this.show_modify = false;\n    },\n    onBlur: function () {\n      this.show_modify = false;\n    },\n    security_remark: function () {\n      if ('' == this.value || undefined == this.value) {\n        return '--';\n      } else {\n        return this.value;\n      }\n    },\n    save: function () {\n      var _this = this;\n      // if (this.modify_value.length > 200) {\n      //   $.omsAlert('最多支持输入200个字');\n      //   return false;\n      // }\n      // if (!/^\\d+(\\.\\d{1,3})?$/.test(this.modify_value)) {\n      //   // value = value + e.key;\n      //   $.omsAlert('请输入正确的数字');\n      //   _this.show_remark = true;\n      //   return false;\n      // }\n\n      if ('' == this.modify_value) {\n        $.omsAlert('请输入成本价');\n        return false;\n      }\n\n      $.startLoading('正在修改');\n\n      var req_data = Object.assign({}, this.ajax_data);\n      req_data[this.id] = this.modify_value;\n      $.ajax({\n        url: this.ajax_url,\n        type: 'POST',\n        data: req_data,\n        success:function ({code,msg,data}) {\n          $.clearLoading();\n          if (0 == code) {\n            _this.show_remark = false;\n            $.omsAlert('保存成功');\n\n            //刷新页面,方便组件重复利用\n            if (\"[object Function]\" == Object.prototype.toString.call(_this.$root.customRefreshAfterModified)) {\n              _this.$root.customRefreshAfterModified(true);\n            }\n            //刷新页面,方便组件重复利用\n            if (\"[object Function]\" == Object.prototype.toString.call(_this.$root.positionDoRefresh)) {\n              _this.$root.positionDoRefresh(true);\n            }\n\n            //刷新页面,方便组件重复利用\n            if (\"[object Function]\" == Object.prototype.toString.call(_this.$root.goto)) {\n              _this.$root.goto();\n            }\n          } else {\n            $.omsAlert(msg);\n          }\n        },\n        error:function () {\n          $.clearLoading();\n          $.omsAlert('网络异常，请重试');\n        }\n      })\n    }\n  }\n})\n\n// 自定义报表名值对组件\nVue.component('vue-custom-dl', {\n  props: ['name', 'value'],\n  template: `\n    <dl class=\"custom-dl\">\n      <dt class=\"custom-dl__dt\">{{name}}</dt>\n      <dd class=\"custom-dl__dd\">{{value}}</dd>\n      <slot></slot>\n    </dl>\n  `\n})\n\n// 自定义报表名值对组件 ——附带修改功能\nVue.component('vue-custom-dl-modify', {\n  props: ['name', 'id', 'value', 'ajax_url', 'ajax_data'],\n  template: `\n    <dl class=\"custom-dl\">\n      <dt class=\"custom-dl__dt\">{{name}}</dt>\n      <dd class=\"custom-dl__dd\">\n        <vue-custom-modify :id=\"id\" :value=\"value\" :ajax_url=\"ajax_url\" :ajax_data=\"ajax_data\" v-on:modify_value=\"modify_value($event)\"></vue-custom-modify>\n      </dd>\n    </dl>\n  `,\n  methods: {\n    modify_value: function(v){\n      this.$emit('modify_value', v);\n    }\n  }\n})\n\n// 自定义报表名值对组件 ——附带修改功能 第二个版本，使用了新的vue-custom_v2-modify\nVue.component('vue-custom_v2-dl-modify', {\n  props: ['name', 'id', 'value', 'ajax_url', 'ajax_data', 'adjust_value', 'current_value'],\n  template: `\n    <dl class=\"custom-dl\">\n      <dt class=\"custom-dl__dt\">{{name}}</dt>\n      <dd class=\"custom-dl__dd\">\n        <vue-custom_v2-modify :id=\"id\" :value=\"value\" :adjust_value=\"adjust_value\" :current_value=\"current_value\" :ajax_url=\"ajax_url\" :ajax_data=\"ajax_data\" :label=\"name\" v-on:modify_value=\"modify_value($event)\"></vue-custom_v2-modify>\n      </dd>\n    </dl>\n  `,\n  methods: {\n    modify_value: function(v){\n      this.$emit('modify_value', v);\n    }\n  }\n})\n\n// 自定义报表名值对组件 ——附带修改功能\nVue.component('vue-custom-dl-slot-modify', {\n  props: ['name'],\n  template: `\n    <dl class=\"custom-dl\">\n      <dt class=\"custom-dl__dt\">{{name}}</dt>\n      <dd class=\"custom-dl__dd\">\n        <slot></slot>\n      </dd>\n    </dl>\n  `\n})\n\n// 自定义vue-table-content组件，设计的目的仅为提供给表格内部，使表格单元不但能够显示文本，也能显示按钮、checkbox\n// 如果是按钮和checkbox，还要能够将用户触发的事件传入到上一层。\nVue.component('vue-table-content', {\n  props: ['data', 'controller', 'disabled'],\n  template: `\n    <span style=\"position:relative;\">\n      <div v-if=\"showType(controller) == 'text'\" :style=\"customStyle(controller, data)\">{{ display(controller, data) }}</div>\n      <input v-if=\"showType(controller) == 'checkbox'\" :checked=\"data\" v-on:change=\"changeCheckbox()\" :disabled=\"disabled\" type=\"checkbox\" />\n      <template v-if=\"showType(controller) == 'button'\" v-for=\"(btn, index) in controller.btns\">\n        <a v-on:click=\"clickBtn(btn, index)\">\n          {{btn.text}}\n        </a>\n      </template>\n    </span>\n  `,\n  // mounted: function(){\n\n  // },\n  data: function(){\n    return {\n    }\n  },\n  methods: {\n    customStyle: function(controller, data){\n      if (Object.prototype.toString.call(controller.display) == '[object Function]') {\n        controller.display.call(this, data);\n      }\n      if (controller.customColor) {\n        return 'color: ' + controller.customColor + ';';\n      }else if (controller.checkPositive) {\n        if (data > 0) {\n          return 'color: red;';\n        }else if(data < 0){\n          return 'color: green;';\n        }\n      }else{\n        return '';\n\n      }\n    },\n    display: function(controller, data){\n      if (Object.prototype.toString.call(controller.display) == '[object Function]') {\n        return controller.display.call(this, data);\n      }else if (controller.numeralFormat) {\n        if (data > 0) {\n          if (controller.showPositiveSign) {\n            return '+' + numeral(data).format(controller.numeralFormat)\n          }else{\n            return numeral(data).format(controller.numeralFormat)\n          }\n        }else{\n          return numeral(data).format(controller.numeralFormat)\n        }\n\n      }else{\n        if (data == undefined) {\n          return '';\n        }\n        return data;\n      }\n    },\n    showType: function(controller){\n      if (controller && controller.type) {\n        return controller.type;\n      }else{\n        return 'text';\n      }\n    },\n    clickBtn: function(btn, index){\n      this.$emit('clickBtn', index);\n    },\n    changeCheckbox: function(){\n      this.$emit('checkChange', !this.data)\n    }\n  }\n  // ,\n  // destroyed: function(){\n  //   console.log(destroyed);\n  // }\n})\n\n// 自定义vue-table组件，头部内容和数据均由父组件传入的数据控制\nVue.component('vue-table', {\n  props: ['tableController', 'tableData'],\n  data: function(){\n    return {\n    }\n  },\n  template: `\n    <table class=\"client-table\">\n      <tbody class=\"client-table__thead\">\n        <tr>\n          <td v-for=\"(v, index) in tableController\">\n            <div v-if=\"tableController[index].type == 'checkbox'\">\n              <input type=\"checkbox\" :checked=\"totalChecked\" v-on:change=\"onTotalCheckChange\" />\n            </div>\n            <span v-if=\"v.type !== 'checkbox'\">{{ v.tableHead }}</span>\n          </td>\n        </tr>\n      </tbody>\n      <tbody class=\"client-table__tbody\">\n        <tr v-if=\"tableData.length > 0\" v-for=\"row ,index in tableData\" @click=\"tr_click(index,row)\" @dblclick=\"tr_dbclick(index,row)\">\n          <td v-for=\"v in tableController\">\n            <vue-table-content :data=\"getObjectData(row, v.mapping)\" :controller=\"v\" :disabled=\"checkDisabled(row, v)\" v-on:clickBtn=\"onButtonClick(row, v, $event)\" v-on:checkChange=\"onCheckChange(row, $event)\"></vue-table-content>\n          </td>\n        </tr>\n        <tr v-if=\"tableData.length == 0\">\n          <td>\n            暂无相关数据\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  `,\n  methods: {\n    checkDisabled: function(row, v){\n      var rtn = false;\n      if (v.disabledMapping) {\n        rtn = row[v.disabledMapping];\n      }\n      return rtn;\n    },\n    getObjectData: function(obj, mapping){\n      return $.pullValue(obj, mapping);\n    },\n    onButtonClick: function(row, controller, value){\n      controller.btns[value].onClick(row.id);\n    },\n    onCheckChange: function(row, value){\n      if (!row.disabled) {\n        row[this.checkedMapping] = value\n      }\n    },\n    onTotalCheckChange: function(){\n      var _this = this;\n      var flag = this.totalChecked;\n      for(var index in this.tableData){\n        if (!this.tableData[index].disabled) {\n          this.tableData[index][this.checkedMapping] = !flag;\n        }\n\n      }\n    },\n    tr_click(index, row){\n      this.$emit('tr_click',index,row);\n    },\n    tr_dbclick(index,row){\n      this.$emit('tr_dbclick',index,row);\n    }\n  },\n  computed: {\n    checkedMapping: function(){\n      var mapping = '';\n      this.tableController.forEach(function(e, index){\n        if (e.type == 'checkbox') {\n          mapping = e.mapping;\n        }\n      });\n      return mapping;\n    },\n    totalChecked: function(){\n      var _this = this;\n      if (this.tableData.length == 0) {\n        return false;\n      }\n      var tmp = this.tableData.filter(function(e){\n        return e.disabled != true;\n      });\n      if (tmp.length == 0) {\n        return false;\n      }\n      if(this.tableData.every(function(e){\n        return e[_this.checkedMapping] == true || e.disabled == true;\n      })){\n        return true;\n      }else{\n        return false;\n      }\n    }\n  }\n  // ,\n  // destroyed: function(){\n  //   console.log('destroyed');\n  // }\n});\n\n// 自定义账户管理顶部信息，多个页面使用\nVue.component('vue-product-display', {\n  mixins: [numberMixin],\n  props: ['user_info', 'group_info', 'balance_info', 'org_info'],\n  template: `\n    <ul>\n      <li v-if=\"org_info.theme != 3\">\n        <span class=\"title\">单位净值</span>\n        <span class=\"content\">{{ balance_info.shouldShow == '--' ? '--' : numeralNumber(balance_info.net_value, 4) }}</span>\n      </li>\n      <li v-if=\"org_info.theme != 3\">\n        <span class=\"title\">当前仓位</span>\n        <span class=\"content\">{{ numeralPercent(balance_info.position) }}</span>\n      </li>\n      <li v-if=\"org_info.theme != 3\">\n        <span class=\"title\">基金经理</span>\n        <!-- <span class=\"content\">{{ group_info.operator_info.status == 0 ? (group_info.managers + '（已注销）') : group_info.managers }}</span> -->\n        <span class=\"content\">{{ displayManager(user_info.status, group_info.managers) }}</span>\n      </li>\n      <li v-if=\"org_info.theme != 3\">\n        <span class=\"title\">资产总值</span>\n        <span class=\"content\">{{ balance_info.shouldShow == '--' ? '--' : numeralNumber(balance_info.total_assets) }}</span>\n      </li>\n      <li v-if=\"org_info.theme != 3\">\n        <span class=\"title\">初始资金</span>\n        <span class=\"content\">{{ group_info.is_forever == 1 ? numeralNumber(group_info.begin_capital) : '--' }}</span>\n      </li>\n\n      <li v-if=\"org_info.theme == 3\">\n        <span class=\"title\">单位净值</span>\n        <span class=\"content\">{{ balance_info.shouldShow == '--' ? '--' : numeralNumber(balance_info.net_value, 4) }}</span>\n      </li>\n      <li v-if=\"org_info.theme == 3\">\n        <span class=\"title\">当前仓位</span>\n        <span class=\"content\">{{ numeralPercent(balance_info.position) }}</span>\n      </li>\n      <li v-if=\"org_info.theme == 3\">\n        <span class=\"title\">用户账号</span>\n        <span class=\"content\">{{ group_info.operator_uid }}</span>\n      </li>\n      <li v-if=\"org_info.theme == 3\">\n        <span class=\"title\">杠杆比例</span>\n        <span class=\"content\">{{ group_info.lever_ratio }}</span>\n      </li>\n      <li v-if=\"org_info.theme == 3\">\n        <span class=\"title\">资产总值</span>\n        <span class=\"content\">{{ balance_info.shouldShow == '--' ? '--' : numeralNumber(balance_info.total_assets) }}</span>\n      </li>\n      <li v-if=\"org_info.theme == 3\">\n        <span class=\"title\">借款金额</span>\n        <span class=\"content\">{{ numeralNumber(group_info.loan_capital) }}</span>\n      </li>\n      <li v-if=\"org_info.theme == 3\">\n        <span class=\"title\">保证金金额</span>\n        <span class=\"content\">{{ numeralNumber(group_info.assure_capital) }}</span>\n      </li>\n    </ul>\n  `,\n  data: function(){\n    return {};\n  },\n  methods: {\n    displayManager: function(status, name){\n      if (2 == status) {\n        return name + '（已注销）'\n      }else{\n        return name;\n      }\n    }\n  }\n})\n    //风控设置\n      // <li v-if=\"permission.risk_setting\" data-str=\"risk_setting\" v-on:click=\"goto($event)\" :class=\"[{active: active == 'risk_setting'}, {disabled: disabled == 'risk_setting'}]\">\n      //   <div class=\"img_setting img_risk_setting\"></div>\n      //   <span>风控设置</span>\n      // </li>\n\n// 自定义账户管理菜单信息，多个页面使用\nVue.component('vue-product-menu', {\n  props: ['permission', 'active', 'disabled', 'goto'],\n  data: function(){\n    return {\n      org_info_theme: window.LOGIN_INFO.org_info.theme\n    }\n  },\n  template: `\n    <ul>\n      <li v-if=\"permission.base_setting\" data-str=\"base_setting\" v-on:click=\"goto($event)\" :class=\"[{active: active == 'base_setting'}, {disabled: disabled == 'base_setting'}]\">\n        <div class=\"img_setting img_base_setting\"></div>\n        <span>基础信息</span>\n      </li>\n      <li v-if=\"permission.user_setting && 3 == org_info_theme\" data-str=\"user_setting\" v-on:click=\"goto($event)\" :class=\"[{active: active == 'user_setting'}, {disabled: disabled == 'user_setting'}]\">\n        <div class=\"img_setting img_user_setting\"></div>\n        <span>人员分配</span>\n      </li>\n      <li v-if=\"false\" data-str=\"risk_setting\" v-on:click=\"goto($event)\" :class=\"[{active: active == 'risk_setting'}, {disabled: disabled == 'risk_setting'}]\">\n        <div class=\"img_setting img_risk_setting\"></div>\n        <span>风控设置</span>\n      </li>\n      <li v-if=\"permission.fee_setting\" data-str=\"fee_setting\" v-on:click=\"goto($event)\" :class=\"[{active: active == 'fee_setting'}, {disabled: disabled == 'fee_setting'}]\">\n        <div class=\"img_setting img_fee_setting\"></div>\n        <span>费用设置</span>\n      </li>\n      <li v-if=\"permission.cash_setting && 3 == org_info_theme\" data-str=\"cash_setting\" v-on:click=\"goto($event)\" :class=\"[{active: active == 'cash_setting'}, {disabled: disabled == 'cash_setting'}]\">\n        <div class=\"img_setting img_cash_setting\"></div>\n        <span>资金调整</span>\n      </li>\n      <li v-if=\"permission.position_setting && false\" data-str=\"position_setting\" v-on:click=\"goto($event)\" :class=\"[{active: active == 'position_setting'}, {disabled: disabled == 'position_setting'}]\">\n        <div class=\"img_setting img_position_setting\"></div>\n        <span>证券调整</span>\n      </li>\n    </ul>\n  `,\n  methods: {\n    // goto: function goto(e) {\n    //   var li = $(e.currentTarget);\n    //   if (!li.hasClass('active') && !li.hasClass('disabled')) {\n    //     location.href = prefix + '/product/' + li.attr('data-str') + '?product_id=' + FD.product_id;\n    //   }\n    // }\n  }\n})\n\n//滑块按钮 val   为初始状态 true 为选中 show 为显示的文字数组{true:{text:on,value:val},false:{text:off,value:val}}\nVue.component('vue-common-switchbut',{\n  props:['val','data','show','index'],\n  watch:{\n    val(v){\n      let temp ;\n      if(val == this.show.true.value){\n        temp = true\n      }\n      if(val == this.show.false.value){\n        temp = false;\n      }\n      this.value = temp;\n    }\n  },\n  data(){\n      let temp ;\n      if(this.val == this.show.true.value){\n        temp = true\n      }\n      if(this.val == this.show.false.value){\n        temp = false;\n      }\n    return {\n      value:temp,\n    }\n  },\n  template:`\n  <div class=\"onoffswitch\" @click=\"btn_click\">\n    <input type=\"checkbox\" name=\"onoffswitch\" class=\"onoffswitch-checkbox\" v-model=value >\n    <label class=\"onoffswitch-label\">\n      <span class=\"onoffswitch-inner\"  :show0=\"show.true.text\" :show1=\"show.false.text\"></span>\n      <span class=\"onoffswitch-switch\"></span>\n    </label>\n  </div>\n  `,\n  methods:{\n    btn_click(){\n      this.value = !this.value;\n      this.$emit('btn_click',this.value,this.data,this.index);\n    }\n  }\n})\n//////////////////vue弹出框\n\n// 3.10版本加入的弹窗骨架，在使用的地方还得传入内部展示的组件。\nvar VueConfirm = {};\nVueConfirm.install = function (Vue,options) {\n  Vue.prototype.$confirm =(options)=>{\n    let confirmTpll = Vue.extend({\n      template:`\n      <div class=\"jconfirm jconfirm-white vue-confirm\">\n        <div class=\"jconfirm-bg seen\" style=\"transition-duration: 0.5s; transition-timing-function: cubic-bezier(0.36, 1.1, 0.2, 1); opacity: 0.2;\"></div>\n        <div class=\"jconfirm-scrollpane vue-confirm-scrollpane\" style=\"display: flex;align-items: center;justify-content: center;\">\n          <div class=\"jconfirm-box\" role=\"dialog\" aria-labelledby=\"jconfirm-box16086\" tabindex=\"-1\" style=\"transition-duration: 0.5s; transition-timing-function: cubic-bezier(0.36, 1.1, 0.2, 1.2); transition-property: transform, opacity, box-shadow, margin;padding-top:34px;padding-left:20px;padding-right:20px;\">\n            <div class=\"closeIcon\" style=\"display: block;\" @click=\"close\" v-show=\"options.closeIcon\">×</div>\n            <div class=\"title-c\">\n              <span class=\"icon-c\"></span>\n              <span class=\"title\" id=\"jconfirm-box16086\">{{options.title}}</span>\n            </div>\n            <div class=\"content-pane\" style=\"transition-duration: 0.5s; transition-timing-function: cubic-bezier(0.36, 1.1, 0.2, 1);\">\n              <div >\n                <vue-confirm-content ref=\"child\"></vue-confirm-content>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n      `,\n      data(){\n\n        return {options:options};\n      },\n      methods:{\n        // doClose: function(e){\n        //   console.log(e);\n        //   if (\"Escape\" == e.code) {\n        //     this.close();\n        //   }\n        // },\n        close(){\n          // console.log('close');\n\n          if(tpl){\n            document.body.removeChild(tpl);\n            this.$destroy();\n            if(this.$ref){\n              this.$ref.child = null;\n            }\n            \n            tpl =false;\n          }\n\n        },\n      },\n      mounted(){\n        let _this = this;\n        var keyUpFn = function(e){\n          if (\"Escape\" == e.key) {\n            _this.close();\n          }\n        };\n\n        $(document).one('keyup', keyUpFn);\n      },\n      components:{\n          'vue-confirm-content':options.content,\n      }\n    });\n    var tpl = new confirmTpll().$mount().$el;  // 2、创建实例，挂载到文档以后的地方\n    document.body.appendChild(tpl);\n  }\n}\nVue.use(VueConfirm);\n\n// // 3.11版本，抽象出一个公共的弹窗组件\n// Vue.component('vue-common-confirm', {\n//   props: [],\n//   template: `\n//     <div>\n      \n//     </div>\n//   `,\n//   data: function(){\n//     return {\n\n//     }\n//   },\n//   methods: {\n\n//   }\n// })\n\n\n\n"]}