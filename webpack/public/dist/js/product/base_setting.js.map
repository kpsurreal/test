{"version":3,"sources":["product/base_setting.js"],"names":["JS_base_setting","prefix","productHeader","initProductHeader","productMenu","Vue","el","data","active","permission","FD","disabled","fee_mode","methods","goto","e","li","$","currentTarget","hasClass","location","href","attr","product_id","max_user","user_num","formAdd","product_name","volume","parseInt","base_name","is_forever","operator_uid","auto_verify","begin_capital","collect_capital","is_running","org_info","lever_ratio","available_amount","managerInfo","numeralNumber","arg","num","undefined","str","i","numeral","format","getManagers","callBack","_this","ajax","type","url","success","code","msg","managerArr","Object","keys","forEach","push","name","value","status","some","userInfo","nick_name","prototype","toString","call","apply","omsAlert","error","failNotice","createManager","confirm","title","content","closeIcon","confirmButton","cancelButton","user_id","nextTick","set","doCancel","theme","validateAccountSplitV2","validateAccountSplit","validate","errorClass","rules","required","digits","checkNumberTwoPad","messages","errorPlacement","element","appendTo","parent","submitHandler","form","val","init_capital","startLoading","prop","clearLoading","getGroupInfo","getBalanceInfo","min","password","base_id","pathname","split","pop"],"mappings":"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","file":"base_setting.js","sourcesContent":["/**\n * author: liuzeyafzy\n * 账户基础信息页面\n */\nfunction JS_base_setting(prefix){\n  let productHeader = initProductHeader(prefix);\n\n  // FD.org_info\n  let productMenu = new Vue({\n    el: '#productMenu',\n    data: {\n      active: 'base_setting',\n      permission: FD.permission,\n      disabled: (FD.fee_mode == 1) ? 'fee_setting' : '' //1是同步 2是2清\n    },\n    methods: {\n      goto: function goto(e) {\n        var li = $(e.currentTarget);\n        if (!li.hasClass('active') && !li.hasClass('disabled')) {\n          location.href = prefix + '/product/' + li.attr('data-str') + '?product_id=' + FD.product_id;\n        }\n      }\n    }\n  });\n\n  let max_user = 0;\n  let user_num = 0;\n  let formAdd = new Vue({\n    el: '#form_add_vue',\n    // computed: {\n    //   FD_operator_uid: function(){\n    //     return FD.operator_uid;\n    //   }\n    // },\n    data: {\n      FD: {\n        product_id: FD.product_id,\n        product_name: FD.product_name,\n        volume: parseInt(FD.volume) || 0,\n        base_name: FD.base_name,\n        is_forever: FD.is_forever,\n        operator_uid: FD.operator_uid,\n        auto_verify: FD.auto_verify,\n        begin_capital: FD.begin_capital,\n        collect_capital: FD.collect_capital,\n        is_running: FD.is_running,\n        org_info: FD.org_info,\n        lever_ratio: FD.lever_ratio,\n        available_amount: FD.available_amount\n      },\n      managerInfo: []\n    },\n    methods: {\n      numeralNumber: function(arg, num){\n        if (undefined != num) {\n          var str = '0.'\n          for (let i = num - 1; i >= 0; i--) {\n            str += '0';\n          }\n          return numeral(arg).format( '0,' + str );\n        }\n        return numeral(arg).format( '0,0.00' );\n      },\n      getManagers: function(callBack){\n        let _this = this;\n        $.ajax({\n          type: 'get',\n          url: '/bms-pub/user/org_info',\n          success: function({code, msg, data}){\n            if (0 == code) {\n              max_user = data.max_user;\n              user_num = data.user_num;\n              $.ajax({\n                type: 'get',\n                url: '/bms-pub/user/role_users',\n                success: function({code, msg, data}){\n                  if (0 == code) {\n                    let managerArr = [];\n                    Object.keys(data).forEach(function(e){\n                      managerArr.push({\n                        name: data[e],\n                        value: e\n                      });\n                    });\n                    if ('' == _this.FD.operator_uid || undefined == _this.FD.operator_uid || 0 == _this.FD.operator_uid) {\n                      managerArr.push({\n                        name: '请选择基金经理',\n                        value: _this.FD.operator_uid,\n                        status: 2\n                      })\n                    }else{\n                      if (managerArr.some(function(e){\n                        return e.value == _this.FD.operator_uid;\n                      })) {\n                        ;\n                      }else{\n                        managerArr.push({\n                          name: productHeader.userInfo.nick_name + '（已注销）',\n                          value: _this.FD.operator_uid,\n                          status: productHeader.userInfo.status\n                        })\n                      }\n                    }\n\n                    _this.managerInfo = managerArr;\n\n                    if (Object.prototype.toString.call(callBack) === '[object Function]') {\n                      callBack.apply(this, data);\n                    }\n                  }else{\n                    $.omsAlert(msg);\n                  }\n                },\n                error: function(){\n                }\n              });\n            }\n          },\n          error: function(){\n            $.failNotice();\n          }\n        });\n\n      },\n      createManager: function(){\n        if (user_num >= max_user) {\n          $.confirm({\n            title: '已达上限',\n            content: '<div style=\"text-align: center;height: 150px;line-height: 150px;\"><i class=\"warn-icon\"></i>当前用户数已达上限'+ max_user +'，如需增加，请联系我们。</div>',\n            closeIcon: true,\n            confirmButton: false,\n            cancelButton: ' 确定 '\n          });\n        }else{\n          var _this = this;\n          // 这里调用的事config.js里面的方法\n          createManager(function(data){\n            _this.getManagers(function(){\n              var user_id = data.user_id;\n\n              Vue.nextTick(function () {\n                Vue.set(_this.FD, 'operator_uid', user_id);\n              });\n            });\n          });\n        }\n      },\n      doCancel: function(){\n        location.href = prefix + '/product/base_lists';\n      }\n    }\n  });\n\n  if (FD.org_info.theme == 3) {\n    // 专户版\n    validateAccountSplitV2();\n  }else{\n    // 机构版\n    formAdd.getManagers();\n    // getRolePermissions(prefix);\n    validateAccountSplit();\n  }\n\n  function validateAccountSplit(){\n    $(\"#form_add\").validate({\n      errorClass: 'confirm-tips',\n      rules: {\n        'name': {\n          required: true\n        },\n        'volume': {\n          required: true,\n          digits: true\n        },\n        'init_capital': {\n          required: true,\n          checkNumberTwoPad: true\n        },\n        'operator_uid': {\n          required: true\n        }\n      },\n      messages: {\n        'name': {\n          required: '请输入策略名称'\n        },\n        'volume': {\n          required: '请输入份额',\n          digits: '请输入整数'\n        },\n        'init_capital': {\n          required: '请输入初始资金',\n          checkNumberTwoPad: '请输入正确的数字'\n        },\n        'operator_uid': {\n          required: '请选择基金经理'\n        }\n      },\n      errorPlacement: function(error, element) {\n          error.appendTo(element.parent());\n      },\n      submitHandler: function (form) {\n        var name = $('#form_add [name=name]').val();\n        var init_capital = $('#form_add [name=init_capital]').val();\n        var operator_uid = $('#form_add [name=operator_uid]').val();\n        var volume = $('#form_add [name=volume]').val();\n\n        $.startLoading('正在保存...');\n        $.ajax({\n          type: 'post',\n          url: prefix + '/product/edit',\n          data: {\n            product_id: FD.product_id,\n            name: name,\n            volume: volume,\n            collect_capital: FD.begin_capital,\n            operator_uid: operator_uid,\n            auto_verify: $('#form_add [name=autoVerify]').prop('checked') == true ? 1 : 0\n          },\n          success: function({code, msg, data}){\n            if (0 == code) {\n              $.clearLoading();\n              productHeader.getGroupInfo();\n              productHeader.getBalanceInfo();\n              $.omsAlert('修改成功');\n            }else{\n              $.clearLoading();\n              $.omsAlert(msg);\n            }\n          },\n          error: function(){\n            $.clearLoading();\n            $.failNotice('网络异常，请重试');\n          }\n        });\n\n        return false;\n      }\n    });\n  };\n\n  function validateAccountSplitV2(){\n    $(\"#form_add\").validate({\n      errorClass: 'confirm-tips',\n      rules: {\n        'name': {\n          required: true\n        },\n        // 'password': {\n        //   // checkPassword: true\n        // },\n        'lever_ratio': {\n          min: 0,\n          checkNumberTwoPad: true,\n          required: true\n        }\n      },\n      messages: {\n        'name': {\n          required: '请输入策略名称'\n        },\n        // 'password': {\n        //   // checkNumberTwoPad: '请输入正确的数字'\n        // },\n        'lever_ratio': {\n          min: '请输入大于或等于0的两位小数',\n          checkNumberTwoPad: '请输入两位小数',\n          required: '请输入杠杆比例'\n        }\n      },\n      errorPlacement: function(error, element) {\n          error.appendTo(element.parent());\n      },\n      submitHandler: function (form) {\n        var name = $('#form_add [name=name]').val();\n        var password = $('#form_add [name=password]').val();\n        var lever_ratio = $('#form_add [name=lever_ratio]').val();\n        // var operator_uid = $('#form_add [name=operator_uid]').val();\n        var base_id = location.pathname.split('/').pop();\n\n        // doSubmitV2(base_id, name, password, lever_ratio);\n        $.startLoading('正在保存...');\n        $.ajax({\n          type: 'post',\n          url: prefix + '/product/edit',\n          data: {\n            product_id: FD.product_id,\n            name: name,\n            lever_ratio: lever_ratio,\n            // collect_capital: FD.begin_capital,\n            // operator_uid: operator_uid,\n            auto_verify: $('#form_add [name=autoVerify]').prop('checked') == true ? 1 : 0\n          },\n          success: function({code, msg, data}){\n            if (0 == code) {\n              $.clearLoading();\n              productHeader.getGroupInfo();\n              productHeader.getBalanceInfo();\n              $.omsAlert('修改成功');\n            }else{\n              $.clearLoading();\n              $.omsAlert(msg);\n            }\n          },\n          error: function(){\n            $.clearLoading();\n            $.failNotice('网络异常，请重试');\n          }\n        });\n      }\n    });\n  }\n}\n"]}