{"version":3,"sources":["product/operation.js"],"names":["tableData","th","show_type","name","class_name","style","width","decimal_places","tip","ajax_url","ajax_data","value","group_id","ajax_type","Vue","component","props","mixins","numberMixin","data","table_list","isLogining","template","mounted","update_list","watch","methods","show_setting","id","$root","modify_value","group","_this","$","ajax","url","type","done","res","code","omsAlert","msg","fail","always","pageProductInfo","chgSelected","select_show","computed","options","product_arr","product_list","forEach","e","obj","label","push","product_id","$emit","chgProSelected","startDate","moment","format","currentDate","stock_id","stock_input_type_id","options_type","getType","chgTypeSelected","closeBtnFunc","po_pup","onlyParseIntNum","onlyParseFloatNum","str","event","keyCode","val","indexOf","preventDefault","returnValue","setByInput","volume","stock_price","start_date","unlock_date","success","error","monetaryFundInput","stock_name","share","market_value","profit_rate","autoSwapInput","startLoading","doRefresh","clearLoading","incomeSwapInput","form","FormData","document","getElementById","oFile","file","files","undefined","reader","FileReader","onload","oFREvent","processData","contentType","JSON","parse","upload","upload_file","onerror","readAsDataURL","cashInput","amount","remark","clear_jconfirm","action_type","popup","asset_show","change_id","change_cash_id","change_asset_id","change_start_time","change_unlock_time","change_val","change_price","change_asset_market","change_asset_profit","change_asset_volume","change_cash_val","change_cash_remark","trigale_set_table","trigale_currenty_table","trigale_income_table","trigale_asset_table","jconfirm","language_show","$el","find","show","css","split","addClass","removeClass","language_hide","hide","doClear","checkPositive","num","parseFloat","checkNegative","changeModify","row","trigaleSet","trigaleCurrenty","trigaleIncome","trigaleAsset","set_by_markert","product_info","private_placement","currency_markert","monetary_fund","income_swap_markert","income_swap","exchange_rate","doSetByDelete","off","on","doMonetaryDelete","doCashDelete","changePreser","monetaryPreser","setByPreser","volume_val","stock_price_val","startDate_time","currentDate_time","getActionTypeName","rtn","doHide","fee_list","collection","pay","down","charge","exempt","temp_row","modify_hide","set_setting","fee_rate","charging_depend","charging_type","get_fee_list","set_type","status","modify_row","index","Object","assign","pay_num","arr","temp","filter","ele","earning_type","length","charge_num","show_index","change_icon","fee_list_charge","list","fee_list_pay","show_fee_type","fee_type","show_fee_charging_type","show_fee_charging_depend","fee_list_exempt","fee_list_collection","root_product_id","select","select_init","self","option_list","selectize","maxItems","valueField","labelField","searchField","create","onChange","getValue","setValue","handler","clearOptions","addOption","deep","comGridSortData","order","order_by","display_rules","class","hideSort","unit","modify_component","active_stock","stock_list","dragOptions","animation","ghostClass","display_stocks","is_adjust","operator","stock_display","influence_rate","weight","suspend_date","amac_display","amac_name","amac_index","amac_price","amac_last_price","adjust_market_value","modify_market_value","VUECOMPONENT","sort","chgSort","field_sort","map","common_storage","setItem","getAjaxUrl","v","getStockList","displayValue","sub_value","rule","Array","Function","args","concat","slice","apply","onMove","relatedContext","draggedContext","relatedElement","element","draggedElement","fixed","onEnd","numeralNumber","arg","i","numeral","numeralPercent","doConfigAdjust","adjustFlag","customRefreshAfterModified","fund_list","getItem","j","splice","unshift","review_vm","el","tab_index","reportChange","get_groups","only_top","lists","contentChild","extend","btn_submit","$parent","close","btn_cancel","$confirm","title","content","closeIcon","base_type","window","LOGIN_INFO","role_permission","GV","permissions","cost_type","suspension_type","outside_type"],"mappings":"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","file":"operation.js","sourcesContent":["/**\n * Author: jiangjian; jiangjian@gmail.com\n * 运营管理\n */\n\nvar tableData= [{\n  th: \"name\", //证劵代码\n  show_type: \"text\",\n  name: \"基金\",\n  class_name: \"vue-product-table__align-left xc__function--ellipsis\",\n  style: {\n    width: '220px',\n    'line-height': '36px',\n    'display': 'block',\n    'margin-left': '0px'\n  }\n}, {\n  th: \"net_value\",\n  show_type: \"text\",\n  decimal_places: 4,\n  name: \"单位净值\",\n  class_name: \"vue-product-table__align-right\",\n}, {\n  th: \"total_assets\",\n  show_type: \"text\",\n  decimal_places: 2,\n  name: \"总资产\",\n  class_name: \"vue-product-table__align-right\",\n}, {\n  th: \"net_assets\",\n  show_type: \"text\",\n  decimal_places: 2,\n  name: \"净资产\",\n  class_name: \"vue-product-table__align-right\",\n},{\n  th: \"begin_capital\",\n  show_type: \"text\",\n  decimal_places: 2,\n  name: \"期初规模\",\n  class_name: \"vue-product-table__align-right\",\n}, {\n  th: \"volume\",\n  show_type: \"modify-number\",\n  decimal_places: 4,\n  name: \"份额\",\n  class_name: \"vue-product-table__align-right\",\n  tip:'请输入份额',\n  ajax_url:'/bms-pub/product/modify_product_group',//ajax 请求地址\n  ajax_data(value){\n    return {group_id:value}\n  },//ajax默认字段,\n  ajax_type:'POST',\n}, {\n  th: \"total_assets_sec\",\n  show_type: \"text\",\n  decimal_places: 2,\n  name: \"证券账户总资产\",\n  class_name: \"vue-product-table__align-right\",\n}, {\n  th: \"total_assets_ctp\",\n  show_type: \"text\",\n  decimal_places: 2,\n  name: \"期货账户总资产\",\n  class_name: \"vue-product-table__align-right\",\n// }, {\n//   th: \"total_assets_otc\",\n//   show_type: \"modify\",\n//   name: \"场外总资产\",\n//   class_name: \"custom-table__align-right\",\n}, {\n  th: \"cash_bank\",\n  show_type: \"modify-number\",\n  decimal_places: 2,\n  name: \"银行存款\",\n  class_name: \"vue-product-table__align-right\",\n  tip:'请输入银行存款',\n  ajax_url:'/bms-pub/estimate/modify_cash',//ajax 请求地址\n  ajax_data(value){\n    return {group_id:value}\n  },//ajax默认字段,\n  ajax_type:'POST',\n}, {\n  th: \"accumulated_receive\",\n  show_type: \"text\",\n  decimal_places: 2,\n  name: \"累计应收\",\n  class_name: \"vue-product-table__align-right\",\n}, {\n  th: \"accumulated_pay\",\n  show_type: \"text\",\n  decimal_places: 2,\n  name: \"累计应付\",\n  class_name: \"vue-product-table__align-right\",\n}];\n//产品估值列表\nVue.component('vue-operation-table', {\n  props:['tableData'],\n  mixins: [numberMixin],\n  data(){\n    return {\n      table_list:[],\n      isLogining:false,\n    }\n  },\n  template:`\n    <table class=\"newweb-common-grid vue-product-table\">\n      <thead>\n        <tr style=\"height:36px;border-bottom:1px solid #D7D5D5\">\n          <template v-for=\"header in tableData\">\n            <th :class=\"header.class_name\" :style=\"header.style\" style=\"height:30px;padding-left:20px;padding-right:20px;\">{{header.name}}</th>\n          </template>\n        </tr>\n      </thead>\n      <tbody>\n      <template v-if=\"table_list.length != 0\">\n        <tr v-for=\"group in table_list\" style=\"border-bottom:1px solid #D7D5D5\">\n          <template v-for=\"header in tableData\">\n            \n            <td v-if=\"header.show_type=='text'\" :class=\"header.class_name\" :style=\"header.style\" style=\"height:36px;padding-left:20px;padding-right:20px;\" :title=\"numeralNumber(group[header.th], header.decimal_places)\">{{numeralNumber(group[header.th], header.decimal_places)}}</td>\n\n            <td v-if=\"header.show_type=='modify-number'\" :class=\"header.class_name\" style=\"height:36px;padding-left:20px;padding-right:20px;\">\n              <vue-modify-product-number @modify_value=\"modify_value($event,group,header.th)\" :label=\"header.name\" :tip=\"header.tip\" :value_down=\"numeralNumber(group[header.th],header.decimal_places)\"  :ajax_url=\"header.ajax_url\"  :ajax_data=\"header.ajax_data(group.id)\" :id=\"header.th\" :ajax_type=\"header.ajax_type\"></vue-modify-product-number>\n            </td>\n            <td v-if=\"header.show_type=='modify'\" :class=\"header.class_name\" style=\"height:30px;padding-left:20px;padding-right:20px;\">{{group[header.th]}}<a class=\"modify-remark__content__icon\" @click=\"show_setting(group.id)\"></a></td>\n          </template>\n        </tr>\n      </template>\n      <template  v-if=\"table_list.length == 0\">\n        <tr>\n          <td style=\"height:30px;padding-left:20px;padding-right:20px;\">暂无基金估值</td>\n        </tr>\n      </template>\n\n      </tbody>\n    </table>\n  `,\n  mounted(){\n    this.update_list();\n  },\n  watch:{\n    // table_list:{\n    //   handler(value,old){\n    //     console.log(value,old);\n    //     this.update_list();\n    //   },\n    //   deep:true,\n    // }\n    // table_list(){\n    //    this.update_list();\n    // }\n  },\n  methods:{\n    show_setting(id){\n      this.$root.show_setting(id);//修改root的 id并调整\n    },\n    modify_value(value,group,name){\n      //自定义事件，修改表格数据\n      // group[name] = value;\n      this.update_list();\n    },\n    update_list(){\n      if(this.isLogining){\n        return\n      }\n      this.isLogining  = true;\n      let _this = this;\n      $.ajax({\n        url: '/bms-pub/estimate/get_list',\n        type: 'GET',\n      })\n      .done(function(res) {\n        if(res.code == 0){\n          _this.table_list = res.data;\n        }else{\n           $.omsAlert(res.msg);\n        }\n      })\n      .fail(function() {\n         $.omsAlert('网络异常，请重试');\n      })\n      .always(function() {\n        _this.isLogining  = false;\n      });\n    }\n  }\n})\n//产外资产\nVue.component('vue-operation-outside', {\n  props:['option_list','group_id','product_info'],\n  data(){\n    return {\n      isLogining:false,\n    }\n  },\n  template:`\n    <div style=\"background: white;color:black;\" id=\"outside_asset\">\n      <vue-operation-search :option_list=option_list :group_id=group_id></vue-operation-search>\n      <asset-out-content :product_info=\"product_info\" :product_name=\"product_info.name\" :product_id=\"group_id\" v-if=\"product_info.cash\"></asset-out-content>\n    </div>\n  `,\n  watch:{\n    group_id(){\n      this.$root.pageProductInfo();\n    }\n  },\n  methods:{\n    // pageProductInfo() {\n    //   var _this = this;\n    //   if(this.isLogining){\n    //     return\n    //   }\n    //   this.isLogining = true;\n    //   $.ajax({\n    //     url: '/bms-pub/product/otc/list?group_id=' + this.group_id,\n    //     type: 'GET',\n    //     success: function success(res) {\n    //       if (0 == res.code) {\n    //         _this.product_info = res.data;\n    //       }\n    //     },\n    //     error: function error(res) {\n    //       $.omsAlert(res.msg);\n    //     }\n    //   }).always(function() {\n    //   _this.isLogining  = false;\n    // });;\n    // }\n  },\n  mounted(){\n   // this.pageProductInfo();\n  }\n});\nVue.component('asset-out-head', {\n  props: ['product_list', 'product_info', 'product_id'],\n  template: '\\n      <div class=\"asset_out_head\">\\n        <ul class=\"asset_out_head_title\">\\n          <li>\\n            <h1>\\u573A\\u5916\\u8D44\\u4EA7</h1>\\n            <vue-selectize :options=\"options\" :placeholder=\"\\'\\u8BF7\\u5148\\u9009\\u62E9\\u4EA7\\u54C1\\'\" :value=\"value\" v-on:input=\"chgSelected = ($event)\"></vue-selectize>\\n          </li>\\n        </ul>\\n        <p class=\"asset_out_head_disc\" v-if=\"product_list.length == 0\">\\u5F53\\u524D\\u6CA1\\u6709\\u4EA7\\u54C1\\u7EC4\\uFF0C\\u4E0D\\u652F\\u6301\\u573A\\u5916\\u8D44\\u4EA7\\u5F55\\u5165</p>\\n\\n      </div>\\n    ',\n  data: function data() {\n    return {\n      chgSelected: '',\n      // popup: false,\n      select_show: false,\n      // sele_input_show: false,\n      value: ''\n    };\n  },\n  computed: {\n    options: function options() {\n      //将数据通过options添加到下拉框中\n      var product_arr = [];\n      this.product_list.forEach(function (e) {\n        var obj = {\n          type: e.type,\n          label: e.name,\n          value: e.id\n        };\n        product_arr.push(obj);\n      });\n      return product_arr;\n    },\n    value: function value() {\n      //默认选中第一个账户\n      return this.product_id;\n    }\n  },\n  watch: { //数据监控\n    chgSelected: function chgSelected() {\n      //获取选中基金产品的id\n      this.$emit('change_selected', this.chgSelected);\n      \n    }\n  }\n});\n  //录入弹窗\n  Vue.component('asset-out-popup', {\n    props: ['options_pro',\"product_id\", 'select_show', 'po_pup', 'product_name', 'chgTypeSelected', 'income_cash'],\n    template: `\n      <div class=\"asset-out-popup\">\n        <div class=\"asset-out-popup-content\">\n          <h2 class=\"asset-out-popup-content-title\">{{getType()}}</h2>\n          <p class=\"closeBtn\" v-on:click=\"closeBtnFunc()\">x</p>\n          <table class=\"asset-out-popup-content-form\">\n            <thead>\n            <tr v-if=\"false\">\n              <td class=\"padd_bottom_20\">所属产品组<span>*</span></td>\n              <td style=\"position:relative;\"><input type=\"text\" disabled=\"disabled\" :title=\"product_name\" :value=\"product_name\" class=\"change_product_input\"/><span class=\"change_product_input_after\"></span></td>\n            </tr>\n            </thead>\n            <tbody v-if=\"chgTypeSelected == '1'\">\n              <tr>\n                <td class=\"padd_bottom_10\">定增股票<span>*</span></td>\n                <td class=\"padd_bottom_10\">\n                  <vue-stock-search :custom_cls=\"'asset-out-popup-content-form-num'\" :stock_input_id=\"stock_input_type_id\" v-on:stock_id=\"stock_id = $event\" v-on:stock_input=\"stock_input_type_id = $event\"></vue-stock-search>\n                </td>\n              </tr>\n              <tr>\n                <td class=\"padd_bottom_10\">数量<span>*</span></td>\n                <td class=\"padd_bottom_10\">\n                  <div class=\"asset-out-popup-content-form-num\"><input type=\"number\" value=\"\" placeholder=\"请输入数量\" v-on:keydown=\"onlyParseIntNum()\" class=\"stock_quantity_input\"/>股</div>\n                </td>\n              </tr>\n              <tr>\n                <td class=\"padd_bottom_10\">定增价格<span>*</span></td>\n                <td class=\"padd_bottom_10\">\n                  <div class=\"asset-out-popup-content-form-num\"><input type=\"number\" value=\"\" v-on:keydown=\"onlyParseFloatNum('.price_input')\" placeholder=\"请输入价格\" class=\"price_input\"/>元</div>\n                </td>\n              </tr>\n              <tr>\n                <td class=\"padd_bottom_10\">起始日期<span>*</span></td>\n                <td class=\"padd_bottom_10\">\n                  <vue-zebra_date_picker v-on:clear=\"startDate = $event\" :value=\"startDate\" v-on:select=\"startDate = ($event)\" ></vue-zebra_date_picker>\n                </td>\n              </tr>\n              <tr>\n                <td class=\"padd_bottom_10\">解锁日期<span>*</span></td>\n                <td class=\"padd_bottom_10\">\n                  <vue-zebra_date_picker :start_date_time=\"currentDate\" :value=\"currentDate\" v-on:select=\"currentDate = ($event)\" ></vue-zebra_date_picker>\n                </td>\n              </tr>\n              <tr>\n                <td colspan=\"2\" class=\"text-center-btn\">\n                  <button class=\"btn setByInputBtn\"  v-on:click=\"setByInput()\">确定</button>\n                </td>\n              </tr>\n            </tbody>\n            <tbody v-if=\"chgTypeSelected == '2'\">\n              <tr>\n                <td class=\"padd_bottom_10\">代码<span>*</span></td>\n                <td class=\"padd_bottom_10\"><input type=\"text\" value=\"\" placeholder=\"请输入证券代码\" class=\"stock_code_input\"/></td>\n              </tr>\n              <tr>\n                <td class=\"padd_bottom_10\">名称<span>*</span></td>\n                <td class=\"padd_bottom_10\"><input type=\"text\" value=\"\" placeholder=\"请输入名称\" class=\"stock_name\"/></td>\n              </tr>\n              <tr>\n                <td class=\"padd_bottom_10\">份额<span>*</span></td>\n                <td class=\"padd_bottom_10\"><input name=\"share\" type=\"number\" value=\"\" placeholder=\"请输入份额\" class=\"share\"/></td>\n              </tr>\n              <tr>\n                <td class=\"padd_bottom_10\">市值<span>*</span></td>\n                <td class=\"padd_bottom_10\"><div class=\"asset-out-popup-content-form-num\"><input type=\"number\" value=\"\" v-on:keydown=\"onlyParseFloatNum('.market_value')\" placeholder=\"请输入市值\" class=\"market_value\"/>元</div></td>\n              </tr>\n              <tr>\n                <td class=\"padd_bottom_10\">浮盈率</td>\n                <td class=\"padd_bottom_10\"><div class=\"asset-out-popup-content-form-num\"><input type=\"number\" value=\"\" v-on:keydown=\"onlyParseFloatNum('.profit_rate')\" placeholder=\"请输入浮盈率\" class=\"profit_rate\"/>%</div></td>\n              </tr>\n              <tr>\n                <td colspan=\"2\" class=\"text-center-btn\"><button class=\"btn\" v-on:click=\"monetaryFundInput()\">确定</button></td>\n              </tr>\n            </tbody>\n            <tbody v-if=\"chgTypeSelected == '3'\">\n              <tr>\n                <td class=\"padd_bottom_10\">自动读取<span>*</span></td>\n                <td class=\"padd_bottom_10\">\n                  <div class=\"asset-out-popup-content-form-num\">\n                    <form class=\"form_file\">\n                      <input style=\"display: block;\" class=\"input-disabled-file\" disabled=\"disabled\" type=\"text\" :value=\"income_cash && income_cash.read_url\" placeholder=\"请录入估值表文件名\"/>\n                    </form>\n                    <a class=\"input-btn\" v-on:click=\"autoSwapInput()\">读取</a>\n                  </div>\n                </td>\n              </tr>\n              <tr>\n                <td class=\"padd_bottom_10\">上传文件<span>*</span></td>\n                <td class=\"padd_bottom_10\">\n                  <div class=\"asset-out-popup-content-form-num\">\n                    <form method=\"post\" id=\"submit_file\" target=\"iframeName\" action=\"/task/uploadxls\">\n                      <input id=\"file-upload\" name=\"file\" type=\"file\" value=\"\" placeholder=\"请录入估值表文件名\"/>\n                    </form>\n                    <a class=\"input-btn\" v-on:click=\"incomeSwapInput()\">上传</a>\n\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n            <tbody v-if=\"chgTypeSelected == '4'\">\n              <tr>\n                <td class=\"padd_bottom_10\">金额<span>*</span></td>\n                <td class=\"padd_bottom_10\"><div class=\"asset-out-popup-content-form-num\"><input type=\"number\" value=\"\" v-on:keydown=\"onlyParseFloatNum('.amount')\" placeholder=\"请录入金额\" class=\"amount\"/>元</div></td>\n              </tr>\n              <tr>\n                <td>备注</td>\n                <td><textarea placeholder=\"请录入备注\" class=\"write_area\"></textarea></td>\n              </tr>\n              <tr>\n                <td colspan=\"2\" class=\"text-center-btn\"><button class=\"btn\" v-on:click=\"cashInput()\">确定</button></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    `,\n    data: function () {\n      return {\n        chgProSelected: '',\n        // chgTypeSelected: 1,\n        startDate: (function(){return moment().format('YYYY-MM-DD')})(),\n        currentDate: '',\n        stock_id: '', //股票id给后台传值\n        stock_input_type_id: '', //辅助寻找input框中股票id的前6位\n        options_type: [\n          {label: '定增',value: '1'},\n          {label: '场外货币基金', value: '2'},\n          {label: '收益互换', value: '3'},\n          {label: '现金', value: '4'}\n        ]\n      }\n    },\n    methods: {\n      getType: function(){\n        if (1 ==  this.chgTypeSelected) {\n          return '定增录入'\n        }else if(2 ==  this.chgTypeSelected){\n          return '货币基金录入'\n        }else if(3 ==  this.chgTypeSelected){\n          return '收益互换录入'\n        }else if(4 ==  this.chgTypeSelected){\n          return '场外现金资产录入'\n        }\n        return '';\n      },\n      closeBtnFunc: function () {  //弹窗关闭按钮事件\n        this.stock_id = '';\n        this.stock_input_type_id = '';\n        this.currentDate = '';\n        if (this.po_pup == true) {\n          this.$emit('change_popup', false);\n        }\n      },\n      onlyParseIntNum: function () { //只可输入整数\n        // if ((event.keyCode >= 48 && event.keyCode <= 57) || (event.keyCode >= 96 && event.keyCode <= 105) || event.keyCode == 8) {\n        //   event.returnValue=true;\n        // } else {\n        //   event.returnValue=false;\n        // }\n      },\n      onlyParseFloatNum: function (str) { //可输入整数和小数点，通过获取单独标签的value值来进行判断小数点的个数\n        if ((event.keyCode >= 48 && event.keyCode <= 57) || (event.keyCode >= 96 && event.keyCode <= 105) || event.keyCode == 8 || event.keyCode == 110 || event.keyCode == 190 || event.keyCode == 189 || event.keyCode == 109) {\n          if (($(str).val().indexOf('.') != -1 && event.keyCode == 110) || ($(str).val().indexOf('.') != -1 && event.keyCode == 190)) {\n            event.preventDefault();\n            return;\n          }\n          event.returnValue=true;\n        } else {\n          event.returnValue=false;\n        }\n      },\n      setByInput: function () {  //定增录入\n        //产品组id\n        if (this.product_id == '') {\n          var group_id = this.chgProSelected;\n        } else {\n          var group_id = this.product_id;\n        }\n        var _this = this;\n\n        //股票代码\n        var stock_id = this.stock_id;\n        //volume   持仓数量\n        var volume = $(\".stock_quantity_input\").val();\n        //stock_price 定增价格\n        var stock_price = $(\".price_input\").val();\n        //start_date 起始日期\n        var start_date = this.startDate;\n        //unlock_date 解锁日期\n        var unlock_date = this.currentDate;\n        if (group_id == ''){\n           $.omsAlert('产品组id不能为空');\n           return false;\n        }\n        if (stock_id == '') {\n          $.omsAlert('请输入正确的股票代码');\n          return false;\n        }\n        if (volume == '') {\n          $.omsAlert('持仓数量不能为空');\n          return false;\n        }\n        if (stock_price == '') {\n          $.omsAlert('定增价格不能为空');\n          return false;\n        }\n        if (start_date == '') {\n          $.omsAlert('起始日期不能为空');\n          return false;\n        }\n        if (unlock_date == '') {\n          $.omsAlert('解锁日期不能为空');\n          return false;\n        }\n        //起始日期  和  解锁日期 进行比较\n        if (start_date >= unlock_date) {\n          $.omsAlert('解锁日期必须大于起始日期');\n          return false;\n        }\n        $.ajax({\n          url: '/bms-pub/product/otc/private_placement/add',\n          type: 'POST',\n          data: {\n            group_id: group_id,\n            stock_id: stock_id,\n            volume: volume,\n            stock_price: stock_price,\n            start_date: start_date,\n            unlock_date: unlock_date\n          },\n          success: function (res) {\n            if (0 == res.code) {\n              _this.$emit('change_popup', false);\n              $.omsAlert(\"录入成功\");\n              //录入成功之后清空数据\n              $(\".stock_quantity_input\").val('');\n              $(\".price_input\").val('');\n              $(\".client-stockInput\").val('');\n              _this.stock_id = '';\n              _this.stock_input_type_id = '';\n              _this.currentDate = '';\n              if (_this.product_id != '') {\n                _this.$root.pageProductInfo(group_id);\n              }\n            } else {\n              $.omsAlert(res.msg);\n            }\n          },\n          error: function () {\n            $.omsAlert(res.msg);\n          }\n        })\n      },\n      monetaryFundInput: function () { //货币基金录入\n        //产品组id\n        if (this.product_id == '') {\n          var group_id = this.chgProSelected;\n        } else {\n          var group_id = this.product_id;\n        }\n        //股票代码\n        var stock_id = $(\".stock_code_input\").val();\n        //stock_name 股票名称\n        var stock_name = $(\".stock_name\").val();\n        // share 份额\n        var share = $('.share').val();\n        //market_value   市值\n        var market_value = $(\".market_value\").val();\n        //profit_rate 浮盈率\n        var profit_rate = $(\".profit_rate\").val()/100;\n        var _this = this;\n        if (group_id == ''){\n          $.omsAlert('产品组id不能为空');\n          return false;\n        }\n        if (stock_id == '') {\n          $.omsAlert('证券代码不能为空');\n          return false;\n        }\n        if (stock_name == '') {\n          $.omsAlert('名称不能为空');\n          return false;\n        }\n        if (share == '') {\n          $.omsAlert('份额不能为空');\n          return false;\n        }\n        if (market_value == '') {\n          $.omsAlert('市值不能为空');\n          return false;\n        }\n        // if (profit_rate == '') {\n        //   $.omsAlert('浮盈率不能为空');\n        //   return false;\n        // }\n        $.ajax({\n          url: '/bms-pub/product/otc/monetary_fund/add',\n          type: 'POST',\n          data: {\n            group_id: group_id,\n            stock_id: stock_id,\n            stock_name: stock_name,\n            volume: share,\n            market_value: market_value,\n            profit_rate: profit_rate\n          },\n          success: function (res) {\n            if (0 == res.code) {\n              _this.$emit('change_popup', false);\n              $.omsAlert('录入成功');\n              //清空数据\n              $(\".stock_code_input\").val('');\n              $(\".stock_name\").val('');\n              $(\".market_value\").val('');\n              $(\".profit_rate\").val('');\n              $('.share').val('');\n              if (_this.product_id != '') {\n                _this.$root.pageProductInfo(group_id);\n              }\n            } else {\n              $.omsAlert(res.msg);\n            }\n          },\n          error: function () {\n            $.omsAlert(res.msg);\n          }\n        })\n      },\n      autoSwapInput: function(){//收益互换字段录入\n        //产品组id\n        if (this.product_id == '') {\n          var group_id = this.chgProSelected;\n        } else {\n          var group_id = this.product_id;\n        }\n        var _this = this;\n        //upload_file 标准上传数据流格式\n        if (group_id == '') {\n          $.omsAlert(\"产品组id不能为空\")\n          return false;\n        }\n        $.startLoading('正在读取');\n        $.ajax({\n          url: '/bms-pub/product/otc/income_swap/read',\n          type: 'post',\n          data: {\n            group_id: group_id\n          },\n          success: function({code, msg, data}){\n            if (0 == code) {\n              _this.$root.doRefresh();\n              $.clearLoading();\n              $.omsAlert('读取成功');\n            }else{\n              $.clearLoading();\n              $.omsAlert(msg);\n            }\n          },\n          error: function(){\n            $.clearLoading();\n            $.omsAlert('网络异常，请重试')\n          }\n        })\n      },\n      incomeSwapInput: function () { //收益互换录入\n        //产品组id\n        if (this.product_id == '') {\n          var group_id = this.chgProSelected;\n        } else {\n          var group_id = this.product_id;\n        }\n        var _this = this;\n        //upload_file 标准上传数据流格式\n        if (group_id == '') {\n          $.omsAlert(\"产品组id不能为空\")\n          return false;\n        }\n        var form = new FormData(document.getElementById(\"submit_file\"));\n\n        var oFile = document.getElementById(\"submit_file\").file.files[0];\n\n        if (undefined == oFile) {\n          $.omsAlert('请选择正确的文件');\n          return false;\n        }\n        let reader = new FileReader();\n        $.startLoading('正在读取');\n        reader.onload = function (oFREvent) {\n          $.ajax({\n            url: '/task/uploadxls',\n            // url: \" {{ config('platform.utility_control_uri')}}\"  + \"/task/uploadxls\",\n            type: 'POST',\n            data: form,\n            processData: false,\n            contentType: false,\n            success: function (res) {\n              res = JSON.parse(res);\n              if (res.code == 0) {\n                var upload = res.data.upload;\n                $.ajax({\n                  url: '/bms-pub/product/otc/income_swap/add',\n                  type: 'POST',\n                  data: {\n                    group_id: group_id,\n                    upload_file: upload\n                  },\n                  success: function (res) {\n                    if (0 == res.code) {\n                      _this.$emit('change_popup', false);\n                      _this.$root.doRefresh();\n                      $.clearLoading();\n                      $.omsAlert('录入成功');\n                      // if (_this.product_id != '') {\n                      //   asset_out.pageProductInfo(group_id);\n                      // }\n                    } else {\n                      $.clearLoading();\n                      $.omsAlert(res.msg);\n                    }\n                  },\n                  error: function () {\n                    $.clearLoading();\n                    $.omsAlert(res.msg);\n                  }\n                })\n              } else {\n                $.clearLoading();\n                $.omsAlert(res.msg)\n              }\n            },\n            error: function () {\n              $.clearLoading();\n              $.omsAlert('网络异常，请重试')\n            }\n          })\n        };\n        reader.onerror = function (oFREvent) {\n          $.omsAlert('文件读取失败，请重试')\n        };\n        reader.readAsDataURL(oFile);\n      },\n      cashInput: function () { //现金录入\n        //产品组id\n        if (this.product_id == '') {\n          var group_id = this.chgProSelected;\n        } else {\n          var group_id = this.product_id;\n        }\n        //amount   资金\n        var amount = $(\".amount\").val();\n        //备注\n        var remark = $(\".write_area\").val();\n        if (group_id == '') {\n          $.omsAlert('产品组id不能为空');\n          return false;\n        }\n        if (amount == '') {\n          $.omsAlert('资金不能为空');\n          return false;\n        }\n        var _this = this;\n        $.ajax({\n          url: '/bms-pub/product/otc/cash/add',\n          type: 'POST',\n          data: {\n            group_id: group_id,\n            amount: amount,\n            remark: remark\n          },\n          success: function (res) {\n            if (0 == res.code) {\n              _this.$emit('change_popup', false);\n              $.omsAlert('录入成功');\n              $(\".amount\").val('');\n              $(\".write_area\").val('');\n              if (_this.product_id != '') {\n                _this.$root.pageProductInfo(group_id);\n              }\n            } else {\n              $.omsAlert(res.msg);\n            }\n          },\n          error: function () {\n            $.omsAlert(res.msg);\n          }\n        });\n      }\n    },\n    watch: { //数据监控\n      chgProSelected: function(){  //获取选中基金产品的id\n        this.$emit('change_pro_selected', this.chgProSelected);\n      },\n      chgTypeSelected: function(){  //获取选中基金产品的id\n        this.$emit('change_type_selected', this.chgTypeSelected);\n      },\n      stock_id: function () { //定增股票id\n        this.$emit('change_input_id', this.stock_id);\n      }\n    }\n  })\n  //主体  --  子组件\n  Vue.component('asset-out-content', {\n    mixins: [numberMixin], //在component.js中引入numberMixin插件名，就可以直接调用里面的插件内容numeralNumber\n    props: ['product_info', 'product_id', 'product_name'],\n    template: `\n      <div class=\"asset_out_content\">\n        <div class=\"asset_out_content_set\">\n          <p>\n            <span  v-html=\"'定增（市值：¥ '+ numeralNumber(set_by_markert(),2) + '）'\"></span>\n            <b class=\"trigale trigale_set\" v-on:click=\"trigaleSet()\"></b>\n            <a v-on:click=\"clear_jconfirm = true;action_type = 1;\" class=\"bem-ui-btn\" style=\"float: right;margin-right: 20px;\">清空</a>\n            <a v-on:click=\"popup = true;chgTypeSelected = 1;\" class=\"bem-ui-btn\" style=\"float: right;margin-right: 10px;\">录入资产</a>\n          </p>\n          <table class=\"asset_out_content_set_table\" v-show=\"trigale_set_table\">\n            <thead>\n              <tr>\n                <td class=\"padd_left\">定增股票</td>\n                <td class=\"padd_right_100\">数量</td>\n                <td class=\"padd_right\">定增价格</td>\n                <td class=\"padd_right_150\">市值</td>\n                <td class=\"padd_left padd_right_60\">起始日期</td>\n                <td class=\"padd_left\">解锁日期</td>\n                <td class=\"padd_right\"></td>\n              </tr>\n            </thead>\n            <tbody  v-for=\"private_placement in product_info.private_placement\" v-if=\"product_info.private_placement.length > 0\">\n              <tr>\n                <td class=\"padd_left\">{{private_placement.stock_id}}&nbsp;&nbsp;{{private_placement.stock_name}}</td>\n                <td class=\"padd_right_100\">{{private_placement.volume}}</td>\n                <td class=\"padd_right\">{{numeralNumber(private_placement.stock_price,3)}}</td>\n                <td class=\"padd_right_150\">{{numeralNumber(private_placement.market_value,2)}}</td>\n                <td class=\"padd_left padd_right_60\">{{private_placement.start_date}}</td>\n                <td class=\"padd_left\">{{private_placement.unlock_date}}</td>\n                <td class=\"padd_right\">\n                  <a class=\"modify\" v-on:click=\"changeModify(private_placement)\">修改</a>\n                  <a class=\"deleted\" v-on:click=\"doSetByDelete(private_placement.id)\">删除</a>\n                </td>\n              </tr>\n              <tr class=\"asset_out_content_set_modify\" v-show=\"change_id == private_placement.id\">\n                <td colspan=\"7\">\n                  <ul>\n                    <li>\n                      <span>数量</span>\n                      <div>\n                        <input type=\"number\" v-model=\"change_val\" v-on:keydown=\"onlyParseIntNum()\"/>股\n                      </div>\n                    </li>\n                    <li>\n                      <span>定增价格</span>\n                      <div>\n                        <input type=\"number\" v-model=\"change_price\" v-on:keydown=\"onlyParseFloatNum(change_price)\"/>元\n                      </div>\n                    </li>\n                    <li>\n                      <span>起始日期</span>\n                      <vue-zebra_date_picker v-on:clear=\"change_start_time = $event\" :value=\"change_start_time\" v-on:select=\"change_start_time = ($event)\"></vue-zebra_date_picker>\n                    </li>\n                    <li>\n                      <span>解锁日期</span>\n                      <vue-zebra_date_picker v-on:clear=\"change_unlock_time = $event\" :value=\"change_unlock_time\" v-on:select=\"change_unlock_time = ($event)\" ></vue-zebra_date_picker>\n                    </li>\n                    <li>\n                      <button class=\"preservation\" v-on:click=\"setByPreser(private_placement.id)\">保存</button>\n                      <button class=\"cancel\" v-on:click=\"change_id = ''\">取消</button>\n                    </li>\n                  </ul>\n                </td>\n              </tr>\n            </tbody>\n            <tbody v-if=\"product_info.private_placement.length == 0\">\n              <tr>\n                <td colspan=\"7\" style=\"text-align:left;padding-left:10px;\"><p>没有相关数据</p></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class=\"asset_out_content_set\">\n          <p>\n            <span v-html=\"'货币基金（市值：¥ ' + numeralNumber(currency_markert(),2) + '）'\"></span>\n            <b class=\"trigale trigale_currenty_table\" v-on:click=\"trigaleCurrenty()\"></b>\n            <a v-on:click=\"clear_jconfirm = true;action_type = 2;\" class=\"bem-ui-btn\" style=\"float: right;margin-right: 20px;\">清空</a>\n            <a v-on:click=\"popup = true;chgTypeSelected = 2;\" class=\"bem-ui-btn\" style=\"float: right;margin-right: 10px;\">录入资产</a>\n          </p>\n          <table class=\"asset_out_content_set_table\" v-show=\"trigale_currenty_table\">\n            <thead>\n              <tr>\n                <td class=\"padd_left\">代码</td>\n                <td class=\"padd_left\">名称</td>\n                <td class=\"padd_right\">份额</td>\n                <td class=\"padd_right\">市值</td>\n                <td class=\"padd_right\">浮盈率</td>\n                <td class=\"padd_right\"></td>\n              </tr>\n            </thead>\n            <tbody  v-for=\"monetary_fund in product_info.monetary_fund\" v-if=\"product_info.monetary_fund.length > 0\">\n              <tr>\n                <td class=\"padd_left\">{{monetary_fund.stock_id}}</td>\n                <td class=\"padd_left\">{{monetary_fund.stock_name}}</td>\n                <td class=\"padd_right\">{{numeralNumber(monetary_fund.volume,0)}}</td>\n                <td class=\"padd_right\">{{numeralNumber(monetary_fund.market_value,2)}}</td>\n                <td class=\"padd_right\" :class=\"{red: checkPositive(monetary_fund.profit_rate), green: checkNegative(monetary_fund.profit_rate)}\">{{numeralNumber(monetary_fund.profit_rate*100,2)+ '%'}}</td>\n                <td class=\"padd_right\">\n                  <a class=\"modify\" v-on:click=\"change_asset_id = monetary_fund.id, change_asset_market = monetary_fund.market_value, change_asset_profit = monetary_fund.profit_rate*100, change_asset_volume = monetary_fund.volume\">修改</a>\n                  <a class=\"deleted\" v-on:click=\"doMonetaryDelete(monetary_fund.id)\">删除</a>\n                </td>\n              </tr>\n              <tr class=\"asset_out_content_set_modify\" v-show=\"change_asset_id == monetary_fund.id\">\n                <td colspan=\"7\">\n                  <ul>\n                    <li>\n                      <span>份额</span>\n                      <div>\n                        <input type=\"number\" v-model=\"change_asset_volume\" v-on:keydown=\"onlyParseFloatNum(change_asset_volume)\"/>\n                      </div>\n                    </li>\n                    <li>\n                      <span>市值</span>\n                      <div>\n                        <input type=\"number\" v-model=\"change_asset_market\" v-on:keydown=\"onlyParseFloatNum(change_asset_market)\"/>元\n                      </div>\n                    </li>\n                    <li>\n                      <span>浮盈率</span>\n                      <div>\n                        <input type=\"number\" v-model=\"change_asset_profit\" v-on:keydown=\"onlyParseFloatNum(change_asset_profit)\"/>%\n                      </div>\n                    </li>\n                    <li>\n                      <button class=\"preservation\" v-on:click=\"monetaryPreser(monetary_fund.id)\">保存</button>\n                      <button class=\"cancel\" v-on:click=\"change_asset_id = ''\">取消</button>\n                    </li>\n                  </ul>\n                </td>\n              </tr>\n            </tbody>\n            <tbody v-if=\"product_info.monetary_fund.length == 0\">\n              <tr>\n                <td colspan=\"7\" style=\"text-align:left;padding-left:10px;\"><p>没有相关数据</p></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class=\"asset_out_content_set\">\n          <p>\n            <span v-html=\"'收益互换（市值：¥ ' + numeralNumber(income_swap_markert(),2) + '）'\"></span>\n            <b class=\"trigale trigale_income_table\" v-on:click=\"trigaleIncome()\"></b>\n            <span class=\"dot-tip exclamation\" v-show=\"product_info.income_cash && product_info.income_cash.err_info != '' && product_info.income_cash.err_info != undefined\" style=\"margin-right: 10px;vertical-align: bottom;\">\n              <div v-on:mouseover=\"language_show()\" v-on:mouseout=\"language_hide()\">\n                <em>i</em>\n                <span class=\"str\">\n                  <span class=\"msg\">\n                    <span v-text=\"product_info.income_cash.err_info\"></span>\n                  </span>\n                </span>\n              </div>\n            </span>\n            <a v-on:click=\"clear_jconfirm = true;action_type = 3;\" class=\"bem-ui-btn\" style=\"float: right;margin-right: 20px;\">清空</a>\n            <a v-on:click=\"popup = true;chgTypeSelected = 3;\" class=\"bem-ui-btn\" style=\"float: right;margin-right: 10px;\">录入资产</a>\n          </p>\n          <table class=\"asset_out_content_set_table asset_out_content_set_body\" v-show=\"trigale_income_table\">\n            <thead>\n              <tr>\n                <td class=\"padd_left\">客户号</td>\n                <td class=\"padd_left\">清单编号</td>\n                <td class=\"padd_left\">估值日期</td>\n                <td class=\"padd_left\">证券代码</td>\n                <td class=\"padd_left\">证券名称</td>\n                <td class=\"padd_left\">持仓类型</td>\n                <td class=\"padd_right\">标的数量</td>\n                <td class=\"padd_right\">交易货币</td>\n                <td class=\"padd_right\">期初价格</td>\n                <td class=\"padd_right\">当前价格</td>\n                <td class=\"padd_right\">涨跌幅</td>\n                <td class=\"padd_right\">总成本</td>\n                <td class=\"padd_right\">累计实现收益</td>\n                <td class=\"padd_right\">总浮动盈亏</td>\n                <td class=\"padd_right\">市值</td>\n              </tr>\n            </thead>\n            <tbody v-for=\"income_swap in product_info.income_swap\" v-if=\"product_info.income_swap.length > 0\" >\n              <tr>\n                <td class=\"padd_left\">{{income_swap.guest_id}}</td>\n                <td class=\"padd_left\">{{income_swap.list_number}}</td>\n                <td class=\"padd_left\">{{income_swap.valuation_date}}</td>\n                <td class=\"padd_left\">{{income_swap.security_id}}</td>\n                <td class=\"padd_left\">{{income_swap.security_name}}</td>\n                <td class=\"padd_left\" v-if=\"income_swap.position_type == ''\">--</td>\n                <td class=\"padd_left\" v-else>{{income_swap.position_type}}</td>\n                <td class=\"padd_right\">{{income_swap.hold_volume}}</td>\n                <td class=\"padd_right\">{{income_swap.currency}}</td>\n                <td class=\"padd_right\">{{numeralNumber(income_swap.begin_price,3)}}</td>\n                <td class=\"padd_right\">{{numeralNumber(income_swap.current_price,3)}}</td>\n                <td class=\"padd_right\" :class=\"{red: checkPositive(income_swap.rise_fall_rate), green: checkNegative(income_swap.rise_fall_rate)}\">{{numeralNumber(income_swap.rise_fall_rate*100,2)+ '%'}}</td>\n                <td class=\"padd_right\">{{numeralNumber(income_swap.total_cost,2)}}</td>\n                <td class=\"padd_right\">{{numeralNumber(income_swap.accumulate_profit,2)}}</td>\n                <td class=\"padd_right\">{{numeralNumber(income_swap.total_profit,2)}}</td>\n                <td class=\"padd_right\">{{numeralNumber(income_swap.market_value,2)}}</td>\n              </tr>\n            </tbody>\n            <tbody v-if=\"product_info.income_swap.length == 0\">\n              <tr>\n                <td colspan=\"15\" style=\"text-align:left;padding-left:10px;\"><p>没有相关数据</p></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class=\"asset_out_content_set\">\n          <p>\n            <span>场外现金资产</span>\n            <b class=\"trigale trigale_asset_table\" v-on:click=\"trigaleAsset()\"></b>\n            <a v-on:click=\"clear_jconfirm = true;action_type = 4;\" class=\"bem-ui-btn\" style=\"float: right;margin-right: 20px;\">清空</a>\n            <a v-on:click=\"popup = true;chgTypeSelected = 4;\" class=\"bem-ui-btn\" style=\"float: right;margin-right: 10px;\">录入资产</a>\n          </p>\n          <table class=\"asset_out_content_set_table\" v-show=\"trigale_asset_table\">\n            <thead>\n              <tr>\n                <td class=\"padd_left\">金额</td>\n                <td class=\"padd_left\">备注</td>\n                <td class=\"padd_right\"></td>\n              </tr>\n            </thead>\n            <tbody v-for=\"cash in product_info.cash\" v-if=\"product_info.cash.length > 0\">\n              <tr>\n                <td class=\"padd_left\">{{numeralNumber(cash.amount,2)}}</td>\n                <td class=\"padd_left\" v-if=\"cash.remark != ''\">{{cash.remark}}</td>\n                <td class=\"padd_left\" v-else>--</td>\n                <td class=\"padd_right\"><a class=\"modify\" v-on:click=\"change_cash_id = cash.id, change_cash_val = cash.amount, change_cash_remark = cash.remark\">修改</a>   <a class=\"deleted\" v-on:click=\"doCashDelete(cash.id)\">删除</a></td>\n              </tr>\n              <tr class=\"asset_out_content_set_modify\" v-show=\"change_cash_id == cash.id\">\n                <td colspan=\"7\">\n                  <ul>\n                    <li>\n                      <span>金额</span>\n                      <div>\n                        <input type=\"number\" v-model=\"change_cash_val\" v-on:keydown=\"onlyParseFloatNum(change_cash_val)\"/>元\n                      </div>\n                    </li>\n                    <li>\n                      <span>备注</span>\n                      <div style=\"width:350px;\">\n                        <input type=\"text\" v-model=\"change_cash_remark\" class=\"cash_remark\" :placeholder=\"'最多不超过50个字'\"/>\n                      </div>\n                    </li>\n                    <li>\n                      <button class=\"preservation\" v-on:click=\"changePreser(cash.id)\">保存</button>\n                      <button class=\"cancel\" v-on:click=\"change_cash_id = ''\">取消</button>\n                    </li>\n                  </ul>\n                </td>\n              </tr>\n            </tbody>\n            <tbody v-if=\"product_info.cash.length == 0\">\n              <tr>\n                <td colspan=\"7\" style=\"text-align:left;padding-left:10px;\"><p>没有相关数据</p></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <asset_jconfirm v-show=\"jconfirm\"></asset_jconfirm>\n        <clear_jconfirm v-show=\"clear_jconfirm\" :product_name=\"product_name\" :action_type=\"action_type\" v-on:doHide=\"clear_jconfirm = false;\" v-on:doClear=\"doClear()\"></clear_jconfirm>\n        <asset-out-popup v-show=\"popup\" :income_cash=\"product_info.income_cash\" :product_name=\"product_name\" :po_pup=\"popup\" :product_id=\"product_id\" :chgTypeSelected=\"chgTypeSelected\" v-on:change_popup=\"popup = $event\"></asset-out-popup>\n      </div>\n    `,\n    data: function () {\n      return {\n        clear_jconfirm: false,\n        action_type: 1,\n        chgTypeSelected: 1,\n        popup: false,\n        asset_show: false,\n        change_id: '',\n        change_cash_id: '',\n        change_asset_id: '',\n        change_start_time: '',//起始时间\n        change_unlock_time: '',//解锁时间\n        change_val: '',//定增数量\n        change_price: '',//定增价格\n        change_asset_market: '',//货币基金市值\n        change_asset_profit: '', //货币基金浮盈率\n        change_asset_volume: '',//货币基金份额\n        change_cash_val: '',//场外现金\n        change_cash_remark: '',\n        trigale_set_table: true,\n        trigale_currenty_table: true,\n        trigale_income_table: true,\n        trigale_asset_table: true,\n        jconfirm: false\n      }\n    },\n    methods: {\n      language_show: function () {\n        $(this.$el).find('.str').show();\n        if ($(this.$el).find('.str .msg').css('width').split('px')[0] > 246) {\n          $(this.$el).find('.str .msg').addClass('hover-tip-width');\n        } else {\n          $(this.$el).find('.str .msg').removeClass('hover-tip-width');\n        }\n      },\n      language_hide: function () {\n        $(this.$el).find('.str').hide();\n        $(this.$el).find('.str .msg').removeClass('hover-tip-width');\n      },\n      doClear: function(){\n        let _this = this;\n        let url = '';\n        if (1 == this.action_type) {\n          url = '/bms-pub/product/otc/private_placement/clear';\n        }else if(2 == this.action_type){\n          url = '/bms-pub/product/otc/monetary_fund/clear';\n        }else if(3 == this.action_type){\n          url = '/bms-pub/product/otc/income_swap/clear';\n        }else if(4 == this.action_type){\n          url = '/bms-pub/product/otc/cash/clear';\n        }\n\n        $.ajax({\n          url: url,\n          type: 'post',\n          data: {\n            group_id: this.product_id\n          },\n          success: function({code, msg, data}){\n            if (0 == code) {\n              _this.clear_jconfirm = false;\n\n              _this.$root.doRefresh();\n            }else{\n              $.omsAlert(msg)\n            }\n          },\n          error: function(){\n            $.omsAlert('网络异常，请重试')\n          }\n        })\n      },\n      checkPositive: function(num){  //比较数字大小\n        return parseFloat(num) > 0;\n      },\n      checkNegative: function(num){ //比较数字大小\n        return parseFloat(num) < 0;\n      },\n      onlyParseIntNum: function () { //只可输入整数\n        // if ((event.keyCode >= 48 && event.keyCode <= 57) || (event.keyCode >= 96 && event.keyCode <= 105) || event.keyCode == 8) {\n        //   event.returnValue=true;\n        // } else {\n        //   event.returnValue=false;\n        // }\n      },\n      onlyParseFloatNum: function (str) { //可输入整数和小数点 ,直接通过input框中输入的数字的变化来进行小数点的数字判断\n        //event.keyCode>=48 && event.keyCode<=57，代表主键盘0到9的数字\n        //event.keyCode>=96 && event.keyCode<=105，代表小键盘0到9的数字\n        //event.keyCode=8，代表BackSpace键\n        //event.keyCode==110, event.keyCode==190，代表小键盘区和主键盘区的小数点\n        var str = ''+str;\n        if ((event.keyCode >= 48 && event.keyCode <= 57) || (event.keyCode >= 96 && event.keyCode <= 105) || event.keyCode == 8 || event.keyCode == 110 || event.keyCode == 190 || event.keyCode == 189 || event.keyCode == 109) {\n          //只允许输入一个小数点\n          if ((str.indexOf('.') != -1 && event.keyCode == 110) || (str.indexOf('.') != -1 && event.keyCode == 190)) {\n            event.preventDefault();\n            return;\n          }\n          event.returnValue=true;\n        } else {\n          event.returnValue=false;\n        }\n      },\n      changeModify: function (row) { //点击修改,传进一个数组，直接调用数组中的某些参数\n        this.change_id = row.id;\n        this.change_val = row.volume;\n        this.change_price = row.stock_price;\n        this.change_start_time = row.start_date;\n        this.change_unlock_time = row.unlock_date;\n      },\n      trigaleSet: function () {  //定增点击展开与收缩\n        if (this.trigale_set_table == true) {\n          this.trigale_set_table = false;\n          $(\".trigale_set\").css('transform', 'rotate(180deg)');\n        } else if (this.trigale_set_table == false) {\n          this.trigale_set_table = true;\n          $(\".trigale_set\").css('transform', 'rotate(360deg)')\n        }\n      },\n      trigaleCurrenty: function () { //货币 点击展开与收缩\n        if (this.trigale_currenty_table == true) {\n          this.trigale_currenty_table = false;\n          $(\".trigale_currenty_table\").css('transform', 'rotate(180deg)');\n        } else if (this.trigale_currenty_table == false) {\n          this.trigale_currenty_table = true;\n          $(\".trigale_currenty_table\").css('transform', 'rotate(360deg)')\n        }\n      },\n      trigaleIncome: function () {  //收益互换点击  展开与收缩\n        if (this.trigale_income_table == true) {\n          this.trigale_income_table = false;\n          $(\".trigale_income_table\").css('transform', 'rotate(180deg)');\n        } else if (this.trigale_income_table == false) {\n          this.trigale_income_table = true;\n          $(\".trigale_income_table\").css('transform', 'rotate(360deg)')\n        }\n      },\n      trigaleAsset: function () { //场外现金 点击  展开与收缩\n        if (this.trigale_asset_table == true) {\n          this.trigale_asset_table = false;\n          $(\".trigale_asset_table\").css('transform', 'rotate(180deg)');\n        } else if (this.trigale_asset_table == false) {\n          this.trigale_asset_table = true;\n          $(\".trigale_asset_table\").css('transform', 'rotate(360deg)')\n        }\n      },\n      set_by_markert: function () {  //定增总市值\n        var val = 0;\n        this.product_info.private_placement.forEach(function (e) {\n          val += parseFloat(e.market_value);\n        })\n        return val;\n      },\n      currency_markert: function () { //货币基金总市值\n        var val = 0;\n        this.product_info.monetary_fund.forEach(function (e) {\n          val += parseFloat(e.market_value);\n        })\n        return val;\n      },\n      income_swap_markert: function () { //收益互换总市值\n        var val = 0;\n        this.product_info.income_swap.forEach(function (e) {\n          if (e.exchange_rate != 0) {\n            var market_value = e.exchange_rate * e.market_value;\n            val += parseFloat(market_value);\n          } else {\n            val += parseFloat(e.market_value);\n          }\n        })\n        return val;\n      },\n      doSetByDelete: function (id) { //定增删除\n        var _this = this;\n        _this.jconfirm = true;\n        $('.custom-for-delete').off().on('click', '.closeIcon', function(){\n          _this.clear_jconfirm = false;\n          _this.jconfirm = false;\n        }).on('click', '.vue-confirm__btns--submit', function(){\n          _this.jconfirm = false;\n          $.ajax({\n            url: '/bms-pub/product/otc/private_placement/delete',\n            type: 'POST',\n            data: {\n              id: id\n            },\n            success: function (res) {\n              if (0 == res.code) {\n                $.omsAlert('删除成功');\n                _this.$root.pageProductInfo(_this.$root.group_id);\n              } else {\n                $.omsAlert(res.msg);\n              }\n            },\n            error: function () {\n              $.omsAlert('删除失败');\n            }\n          })\n        });\n      },\n      doMonetaryDelete: function (id) { //货币删除\n        var _this = this;\n        _this.jconfirm = true;\n        $('.custom-for-delete').off().on('click', '.closeIcon', function(){\n          _this.clear_jconfirm = false;\n          _this.jconfirm = false;\n        }).on('click', '.vue-confirm__btns--submit', function(){\n          _this.jconfirm = false;\n          $.ajax({\n            url: '/bms-pub/product/otc/monetary_fund/delete',\n            type: 'POST',\n            data: {\n              id: id\n            },\n            success: function (res) {\n              if (0 == res.code) {\n                $.omsAlert('删除成功');\n                _this.$root.pageProductInfo(_this.$root.product_id);\n              } else {\n                $.omsAlert(res.msg);\n              }\n            },\n            error: function () {\n              $.omsAlert('删除失败');\n            }\n          })\n        })\n      },\n      doCashDelete: function (id) { //现金删除\n        var _this = this;\n        _this.jconfirm = true;\n        $('.custom-for-delete').off().on('click', '.closeIcon', function(){\n          _this.clear_jconfirm = false;\n          _this.jconfirm = false;\n        }).on('click', '.vue-confirm__btns--submit', function() {\n          _this.jconfirm = false;\n          $.ajax({\n            url: '/bms-pub/product/otc/cash/delete',\n            type: 'POST',\n            data: {\n              id: id\n            },\n            success: function (res) {\n              if (0 == res.code) {\n                $.omsAlert('删除成功');\n                _this.$root.pageProductInfo(_this.$root.group_id);\n              } else {\n                $.omsAlert(res.msg);\n              }\n            },\n            error: function () {\n              $.omsAlert('删除失败');\n            }\n          })\n        })\n      },\n      changePreser: function (id) {//现金资产保存\n        //金额\n        var amount = this.change_cash_val;\n        //备注\n        var remark = this.change_cash_remark;\n        var _this = this;\n        $.ajax({\n          url: '/bms-pub/product/otc/cash/modify',\n          type: 'POST',\n          data: {\n            id: id,\n            amount: amount,\n            remark: remark\n          },\n          success: function (res) {\n            if (0 == res.code) {\n              _this.change_cash_id = '';\n              //重新获取当前选中基金的内容\n              _this.$root.pageProductInfo(_this.$root.group_id);\n              //刷新下拉列表\n              // asset_out.pageProductList();\n              $.omsAlert('修改成功');\n            } else {\n              $.omsAlert(res.msg);\n            }\n          },\n          error: function () {\n            $.omsAlert('网络异常')\n          }\n        })\n      },\n      monetaryPreser: function (id) {//货币基金资产保存\n        //市值\n        var market_value = this.change_asset_market;\n        //浮盈率\n        var profit_rate = this.change_asset_profit / 100;\n        //份额\n        var volume = this.change_asset_volume;\n        var _this = this;\n        $.ajax({\n          url: '/bms-pub/product/otc/monetary_fund/modify',\n          type: 'POST',\n          data: {\n            id: id,\n            market_value: market_value,\n            profit_rate: profit_rate,\n            volume: volume,\n          },\n          success: function (res) {\n            if (0 == res.code) {\n              _this.change_asset_id = '';\n              //重新获取当前选中基金的内容\n              _this.$root.pageProductInfo(_this.$root.group_id);\n              //刷新下拉列表\n              // asset_out.pageProductList();\n              $.omsAlert('修改成功');\n            } else {\n              $.omsAlert(res.msg)\n            }\n          },\n          error: function () {\n            $.omsAlert('网络异常');\n          }\n        })\n      },\n      setByPreser: function (id) {//定增保存\n        //数量\n        var volume_val = this.change_val;\n        //定增价格\n        var stock_price_val = this.change_price;\n        //起始日期\n        var startDate_time = this.change_start_time;\n        //解锁日期\n        var currentDate_time = this.change_unlock_time;\n        if (startDate_time == '') {\n          $.omsAlert('起始日期不能为空');\n          return false;\n        }\n        if (currentDate_time == '') {\n          $.omsAlert('解锁日期不能为空');\n          return false;\n        }\n        //起始日期  和  解锁日期 进行比较\n        if (startDate_time >= currentDate_time) {\n          $.omsAlert('解锁日期必须大于起始日期');\n          return false;\n        }\n        var _this = this;\n        $.ajax({\n          url: '/bms-pub/product/otc/private_placement/modify',\n          type: 'POST',\n          data: {\n            id: id,\n            volume: volume_val,\n            stock_price: stock_price_val,\n            start_date: startDate_time,\n            unlock_date: currentDate_time\n          },\n          success: function (res) {\n            if (0 == res.code) {\n              _this.change_id = '';\n              //重新获取当前选中基金的内容\n              _this.$root.pageProductInfo(_this.$root.group_id);\n              //刷新下拉列表\n              // asset_out.pageProductList();\n              $.omsAlert('修改成功');\n            } else {\n              $.omsAlert(res.msg)\n            }\n          },\n          error: function () {\n            $.omsAlert('网络异常')\n          }\n        })\n      }\n    }\n  })\n\n//确认删除的弹窗\nVue.component('asset_jconfirm', {\n  props: ['delete_name'],\n  template: `\n    <div class=\"jconfirm jconfirm-white custom-for-delete\">\n      <div class=\"jconfirm-bg seen\" style=\"transition-duration: 0.5s; transition-timing-function: cubic-bezier(0.36, 1.1, 0.2, 1); opacity: 0.2;\"></div>\n      <div class=\"jconfirm-scrollpane\">\n        <div class=\"container\">\n          <div class=\"row\">\n            <div class=\"jconfirm-box-container custom-window-width\">\n              <div class=\"jconfirm-box\" role=\"dialog\" aria-labelledby=\"jconfirm-box20474\" tabindex=\"-1\" style=\"transition-duration: 0.5s; transition-timing-function: cubic-bezier(0.36, 1.1, 0.2, 1.2); margin-top: 260px; transition-property: transform, opacity, box-shadow, margin;\">\n                <div class=\"closeIcon\" style=\"display: block;\">×</div>\n                <div class=\"title-c\" style=\"text-align: left;\">\n                  <span class=\"icon-c\"></span>\n                  <span class=\"title\" id=\"jconfirm-box20474\">确认删除</span>\n                </div>\n                <div class=\"content-pane\" style=\"transition-duration: 0.5s; transition-timing-function: cubic-bezier(0.36, 1.1, 0.2, 1); height: 168px;\">\n                  <div class=\"content\" style=\"clip: rect(0px 750px 168px -100px);\">\n                    <div class=\"vue-confirm\">\n                      <div style=\"font-size: 14px; text-align: center; color: #000000; padding: 60px 0;\">确认删除该{{delete_name}}资产？</div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"buttons\">\n                  <button type=\"button\" class=\"btn vue-confirm__btns--submit vue-confirm__btns--warn\">确定</button>\n                </div>\n                <div class=\"jquery-clear\">\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n});\n//确认清空的弹窗\n// 从父组件获取到的props有：产品名称、场外资产类型\n// 上报给父组件的事件有：隐藏组件、确认清空\nVue.component('clear_jconfirm', {\n  props: ['product_name', 'action_type'],\n  template: `\n    <div class=\"jconfirm jconfirm-white custom-for-delete\">\n      <div class=\"jconfirm-bg seen\" style=\"transition-duration: 0.5s; transition-timing-function: cubic-bezier(0.36, 1.1, 0.2, 1); opacity: 0.2;\"></div>\n      <div class=\"jconfirm-scrollpane\">\n        <div class=\"container\">\n          <div class=\"row\">\n            <div class=\"jconfirm-box-container custom-window-width\">\n              <div class=\"jconfirm-box\" role=\"dialog\" aria-labelledby=\"jconfirm-box20474\" tabindex=\"-1\" style=\"transition-duration: 0.5s; transition-timing-function: cubic-bezier(0.36, 1.1, 0.2, 1.2); margin-top: 260px; transition-property: transform, opacity, box-shadow, margin;\">\n                <div v-on:click=\"doHide\" class=\"closeIcon\" style=\"display: block;\">×</div>\n                <div class=\"title-c\" style=\"text-align: left;\">\n                  <span class=\"icon-c\"></span>\n                  <span class=\"title\" id=\"jconfirm-box20474\">确认清空</span>\n                </div>\n                <div class=\"content-pane\" style=\"transition-duration: 0.5s; transition-timing-function: cubic-bezier(0.36, 1.1, 0.2, 1); height: 168px;\">\n                  <div class=\"content\" style=\"clip: rect(0px 750px 168px -100px);\">\n                    <div class=\"vue-confirm\">\n                      <div style=\"font-size: 14px; text-align: center; color: #000000; padding: 60px 0;\">确认清空{{product_name}}所有的{{getActionTypeName}}资产？</div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"buttons\">\n                  <button v-on:click=\"doClear\" type=\"button\" class=\"btn vue-confirm__btns--warn\">确定</button>\n                </div>\n                <div class=\"jquery-clear\">\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  data: function(){\n    return {\n      options_type: [\n        {label: '定增',value: '1'},\n        {label: '场外货币基金', value: '2'},\n        {label: '收益互换', value: '3'},\n        {label: '现金', value: '4'}\n      ]\n    }\n  },\n  computed: {\n    getActionTypeName: function(){\n      let _this = this;\n      let rtn = '';\n      this.options_type.forEach((e) => {\n        if (e.value == _this.action_type) {\n          rtn = e.label;\n        }\n      })\n\n      return rtn;\n    }\n  },\n  methods: {\n    // 上报事件隐藏该组件\n    doHide: function(){\n      this.$emit('doHide')\n    },\n    // 上报事件清空\n    doClear: function(){\n      this.$emit('doClear')\n    }\n  }\n})\n\n//费用设置\nVue.component('vue-operation-cost', {\n  props:['option_list','group_id'],\n  template:`\n    <div style=\"background: white;color:black;\">\n      <vue-operation-search :option_list=option_list :group_id=group_id></vue-operation-search>\n      <vue-operation-cost-list :group_id=group_id></vue-operation-cost-list>\n    </div>\n  `\n});\n\n//费用设置列表\nVue.component('vue-operation-cost-list', {\n  props:['group_id'],\n  data(){\n    return {\n      isLogining:false,\n      fee_list:[],\n      collection:{\n        pay:{\n          down:true,\n          hide:true,\n        },\n        charge:{\n          down:true,\n          hide:true,\n        }\n      },\n      exempt:{\n        pay:{\n          down:true,\n          hide:true,\n        },\n        charge:{\n          down:true,\n          hide:true,\n        }\n      },\n      temp_row:{},\n      modify_hide:false,\n    }\n  },\n  template:`\n      <div class=\"operation-cost\">\n        <template v-if=\"root_product_id\">\n          <div class=\"operation-cost__title\"><span>征收费用({{fee_list_collection.length}})</span></div>\n          <div class=\"operation-cost__list\">\n            <template v-if=\"pay_num(fee_list_collection) > 0\">\n              <div class=\"operation-cost__list-title\">\n                <span>产品应付费（{{pay_num(fee_list_collection)}}）</span><i :class=\"['operation-cost__list-icon',{down:collection.pay.down}]\" @click=\"change_icon(collection.pay)\"></i>\n              </div>\n              <ul class=\"operation-cost__list-ul\" v-show=\"collection.pay.hide\">\n                <template v-for=\"row ,index in fee_list_pay(fee_list_collection)\">\n                  <li class=\"operation-cost__list-li\">\n                    <div class=\"operation-cost__list-cell\">{{show_index(index)}}</div>\n                    <div class=\"operation-cost__list-cell\">{{show_fee_type(row)}}</div>\n                    <div class=\"operation-cost__list-cell\">\n                      {{show_fee_charging_depend(row.charging_depend)}}<span style=\"margin-left: 5px;\">{{row.fee_rate*100}}%</span>\n                    </div>\n                    <div class=\"operation-cost__list-cell\">{{show_fee_charging_type(row)}}</div>\n                    <div class=\"operation-cost__list-op operation-cost__list-cell\">\n                      <span class=\"util__cp\" @click=\"modify_row(row)\">修改</span>\n                      <span class=\"util__cp\" style=\"color: red;margin-left: 30px;\" @click=\"set_type(row)\">设为免征</span>\n                    </div>\n                  </li>\n                </template>\n              </ul>\n            </template>\n            <template v-if=\"charge_num(fee_list_collection) > 0\">\n              <div class=\"operation-cost__list-title\">\n                <span>产品应收费（{{charge_num(fee_list_collection)}}）</span><i :class=\"['operation-cost__list-icon',{down:collection.charge.down}]\" @click=\"change_icon(collection.charge)\"></i>\n              </div>\n              <ul class=\"operation-cost__list-ul\" v-show=\"collection.charge.hide\">\n                <template v-for=\"row ,index in fee_list_charge(fee_list_collection)\">\n                  <li class=\"operation-cost__list-li\">\n                    <div class=\"operation-cost__list-cell\">{{show_index(index)}}</div>\n                    <div class=\"operation-cost__list-cell\">{{show_fee_type(row)}}</div>\n                    <div class=\"operation-cost__list-cell\">\n                      {{show_fee_charging_depend(row.charging_depend)}}<span style=\"margin-left: 5px;\">{{row.fee_rate*100}}%</span>\n                    </div>\n                    <div class=\"operation-cost__list-cell\">{{show_fee_charging_type(row)}}</div>\n                    <div class=\"operation-cost__list-op operation-cost__list-cell\">\n                      <span class=\"util__cp\" @click=\"modify_row(row)\">修改</span>\n                      <span class=\"util__cp\" style=\"color: red;margin-left: 30px;\" @click=\"set_type(row)\">设为免征</span>\n                    </div>\n                  </li>\n                </template>\n              </ul>\n            </template>\n          </div>\n          <div class=\"operation-cost__title\"><span>免征费用({{fee_list_exempt.length}})</span></div>\n          <div class=\"operation-cost__list\">\n            <template v-if=\"pay_num(fee_list_exempt) > 0\">\n              <div class=\"operation-cost__list-title\">\n                <span>产品应付费（{{pay_num(fee_list_exempt)}}）</span><i :class=\"['operation-cost__list-icon',{down:exempt.pay.down}]\" @click=\"change_icon(exempt.pay)\"></i>\n              </div>\n              <ul class=\"operation-cost__list-ul\" v-show=\"exempt.pay.hide\">\n                <template v-for=\"row ,index in fee_list_pay(fee_list_exempt)\">\n                  <li class=\"operation-cost__list-li\">\n                    <div class=\"operation-cost__list-cell\">{{show_index(index)}}</div>\n                    <div class=\"operation-cost__list-cell\">{{show_fee_type(row)}}</div>\n                    <div class=\"operation-cost__list-cell\">\n                      {{show_fee_charging_depend(row.charging_depend)}}<span style=\"margin-left: 5px;\">{{row.fee_rate*100}}%</span>\n                    </div>\n                    <div class=\"operation-cost__list-cell\">{{show_fee_charging_type(row)}}</div>\n                    <div class=\"operation-cost__list-op operation-cost__list-cell\">\n                      <span class=\"util__cp\" @click=\"modify_row(row)\">修改</span>\n                      <span class=\"util__cp\" style=\"margin-left: 30px;\" @click=\"set_type(row)\">设为征收</span>\n                    </div>\n                  </li>\n                </template>\n              </ul>\n            </template>\n            <template v-if=\"charge_num(fee_list_exempt) > 0\">\n            <div class=\"operation-cost__list-title\">\n              <span>产品应收费（{{charge_num(fee_list_exempt)}}）</span><i :class=\"['operation-cost__list-icon',{down:exempt.charge.down}]\" @click=\"change_icon(exempt.charge)\"></i>\n            </div>\n            <ul class=\"operation-cost__list-ul\" v-show=\"exempt.charge.hide\">\n              <template v-for=\"row ,index in fee_list_charge(fee_list_exempt)\">\n                <li class=\"operation-cost__list-li\">\n                  <div class=\"operation-cost__list-cell\">{{show_index(index)}}</div>\n                  <div class=\"operation-cost__list-cell\">{{show_fee_type(row)}}</div>\n                  <div class=\"operation-cost__list-cell\">\n                    {{show_fee_charging_depend(row.charging_depend)}}<span style=\"margin-left: 5px;\">{{row.fee_rate*100}}%</span>\n                  </div>\n                  <div class=\"operation-cost__list-cell\">{{show_fee_charging_type(row)}}</div>\n                  <div class=\"operation-cost__list-op operation-cost__list-cell\">\n                    <span class=\"util__cp\" @click=\"modify_row(row)\">修改</span>\n                    <span class=\"util__cp\" style=\"margin-left: 30px;\" @click=\"set_type(row)\">设为征收</span>\n                  </div>\n                </li>\n              </template>\n            </ul>\n            </template>\n          </div>\n          <div class=\"operation-cost__modify\" v-if=\"modify_hide\">\n            <label for=\"rate\">费率\n              <input type=\"text\" name=\"rate\" v-model=\"temp_row.fee_rate\" style=\"text-indent: 9px;\" />\n              <span style=\"position: relative;left: -27px;;color: gray;\">%</span>\n            </label>\n            <label for=\"charging_basis\">计费依据\n              <select name=\"charging_basis\" v-model=\"temp_row.charging_depend\">\n                <option value=1>期初规模</option>\n                <option value=2>净资产</option>\n              </select>\n            </label>\n            <label for=\"layout_method\">计提方式\n              <select name=\"layout_method\" v-model=\"temp_row.charging_type\">\n                <option value=1>按日计费按月计提</option>\n                <option value=2>按日计费按季计提</option>\n                <option value=3>按日计费按年计提</option>\n              </select>\n            </label>\n            <div class=\"operation-cost__modify-btn\">\n              <button class=\"operation-cost__modify-submit\" @click=\"set_setting\">{{ temp_row.status == 0 ? '保存' : '保存为征收' }}</button>\n              <button class=\"operation-cost__modify-cancel\" @click=\"hide\">取消</button>\n            </div>\n          </div>\n        </template>\n      </div>\n  `,\n  methods:{\n    set_setting(){\n      if(this.isLogining){\n        return\n      }\n\n      if(!this.temp_row.fee_rate) {\n        $.omsAlert('请输入费率');\n        return;\n      }\n\n      this.isLogining  = true;\n      let _this = this;\n      $.ajax({\n        url: '/bms-pub/portfolio/fee-modify',\n        type: 'POST',\n        data: {\n          id: _this.temp_row.id,\n          fee_rate:_this.temp_row.fee_rate/100,\n          charging_depend:_this.temp_row.charging_depend,\n          charging_type:_this.temp_row.charging_type,\n        },\n      })\n      .done(function(res) {\n        _this.isLogining  = false;\n        if(res.code == 0){\n          _this.get_fee_list();\n          $.omsAlert('修改成功');\n        }else{\n          $.omsAlert(res.msg);\n        }\n      })\n      .fail(function() {\n        _this.isLogining  = false;\n         $.omsAlert('网络错误，请重试')\n\n      })\n      .always(function() {\n         _this.modify_hide = false;\n      });\n    },\n    set_type(row){\n      if(this.isLogining){\n        return\n      }\n      this.isLogining  = true;\n      let _this = this;\n      let status;\n      if(row.status == 0){\n        status = 1;\n      }\n      if(row.status == 1){\n        status = 0;\n      }\n      $.ajax({\n        url: '/bms-pub/portfolio/fee-update-status',\n        type: 'POST',\n        data: {\n          id: row.id,\n          status:status\n        },\n      })\n      .done(function(res) {\n        if(res.code == 0){\n          row.status = status;\n          $.omsAlert('保存成功');\n        }else{\n          $.omsAlert(res.msg)\n        }\n      })\n      .fail(function() {\n        $.omsAlert('网络错误，请重试')\n      })\n      .always(function() {\n        _this.isLogining  = false;\n      });\n      \n    },\n    hide(){\n      this.modify_hide = false;\n    },\n    modify_row(row,index){\n      this.temp_row = Object.assign({},row);\n      this.temp_row.fee_rate = this.temp_row.fee_rate*100;\n      this.modify_hide = true;\n    },\n    get_fee_list(){\n      if(this.isLogining){\n        return\n      }\n      //获取所有的基金费用信息\n      this.isLogining  = true;\n      let _this = this;\n      if(!this.$root.group_id){\n        _this.isLogining  = false;\n        return\n      }\n      $.ajax({\n        url: '/bms-pub/portfolio/fee_list/'+this.group_id,\n        type: 'GET',\n      })\n      .done(function(res) {\n        if (0 == res.code) {\n\n          _this.fee_list = res.data;\n\n        }else{\n          $.omsAlert(res.msg);\n        }\n      })\n      .fail(function() {\n        $.omsAlert('网络错误，请重试');\n      })\n      .always(function() {\n        _this.isLogining  = false;\n        // _this.fee_list = [\n        //   {\n        //       \"id\": 10026, //id\n        //       \"fee_rate\": 1.000,   //费率,\n        //       \"fee_type\": 1, //费用类型，1管理费，2退出费，3风控顾问费，4信托通道费，5其他应付费\n        //       \"status\": 0,//0征收，1免征\n        //        \"earning_type\": 2,//1应付，2应收          \n        //       \"charging_depend\": 1,        //计费依据，1期初规模，2前一日净资产\n        //       \"charging_type\": 1,//1按日计费按月计提、2按日计费按季计提、3按日计费按年计提\n        //   },{\n        //       \"id\": 10026, //id\n        //       \"fee_rate\": 1.000,   //费率,\n        //       \"fee_type\": 2, //费用类型，1管理费，2退出费，3风控顾问费，4信托通道费，5其他应付费\n        //       \"status\": 1,//0征收，1免征\n        //        \"earning_type\": 1,//1应付，2应收          \n        //       \"charging_depend\": 2,        //计费依据，1期初规模，2前一日净资产\n        //       \"charging_type\": 3,//1按日计费按月计提、2按日计费按季计提、3按日计费按年计提\n        //   },{\n        //       \"id\": 10026, //id\n        //       \"fee_rate\": 1.000,    //费率,\n        //       \"fee_type\": 3, //费用类型，1管理费，2退出费，3风控顾问费，4信托通道费，5其他应付费\n        //       \"status\": 0,//0征收，1免征\n        //       \"earning_type\": 1,//1应付，2应收          \n        //       \"charging_depend\": 1,        //计费依据，1期初规模，2前一日净资产\n        //       \"charging_type\": 2,//1按日计费按月计提、2按日计费按季计提、3按日计费按年计提\n        //   },{\n        //       \"id\": 10026, //id\n        //       \"fee_rate\": 1.000,   //费率,\n        //       \"fee_type\": 4, //费用类型，1管理费，2退出费，3风控顾问费，4信托通道费，5其他应付费\n        //       \"status\": 0,//0征收，1免征\n        //        \"earning_type\": 2,//1应付，2应收          \n        //       \"charging_depend\": 2,        //计费依据，1期初规模，2前一日净资产\n        //       \"charging_type\": 1,//1按日计费按月计提、2按日计费按季计提、3按日计费按年计提\n        //   },{\n        //       \"id\": 10026, //id\n        //       \"fee_rate\": 1.000,  //费率,\n        //       \"fee_type\": 5, //费用类型，1管理费，2退出费，3风控顾问费，4信托通道费，5其他应付费\n        //       \"status\": 0,//0征收，1免征\n        //        \"earning_type\": 2,//1应付，2应收          \n        //       \"charging_depend\": 1,        //计费依据，1期初规模，2前一日净资产\n        //       \"charging_type\": 3,//1按日计费按月计提、2按日计费按季计提、3按日计费按年计提\n        //   },{\n        //       \"id\": 10026, //id\n        //       \"fee_rate\": 1.000,   //费率,\n        //       \"fee_type\": 1, //费用类型，1管理费，2退出费，3风控顾问费，4信托通道费，5其他应付费\n        //       \"status\": 1,//0征收，1免征\n        //       \"earning_type\": 1,//1应付，2应收          \n        //       \"charging_depend\": 1,        //计费依据，1期初规模，2前一日净资产\n        //       \"charging_type\": 2,//1按日计费按月计提、2按日计费按季计提、3按日计费按年计提\n        //   },{\n        //       \"id\": 10026, //id\n        //       \"fee_rate\": 1.000,    //费率,\n        //       \"fee_type\": 2, //费用类型，1管理费，2退出费，3风控顾问费，4信托通道费，5其他应付费\n        //       \"status\": 0,//0征收，1免征\n        //       \"earning_type\": 2,//1应付，2应收          \n        //       \"charging_depend\":1,//计费依据，1期初规模，2前一日净资产\n        //       \"charging_type\": 1,//1按日计费按月计提、2按日计费按季计提、3按日计费按年计提\n        //   },\n        // ];\n\n      });\n    },\n    pay_num(arr){\n      let temp = arr.filter(function(ele) {\n        return ele.earning_type == 1;\n      });\n      return temp.length\n    },\n    charge_num(arr){\n      let temp = arr.filter(function(ele) {\n        return ele.earning_type == 2;\n      });\n      return temp.length;\n    },\n    show_index(index){\n      index = index+1;\n      if(index<10){\n        return '0'+index;\n      }else{\n        return index;\n      }\n    },\n    change_icon(ele){\n      ele.down = !ele.down;\n      ele.hide = !ele.hide;\n    },\n    fee_list_charge(list){\n      return list.filter((ele)=>{\n        return ele.earning_type == 2\n      }) || []\n    },\n    fee_list_pay(list){\n      return list.filter((ele)=>{\n        return ele.earning_type == 1\n      }) || []\n    },\n    show_fee_type(row){\n      let type = row.fee_type;\n      let earning_type = row.earning_type;\n\n      if(earning_type == 1){\n        switch(type)\n        {\n          case '1':\n            return '管理费';\n          case '2':\n            return '托管费';\n          case '3':\n            return '投顾费';\n          case '4':\n            return '风控顾问费';\n          case '5':\n            return '信托报酬';\n          case '6':\n            return '销售服务费';\n          case '7':\n            return '其他应付费';\n          default:\n            break\n        }\n      }else if(earning_type == 2){\n        switch(type)\n        {\n          case '1':\n            return '信保';\n          case '2':\n            return '其他应收费';\n          default:\n            break\n        }\n      }\n    },\n    show_fee_charging_type(row){\n      let temp = (+row.fee_rate)*100;\n      switch(row.charging_type)\n        {\n        case '1':\n          return '按日计费按月计提【每日费用＝（'+this.show_fee_charging_depend(row.charging_depend)+'×'+temp+'%）÷当年天数】';\n        case '2':\n          return '按日计费按季计提【每日费用＝（'+this.show_fee_charging_depend(row.charging_depend)+'×'+temp+'%）÷当年天数】';\n        case '3':\n          return '按日计费按年计提【每日费用＝（'+this.show_fee_charging_depend(row.charging_depend)+'×'+temp+'%）÷当年天数】';\n        default:\n          break\n        }\n    },\n    show_fee_charging_depend(type){\n      switch(type)\n        {\n        case '1':\n          return '期初规模';\n        case '2':\n          return '净资产';\n        default:\n          break\n        }\n    }\n  },\n  computed:{\n    fee_list_exempt(){\n      return this.fee_list.filter(function(ele) {\n        return ele.status == 1; //免征\n      });\n    },\n    fee_list_collection(){\n      return this.fee_list.filter(function(ele) {\n        return ele.status == 0; //征收\n      });\n    },\n    root_product_id(){\n      return this.$root.group_id;\n    }\n  },\n  watch:{\n    group_id(){\n      this.get_fee_list();\n    }\n  },\n  mounted(){\n    this.get_fee_list();\n  }\n})\n //下拉框\nVue.component('vue-operation-search', {\n  props:['option_list','group_id'],\n  data(){\n    return {\n      select:'',\n      isLogining:false,\n    }\n  },\n  template:`\n  <div class=\"operation-header\">\n    <h2 class=\"operation-header__h2\">选择基金</h2>\n    <select class=\"operation-header__select\" multiple placeholder=\"请选择基金\"></select>\n  </div>\n  `,\n  methods:{\n    select_init(){\n      let self = this;\n      let options = this.option_list;\n      this.select = $(this.$el).find('.operation-header__select').selectize({\n        maxItems: 1,\n        valueField: 'id',\n        labelField: 'name',\n        searchField: 'name',\n        options: options,\n        create: false,\n        onChange(){\n          self.$root.group_id = this.getValue()[0];\n        }\n      });\n      //设置默认值\n      if(this.$root.group_id){\n        this.select[0].selectize.setValue([this.$root.group_id]);\n      }\n    }\n  },\n  watch:{\n    group_id(val){\n      this.select[0].selectize.setValue([val]);\n      this.$root.pageProductInfo(val);\n    },\n    // option_list(){\n\n    //   this.select_init();;\n    // }\n    option_list:{\n      handler(){\n        this.select[0].selectize.clearOptions();\n        this.select[0].selectize.addOption(this.option_list);\n        if(this.$root.group_id){\n          this.select[0].selectize.setValue([this.$root.group_id]);\n        }\n      },\n      deep:true,\n    }\n  },\n  mounted: function () {\n    this.select_init();\n  }\n\n})\n//停牌估值\n//数据\nlet comGridSortData = {\n  order: '',\n  order_by: '',\n  display_rules: [{\n    id: 'name', // 变量id\n    label: '持仓产品',         // 变量显示名称\n    format: '',               // 格式化处理函数，不能提前进行处理，因为数据还要用来排序什么的。此处的处理理解为只为显示，脱离于逻辑 （函数定义于vue中）\n    class: 'left20'           // 样式\n  },{\n    id: 'operator',\n    label: '基金经理',\n    hideSort: true,\n    format: '',\n    class: 'left20'\n  },{\n    id: 'stock_display',           // stock_id和stock_name拼起来\n    label: '停牌股票',\n    format: '',\n    class: 'left20'\n  },{\n    id: 'influence_rate',\n    label: '指数变动对净值影响比例',\n    format: ['numeralPercent'],\n    class: 'right20'\n  },{\n    id: 'weight',\n    label: '持仓权重',\n    format: ['numeralPercent'],\n    class: 'right20'\n  },{\n    id: 'suspend_date',\n    label: '停牌日',\n    hideSort: true,\n    format: '',                 //['numeralNumber', 2],\n    class: 'right20'\n  },{\n    id: 'market_value',\n    label: '停牌日市值',\n    hideSort: true,\n    format: ['numeralNumber', 2],\n    class: 'right20'\n  },{\n    id: 'amac_display',           // amac_name和amac_index拼起来\n    label: '行业代码',\n    hideSort: true,\n    format: '',\n    class: 'left20'\n  },{\n    id: 'amac_price',\n    label: '今日指数',\n    hideSort: true,\n    format: ['numeralNumber', 4],\n    class: 'left20',\n    unit: ''                   // 附带后缀单位\n  },{\n    id: 'amac_last_price',\n    label: '停牌日指数',\n    hideSort: true,\n    format: ['numeralNumber', 4],\n    class: 'left20',\n    unit: ''                   // 附带后缀单位\n  },{\n  //   id: 'adjust_market_value',\n  //   label: '调整前市值',\n  //   hideSort: true,\n  //   format: ['numeralNumber', 2],\n  //   class: 'left20',\n  //   unit: ''                   // 附带后缀单位\n  // },{\n    id: 'modify_market_value',\n    label: '调整后市值',\n    hideSort: true,\n    // format: ['numeralNumber', 2],\n    class: 'left20',\n    modify_component: true,\n    unit: ''                   // 附带后缀单位\n  }]\n}\n//控件\nVue.component('vue-operation-suspension',{\n  props:['product_info'],\n  data(){\n    return {\n    active_stock: '',\n      display_rules: comGridSortData.display_rules,\n      order: comGridSortData.order,\n      order_by: comGridSortData.order_by,\n      stock_list: []\n    }\n  },\n  template:`\n    <section v-cloak id=\"suspension\" class=\"section-container\" style=\"padding-bottom: 120px;\">\n    <table class=\"journel-sheet-grid\">\n      <thead>\n        <tr>\n        <!-- <draggable :list=\"display_rules\" element=\"tr\" :options=\"dragOptions\" @move=\"onMove\" @end=\"onEnd\"> -->\n          <th v-bind:class=\"rule.class\" v-for=\"rule in display_rules\">\n            <span v-html=\"rule.label\"></span>\n            <a v-if=\"!rule.hideSort\" class=\"icon-sortBy\" v-on:click=\"chgSort(rule.id)\">\n              <i class=\"icon-asc\" :class=\"{active: (order_by == rule.id && order == 'asc')}\"></i>\n              <i class=\"icon-desc\" :class=\"{active: (order_by == rule.id && order == 'desc')}\"></i>\n            </a>\n          </th>\n        <!-- </draggable> -->\n          <th></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-if=\"display_stocks.length > 0\" v-for=\"sub_value in display_stocks\">\n          <td v-for=\"rule in display_rules\" v-bind:class=\"rule.class\">\n            <span v-if=\"sub_value.is_adjust == 0 || rule.modify_component != true\" v-text=\"displayValue(sub_value, rule)\"></span>\n            <vue-custom-modify v-if=\"(sub_value.is_adjust == 1 || sub_value.is_adjust == 2) && rule.modify_component == true\" :id=\"'market_value'\" :value=\"displayValue(sub_value, rule)\" :ajax_url=\"getAjaxUrl()\" :ajax_data=\"{id: sub_value.id}\" :digital_num=\"2\" v-on:modify_value=\"modify_value($event)\"></vue-custom-modify>\n          </td>\n          <td>\n            <a v-if=\"sub_value.is_adjust == 0\" v-on:click=\"doConfigAdjust(sub_value.id, true)\" class=\"newweb-common-grid__config-btn\">估值调整</a>\n            <a v-if=\"sub_value.is_adjust == 1 || sub_value.is_adjust == 2\" v-on:click=\"doConfigAdjust(sub_value.id, false)\" class=\"newweb-common-grid__cancel-btn\">取消调整</a>\n          </td>\n        </tr>\n        <tr v-if=\"display_stocks.length == 0\">\n          <td colspan=\"999\">暂无停牌股票</td>\n        </tr>\n      </tbody>\n    </table>\n\n    <div class=\"left-right-grid\">\n    <!--\n      <dl class=\"left-right-grid__left\">\n        <dt class=\"left-right-grid__sub-grid--title\" v-text=\"'第一步：选择停牌股票'\"></dt>\n        <dd v-show=\"stock_list.length > 0\" v-for=\"stock in stock_list\" v-on:click=\"setActiveStock(stock.stock_id)\" class=\"left-right-grid__sub-grid--content\" :class=\"active_stock == stock.stock_id ? 'left-right-grid__sub-grid--active' : ''\">\n          <div>\n            <span class=\"left-right-grid__font--active\" v-text=\"stock.stock_id\"></span>\n            <span class=\"left-right-grid__font--active\" v-text=\"stock.stock_name\"></span>\n          </div>\n          <div>\n            <span class=\"left-right-grid__font--grey\" v-text=\"'行业代码'\"></span>\n            <span class=\"left-right-grid__font--normal\" v-text=\"stock.industry_code\"></span>\n            <span class=\"left-right-grid__font--normal\" v-text=\"stock.industry_class\"></span>\n          </div>\n          <div>\n            <span class=\"left-right-grid__font--grey\" v-text=\"'停牌日'\"></span>\n            <span class=\"left-right-grid__font--normal\" v-text=\"stock.suspension_date\"></span>\n          </div>\n        </dd>\n        <dd v-show=\"stock_list.length == 0\">\n          <div style=\"font-size: 14px; color: #000; padding: 15px 35px;\" v-text=\"'没有停牌股票'\"></div>\n        </dd>\n      </dl>\n      <dl class=\"left-right-grid__right\">\n        <dt class=\"left-right-grid__sub-grid--title\" v-text=\"'第二步：选择需作估值调整的该股持仓产品'\"></dt>\n        <dd v-if=\"active_stock != ''\" v-for=\"fund in cur_fund_list\" class=\"left-right-grid__sub-grid--content left-right-grid__sub-grid--active\">\n          <div>\n            <input :disabled=\"fund.web_disabled\" v-model=\"fund.is_adjust\" class=\"left-right-grid__sub-grid--checkbox\" type=\"checkbox\" />\n            <span class=\"left-right-grid__font--normal\" v-text=\"fund.fund_name\"></span>\n          </div>\n          <div>\n            <span class=\"left-right-grid__font--grey\" v-text=\"'持仓权重'\"></span>\n            <span class=\"left-right-grid__font--normal\" v-text=\"numeralPercent(fund.position_weight)\"></span>\n          </div>\n          <div>\n            <span class=\"left-right-grid__font--grey\" v-text=\"'指数变动对净值影响比例'\"></span>\n            <span class=\"left-right-grid__font--normal\" v-text=\"numeralPercent(fund.susp_factor)\"></span>\n          </div>\n        </dd>\n        <dd v-if=\"active_stock == ''\">\n          <div style=\"font-size: 14px; color: #000; padding: 15px 35px;\" v-text=\"'请先在左侧点选需要调整估值的停牌股票'\"></div>\n        </dd>\n      </dl>\n\n    -->\n    </div>\n    <div class=\"word-tip\">\n      <p class=\"word-tip__content\">1.以上数据仅含场内A股部分，其他资产停牌估值调整暂不支持</p>\n      <p class=\"word-tip__content\">2.指数变动对净值影响比例=停牌股今日行业指数/停牌日行业指数*权重</p>\n      <p class=\"word-tip__content\">3.系统将对选中产品指定停牌股进行估值调整，调整后该股市值=停牌日市值*今日行业指数/停牌日行业指数，若要取消估值调整，请去掉勾选后提交</p>\n    </div>\n    <!--\n    <div style=\"display: flex; justify-content: flex-end;\">\n      <a style=\"margin-right: 60px;\" class=\"custom-btn\" v-on:click=\"doSave\">确定</a>\n    </div>\n    -->\n  </section>\n  `,\n  methods:{\n\n  },\n  computed: {\n    dragOptions () {\n      return  {\n        animation: 0,\n        // group: 'description',\n        // disabled: !this.editable,\n        ghostClass: 'ghost'\n      };\n    },\n\n    display_stocks: function(){\n      let _this = this;\n      let rtn = [];\n      // 步骤1，根据接口数据进行准备\n      this.stock_list.forEach(function(e){\n        let obj = {};\n        // 是否估值调整，1为是，0为否\n        obj.is_adjust = e.is_adjust;\n        // id\n        obj.id = e.id;\n        // 持仓产品\n        obj.name = e.name;\n        // 基金经理\n        obj.operator = e.operator;\n        // 停牌股票\n        obj.stock_display = e.stock_name + ' ' + e.stock_id;\n        // 指数变动对净值影响比例\n        obj.influence_rate = e.influence_rate;\n        // 持仓权重\n        obj.weight = e.weight;\n        // 停牌日\n        obj.suspend_date = e.suspend_date;\n        // 停牌日市值\n        obj.market_value = e.market_value;\n        // 行业代码\n        obj.amac_display = e.amac_name + ' ' + e.amac_index\n        // 今日指数\n        obj.amac_price = e.amac_price;\n        // 停牌日指数\n        obj.amac_last_price = e.amac_last_price;\n        // 调整前市值\n        obj.adjust_market_value = e.adjust_market_value;\n        // 调整后市值\n        obj.modify_market_value = e.modify_market_value;\n\n        rtn.push(obj);\n      });\n\n      // 步骤2，根据排序逻辑进行排序\n      rtn = VUECOMPONENT.sort(rtn, _this.order, _this.order_by);\n      return rtn;\n      // if (_this.order == 'asc' || _this.order == 'desc') {\n      //   rtn.sort((a, b) => {\n      //     let x = a[_this.order_by];\n      //     let y = b[_this.order_by];\n      //     if ( !isNaN(parseFloat(x)) && !isNaN(parseFloat(y)) ) {\n      //       x = parseFloat(x);\n      //       y = parseFloat(y);\n      //     }\n      //     if (x > y) {\n      //       return 1;\n      //     }\n      //     if (x < y) {\n      //       return -1;\n      //     }\n      //     return 0;\n      //   })\n\n      //   if ('desc' == _this.order) {\n      //     rtn.reverse();\n      //   }\n      //   return rtn;\n      // }else{\n      //   return rtn;\n      // }\n    }\n  },\n  methods: {\n    chgSort: function(id){\n      if (id == this.order_by) {\n        if (this.order == 'asc') {\n          this.order = 'desc';\n        }else if(this.order == 'desc'){\n          this.order = '';\n        }else{\n          this.order = 'asc'\n        }\n      }else{\n        this.order_by = id;\n        this.order = 'asc';\n      }\n      // 用户切换排序命令，需要保存新的排序\n      let obj = {};\n      obj.field_sort = this.display_rules.map(function(e){\n        return e.id\n      });\n      obj.order_by = this.order_by;\n      obj.order = this.order;\n      common_storage.setItem('suspension_page__grid_order', obj);\n    },\n    getAjaxUrl: function(){\n      return '/bms-pub/suspension/edit_market_value';\n    },\n    modify_value: function(v){\n      this.getStockList();\n    },\n    displayValue: function(sub_value, rule){\n      let value = sub_value[rule.id];\n      if ((rule.format != '') && (rule.format instanceof Array) && (this[rule.format[0]] instanceof Function)) {\n        // value = this[rule.format].call(this, value, )\n        let args = [value].concat(rule.format.slice(1))\n        value = this[rule.format[0]].apply(this, args);\n      }\n      if (rule.unit) {\n        return value + rule.unit;\n      }else{\n        return value;\n      }\n    },\n    onMove ({relatedContext, draggedContext}) {\n      const relatedElement = relatedContext.element;\n      const draggedElement = draggedContext.element;\n      return (!relatedElement || !relatedElement.fixed) && !draggedElement.fixed\n    },\n    onEnd ({}){\n      // // 用户切换表格排序，需要保存新的排序\n      // let obj = {};\n      // obj.field_sort = this.display_rules.map(function(e){\n      //   return e.id\n      // });\n      // obj.order_by = this.order_by;\n      // obj.order = this.order;\n      // common_storage.setItem('report_group__grid_order', obj);\n    },\n    numeralNumber: function(arg, num){\n      if ('--' == arg || '' == arg || undefined == arg) {\n        return '--'\n      }\n      if (undefined != num) {\n        var str = '0.'\n        for (let i = num - 1; i >= 0; i--) {\n          str += '0';\n        }\n        return numeral(arg).format( '0,' + str );\n      }\n      return numeral(arg).format( '0,0.00' );\n    },\n    numeralPercent: function(arg){\n      return numeral(arg).format( '0.00%' );\n    },\n    doConfigAdjust: function(id, adjustFlag){\n      let _this = this;\n      $.ajax({\n        url: '/bms-pub/suspension/set_market_value',\n        type: 'post',\n        data: {\n          id: id,\n          is_adjust: adjustFlag == true ? 1 : 0\n        },\n        success: function({code, msg, data}){\n          if (0 == code) {\n            $.omsAlert('提交成功')\n            _this.getStockList();\n          }else{\n            $.omsAlert(msg);\n          }\n        },\n        error: function(){\n          $.omsAlert('网络异常，请重试。')\n        }\n      })\n    },\n    customRefreshAfterModified: function(){\n      this.getStockList();\n    },\n    getStockList: function(){\n      let _this = this;\n      $.ajax({\n        url: '/bms-pub/suspension/stock_list',\n        type: 'get',\n        data: {\n\n        },\n        success: function({code, msg, data}){\n          if (0 == code) {\n            data.forEach(function(e){\n              e.fund_list = [];\n            })\n            _this.stock_list = data;\n\n            // 同时获取保存的排序规则\n            common_storage.getItem('suspension_page__grid_order', ({code, msg, data}) => {\n              if (0 == code) {\n                comGridSortData.order = data.order;\n                comGridSortData.order_by = data.order_by;\n                _this.order = data.order;\n                _this.order_by = data.order_by;\n                // comGridSortData.field_sort = data.field_sort;\n                for (let i = data.field_sort.length - 1; i >= 0; i--) {\n                  for (var j = 0, length = comGridSortData.display_rules.length; j < length; j++) {\n                    if (comGridSortData.display_rules[j].id == data.field_sort[i]) {\n                      let obj = comGridSortData.display_rules[j];\n                      comGridSortData.display_rules.splice(j, 1);\n                      comGridSortData.display_rules.unshift(obj);\n                    }\n                  }\n                }\n              }\n            });\n          }else{\n            $.omsAlert(msg)\n          }\n        },\n        error: function(){\n          $.omsAlert('网络异常，请重试。')\n        }\n      })\n    }\n  },\n  mounted(){\n    this.getStockList();\n  }\n\n})\nvar review_vm = new Vue({\n  el:'[operation]',\n  data:{\n    tab_index:'base',// base 产品估值    cost 费用设置  suspension 停牌估值   outside 产外资产,\n    tableData:tableData,\n    group_id:'',\n    option_list:[],\n    product_info:{}\n  },\n  template:`\n  <div id=\"operation_form\" class=\"report_form\">\n    <div class=\"report-form-type\">\n      <ul class=\"report-form-type__content\">\n        <li :class=\"['report-form-type__content__describle',{active: tab_index == 'base'}]\" @click=\"reportChange('base')\" style=\"margin-left: 10px;\" v-if=\"base_type\">基金估值</li> \n        <li :class=\"['report-form-type__content__describle',{active: tab_index == 'cost'}]\" @click=\"reportChange('cost')\" v-if=\"cost_type\">费用设置</li>\n        <li :class=\"['report-form-type__content__describle',{active: tab_index == 'suspension'}]\" @click=\"reportChange('suspension')\"  v-if=\"suspension_type\">停牌估值</li>\n        <li :class=\"['report-form-type__content__describle',{active: tab_index == 'outside'}]\" @click=\"reportChange('outside')\" v-if=\"outside_type\">场外资产</li>\n      </ul>\n    </div>\n    <template v-if=\"tab_index == 'base'\">\n      <div style=\"background: white;color:black\"  v-if=\"base_type\">\n        <vue-operation-table  :tableData=tableData></vue-operation-table>\n      </div>\n    </template>\n    <template v-if=\"tab_index == 'cost'\">\n        <vue-operation-cost :option_list=option_list :group_id=group_id v-if=\"cost_type\"></vue-operation-cost>\n    </template>\n    <template v-if=\"tab_index == 'outside'\">\n        <vue-operation-outside :option_list=option_list :group_id=group_id :product_info=product_info v-if=\"outside_type\"></vue-operation-outside>\n    </template>\n    <template v-if=\"tab_index == 'suspension'\" :product_info=product_info>\n      <vue-operation-suspension v-if=\"suspension_type\"></vue-operation-suspension>\n    </template>\n  </div>\n  `,\n  watch:{\n  },\n  methods:{\n    reportChange(val){\n      this.tab_index = val;\n    },\n    get_groups(){\n      if(this.isLogining){\n        return\n      }\n      //初始化下拉列表\n      this.isLogining  = true;\n      let _this = this;\n      $.ajax({\n        url: '/bms-pub/product/get_product_group',\n        type: 'GET',\n        data: {\n              only_top: 0\n        },\n      })\n      .done(function(res) {\n        if (0 == res.code) {\n          if (res.data != '') {\n            _this.option_list = res.data.lists;\n          }\n\n        }\n      })\n      .fail(function() {\n\n      })\n      .always(function() {\n        _this.isLogining  = false;\n\n      });\n    },\n    show_setting(id){\n     //修改root的 id并调弹框\n      let self = this;\n      let contentChild = Vue.extend({\n        data(){\n          return {\n            id:id\n          }\n        },\n        template:`\n         <form class=\"vue-form\">\n            <div class=\"operation-confirm\">\n              场外资产需要前往【场外资产】页面修改\n            </div>\n            <div class=\"buttons\" style=\"text-align: center;    float: inherit;\">\n              <button type=\"button\" class=\"vue-confirm__btns--submit\" style=\"background-color: rgb(255, 222, 0);\" @click=btn_submit>前往修改</button>\n              <button type=\"button\" class=\"vue-confirm__btns--cancel\" style=\" background-color: rgb(204, 204, 204);\" @click=btn_cancel>取消</button>\n            </div>\n          </form>\n        `,\n        methods:{\n          btn_submit(){\n            self.group_id = this.id;\n            self.tab_index = \"cost\";\n            this.$parent.close();\n          },\n          btn_cancel(){\n            this.$parent.close();\n          }\n        }\n      });\n      this.$confirm({\n          title: '场外总资产修改',\n          content:contentChild,\n          closeIcon: true,\n      });\n    },\n    doRefresh: function(){\n      this.pageProductInfo(this.group_id);\n    },\n    pageProductInfo: function (id) {\n      var _this = this;\n        $.startLoading('正在查询');\n        $.ajax({\n          url: '/bms-pub/product/otc/list?group_id=' + id,\n          type: 'GET',\n          success: function (res) {\n            if (0 == res.code) {\n              _this.product_info = res.data;\n            }\n            $.clearLoading();\n          },\n          error: function (res) {\n            $.omsAlert(res.msg);\n            $.clearLoading();\n          }\n        })\n      }\n  },\n  computed: {\n    base_type(){\n      return window.LOGIN_INFO.role_permission[GV.permissions['PERMISSION_FUND_VALUATION']];\n    },\n    cost_type(){\n      return window.LOGIN_INFO.role_permission[GV.permissions['PERMISSION_COST_SET']];\n    },\n    suspension_type(){\n      return window.LOGIN_INFO.role_permission[GV.permissions['PERMISSION_SUSPENSION']];\n    },\n    outside_type(){\n      return window.LOGIN_INFO.role_permission[GV.permissions['PERMISSION_OTC_CAPITAL']];\n    },\n  },\n  mounted(){\n    this.get_groups();\n    this.pageProductInfo(this.group_id);\n    if(this.base_type){\n      this.tab_index = 'base';\n    }else if(this.cost_type){\n      this.tab_index = 'cost';\n    }else if(this.suspension_type){\n      this.tab_index = 'suspension';\n    }else if(this.outside_type){\n      this.tab_index = 'outside';\n    }\n  }\n});"]}