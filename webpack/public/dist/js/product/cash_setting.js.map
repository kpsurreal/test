{"version":3,"sources":["product/cash_setting.js"],"names":["JS_cash_setting","prefix","productHeader","initProductHeader","productMenu","Vue","el","data","active","permission","FD","disabled","fee_mode","methods","goto","e","li","$","currentTarget","hasClass","location","href","attr","product_id","cashInfo","computed","freeMoneyLabel","op_type","freeMoney","rtn","baseAccountInfo","can_allocate_fund","productInfo","enable_cash","manual_frozen_amount","checkMoney","changeMoney","balanceInfo","groupInfo","afterTotal_assets","Number","total_assets","org_info","theme","amount","right_amount","afterRight_capital","right_capital","afterAssure_capital","assure_capital","afterLoan_capital","loan_capital","afterBalance_amount","balance_amount","afterEnable_cash","afterCan_allocate_fund","watch","actionType","newValue","oldValue","test","remark","showSpecial","value","addClass","numeralNumber","arg","num","undefined","str","i","numeral","format","changeActionType","v","console","log","getBaseAccountInfo","_this","ajax","url","success","code","msg","omsAlert","error","failNotice","showHistory","html","confirm","title","content","closeIcon","columnClass","confirmButton","cancelButton","showHistoryByType","selectize","valueField","labelField","create","onChange","getFundHistory","render","item","escape","label","option","addOption","setValue","index","getOpType","type","page","limit","getValue","forEach","loan_amount","created_at","nick_name","data_page_html","doSave","doSubmitV2","doSubmit","urlBack","_search_get","name","params","replace","split","x","decodeURIComponent","document","on","match","startLoading","clearLoading","getGroupInfo","getBalanceInfo"],"mappings":"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","file":"cash_setting.js","sourcesContent":["/**\n * author: liuzeyafzy\n * 资金调整页面\n */\nfunction JS_cash_setting(prefix){\n  let productHeader = initProductHeader(prefix);\n\n  // FD.org_info\n  let productMenu = new Vue({\n    el: '#productMenu',\n    data: {\n      active: 'cash_setting',\n      permission: FD.permission,\n      disabled: (FD.fee_mode == 1) ? 'fee_setting' : ''\n    },\n    methods: {\n      goto: function goto(e) {\n        var li = $(e.currentTarget);\n        if (!li.hasClass('active') && !li.hasClass('disabled')) {\n          location.href = prefix + '/product/' + li.attr('data-str') + '?product_id=' + FD.product_id;\n        }\n      }\n    }\n  });\n\n  let cashInfo = new Vue({\n    el: '#cashInfo',\n    computed: {\n      freeMoneyLabel: function(){\n        if (1 == this.op_type) {\n          // 入金则是“账户可分配金额”\n          return '账户可分配金额';\n        }else if(2 == this.op_type){\n          // 出金则是可操作 可操作金额=当前账户可用资金\n          return '可操作金额';\n        }else if(3 == this.op_type){\n          // 冻结则是当前账户可冻结资金（可冻结资金=可用资金）\n          return '可冻结金额';\n        }else if(4 == this.op_type){\n          // 可解冻金额=当前账户已冻结未解冻资金\n          return '可解冻金额';\n        }\n      },\n      freeMoney: function(){\n        var rtn = '--';\n        if (1 == this.op_type) {\n          // 入金则是可分配\n          rtn = this.baseAccountInfo.can_allocate_fund;\n        }else if(2 == this.op_type){\n          // 出金则是可操作 可操作金额=当前账户可用资金\n          rtn = this.productInfo.enable_cash;\n        }else if(3 == this.op_type){\n          // 冻结则是当前账户可冻结资金（可冻结资金=可用资金）\n          rtn = this.productInfo.enable_cash;\n        }else if(4 == this.op_type){\n          // 可解冻金额=当前账户已冻结未解冻资金\n          rtn = this.productInfo.manual_frozen_amount;\n        }\n        this.checkMoney(this.changeMoney, rtn);\n        return rtn;\n      },\n      productInfo: function(){\n        return productHeader.balanceInfo;\n      },\n      groupInfo: function(){\n        return productHeader.groupInfo;\n      },\n      afterTotal_assets: function(){\n        var rtn = Number(this.productInfo.total_assets);\n        if (1 == this.op_type) {\n          // // 入金则是“账户可分配金额”\n          // rtn = Number(this.productInfo.total_assets) + Number(this.changeMoney);\n\n          // 入金区分是否是专户版\n          if (3 == this.org_info.theme) {\n            rtn = Number(this.productInfo.total_assets) + Number(this.amount) + Number(this.right_amount);\n          }else{\n            rtn = Number(this.productInfo.total_assets) + Number(this.changeMoney);\n          }\n        }else if(2 == this.op_type){\n          // // 出金则是可操作 可操作金额=当前账户可用资金\n          // rtn = Number(this.productInfo.total_assets) - Number(this.changeMoney);\n\n          // 出金区分是否是专户版\n          if (3 == this.org_info.theme) {\n            rtn = Number(this.productInfo.total_assets) - Number(this.amount) - Number(this.right_amount);\n          }else{\n            rtn = Number(this.productInfo.total_assets) - Number(this.changeMoney);\n          }\n        }else if(3 == this.op_type){\n\n        }else if(4 == this.op_type){\n\n        }\n        return rtn;\n      },\n      afterRight_capital: function(){\n        var rtn = Number(this.productInfo.right_capital);\n        if (1 == this.op_type) {\n          // 入金区分是否是专户版\n          if (3 == this.org_info.theme) {\n            rtn = Number(this.productInfo.right_capital) + Number(this.right_amount);\n          }else{\n\n          }\n        }else if(2 == this.op_type){\n          // 出金区分是否是专户版\n          if (3 == this.org_info.theme) {\n            rtn = Number(this.productInfo.right_capital) - Number(this.right_amount);\n          }else{\n          }\n        }else if(3 == this.op_type){\n\n        }else if(4 == this.op_type){\n\n        }\n        return rtn;\n      },\n      afterAssure_capital: function(){\n        var rtn = Number(this.groupInfo.assure_capital);\n        if (1 == this.op_type) {\n          // 入金区分是否是专户版\n          if (3 == this.org_info.theme) {\n            rtn = Number(this.groupInfo.assure_capital) + Number(this.right_amount);\n          }else{\n\n          }\n        }else if(2 == this.op_type){\n          // 出金区分是否是专户版\n          if (3 == this.org_info.theme) {\n            rtn = Number(this.groupInfo.assure_capital) - Number(this.right_amount);\n          }else{\n          }\n        }else if(3 == this.op_type){\n\n        }else if(4 == this.op_type){\n\n        }\n        return rtn;\n      },\n      afterLoan_capital: function(){\n        var rtn = Number(this.groupInfo.loan_capital);\n        if (1 == this.op_type) {\n          // 入金区分是否是专户版\n          if (3 == this.org_info.theme) {\n            rtn = Number(this.groupInfo.loan_capital) + Number(this.amount);\n          }else{\n\n          }\n        }else if(2 == this.op_type){\n          // 出金区分是否是专户版\n          if (3 == this.org_info.theme) {\n            rtn = Number(this.groupInfo.loan_capital) - Number(this.amount);\n          }else{\n\n          }\n        }else if(3 == this.op_type){\n\n        }else if(4 == this.op_type){\n\n        }\n        return rtn;\n      },\n      afterBalance_amount: function(){\n        var rtn = Number(this.productInfo.balance_amount);\n        if (1 == this.op_type) {\n          // // 入金则是“账户可分配金额”\n          // rtn = Number(this.productInfo.balance_amount) + Number(this.changeMoney);\n\n          // 入金区分是否是专户版\n          if (3 == this.org_info.theme) {\n            rtn = Number(this.productInfo.balance_amount) + Number(this.amount) + Number(this.right_amount);\n          }else{\n            rtn = Number(this.productInfo.balance_amount) + Number(this.changeMoney);\n          }\n        }else if(2 == this.op_type){\n          // // 出金则是可操作 可操作金额=当前账户可用资金\n          // rtn = Number(this.productInfo.balance_amount) - Number(this.changeMoney);\n\n          // 出金区分是否是专户版\n          if (3 == this.org_info.theme) {\n            rtn = Number(this.productInfo.balance_amount) - Number(this.amount) - Number(this.right_amount);\n          }else{\n            rtn = Number(this.productInfo.balance_amount) - Number(this.changeMoney);\n          }\n        }else if(3 == this.op_type){\n\n        }else if(4 == this.op_type){\n\n        }\n        return rtn;\n      },\n      afterEnable_cash: function(){\n        var rtn = Number(this.productInfo.enable_cash);\n        if (1 == this.op_type) {\n          // // 入金则是“账户可分配金额”\n          // rtn = Number(this.productInfo.enable_cash) + Number(this.changeMoney);\n\n          // 入金区分是否是专户版，专户版则需要加上保证金金额和借款金额\n          if (3 == this.org_info.theme) {\n            rtn = Number(this.productInfo.enable_cash) + Number(this.amount) + Number(this.right_amount);\n          }else{\n            // 入金则是“账户可分配金额”\n            rtn = Number(this.productInfo.enable_cash) + Number(this.changeMoney);\n          }\n        }else if(2 == this.op_type){\n          // // 出金则是可操作 可操作金额=当前账户可用资金\n          // rtn = Number(this.productInfo.enable_cash) - Number(this.changeMoney);\n\n          // 出金区分是否是专户版，专户版则需要加上保证金金额和借款金额\n          if (3 == this.org_info.theme) {\n            rtn = Number(this.productInfo.enable_cash) - Number(this.amount) - Number(this.right_amount);\n          }else{\n            // 入金则是“账户可分配金额”\n            rtn = Number(this.productInfo.enable_cash) - Number(this.changeMoney);\n          }\n        }else if(3 == this.op_type){\n          rtn = Number(this.productInfo.enable_cash) - Number(this.changeMoney);\n        }else if(4 == this.op_type){\n          rtn = Number(this.productInfo.enable_cash) + Number(this.changeMoney);\n        }\n        return rtn;\n      },\n      afterCan_allocate_fund: function(){\n        var rtn = Number(this.baseAccountInfo.can_allocate_fund);\n        if (1 == this.op_type) {\n          // // 入金则是“账户可分配金额”\n          // rtn = Number(this.baseAccountInfo.can_allocate_fund) - Number(this.changeMoney);\n\n          // 入金区分是否是专户版\n          if (3 == this.org_info.theme) {\n            rtn = Number(this.baseAccountInfo.can_allocate_fund) - Number(this.amount) - Number(this.right_amount);\n          }else{\n            rtn = Number(this.baseAccountInfo.can_allocate_fund) - Number(this.changeMoney);\n          }\n        }else if(2 == this.op_type){\n          // // 出金则是可操作 可操作金额=当前账户可用资金\n          // rtn = Number(this.baseAccountInfo.can_allocate_fund) + Number(this.changeMoney);\n\n          // 入金区分是否是专户版\n          if (3 == this.org_info.theme) {\n            rtn = Number(this.baseAccountInfo.can_allocate_fund) + Number(this.amount) - Number(this.right_amount);\n          }else{\n            rtn = Number(this.baseAccountInfo.can_allocate_fund) + Number(this.changeMoney);\n          }\n        }else if(3 == this.op_type){\n          // rtn = Number(this.baseAccountInfo.can_allocate_fund) - Number(this.changeMoney);\n        }else if(4 == this.op_type){\n          // rtn = Number(this.baseAccountInfo.can_allocate_fund) + Number(this.changeMoney);\n        }\n        return rtn;\n        // baseAccountInfo\n      }\n    },\n    watch: {\n      actionType: function(newValue, oldValue){\n        if (newValue == 0) {\n          this.op_type = 1;\n        }else if(newValue == 1){\n          this.op_type = 3;\n        }\n      },\n      amount: function(newValue, oldValue){\n        if (/^\\d+\\.{0,1}\\d{0,2}$/.test(newValue) || newValue == '' || newValue == 0) {\n          ;\n        }else{\n          this.amount = oldValue;\n        }\n      },\n      right_amount: function(newValue, oldValue){\n        if (/^\\d+\\.{0,1}\\d{0,2}$/.test(newValue) || newValue == '' || newValue == 0) {\n          ;\n        }else{\n          this.right_amount = oldValue;\n        }\n      },\n      changeMoney: function(newValue, oldValue){\n        if (/^\\d+\\.{0,1}\\d{0,2}$/.test(newValue) || newValue == '' || newValue == 0) {\n          ;\n        }else{\n          this.changeMoney = oldValue;\n        }\n        this.checkMoney(newValue, this.freeMoney);\n      }\n    },\n    data: {\n      changeMoney: 0, // 修改的金额数\n      actionType: 0, //自定义的枚举值，0表示出入金 1表示冻结解冻，与后台的交互枚举值为：op_type 1:入金 2:出金 3:冻结 4:解冻\n      op_type: 1,\n      org_info: FD.org_info,\n      baseAccountInfo: {},\n      amount: '',\n      right_amount: '',\n      remark: ''\n    },\n    methods: {\n      showSpecial: function(){\n        return (this.org_info.theme == 3 && 0 == this.actionType)\n      },\n      checkMoney: function(value, freeMoney){\n        if (value > freeMoney) {\n          // $('.form-error-tip').removeClass('hide');\n        }else{\n          $('.form-error-tip').addClass('hide');\n        }\n      },\n      numeralNumber: function(arg, num){\n        if (undefined != num) {\n          var str = '0.'\n          for (let i = num - 1; i >= 0; i--) {\n            str += '0';\n          }\n          return numeral(arg).format( '0,' + str );\n        }\n        return numeral(arg).format( '0,0.00' );\n      },\n      changeActionType: function(v){\n        if (0 == v) {\n          cashInfo.op_type = 1;\n        }else{\n          cashInfo.op_type = 3\n        }\n        console.log(cashInfo.op_type);\n      },\n      getBaseAccountInfo: function(){\n        var _this = this;\n        $.ajax({\n          url: prefix + '/portfolio/fund-base-account-info',\n          data: {\n            product_id: FD.product_id\n          },\n          success: function({code, msg, data}){\n            if (0 == code) {\n              _this.baseAccountInfo = data;\n            }else{\n              $.omsAlert(msg);\n            }\n          },\n          error: function(){\n            $.failNotice('网络异常，请重试');\n          }\n        });\n      },\n      showHistory: function(){\n        var _this = this;\n        var html = `\n        <div style=\"min-height: 300px;max-height: 400px;overflow: auto;\">\n          <select class=\"showHistoryByType\">\n\n          </select>\n          <table>\n            <thead>\n              <tr>\n                <th style=\"padding-left: 20px;text-align: left;\">类型</th>\n                <th style=\"padding-left: 20px;text-align: left;\">操作金额</th>\n                <th style=\"padding-left: 20px;text-align: left;\">操作时间</th>\n                <th style=\"padding-left: 20px;text-align: left;\">操作人</th>\n                <th style=\"padding-left: 20px;text-align: left;\">备注</th>\n              </tr>\n            </thead>\n            <tbody class=\"showHistoryTBody\">\n\n            </tbody>\n          </table>\n          <div class=\"historyPage\"></div>\n        </div>`;\n        $.confirm({\n          title: '资金变动记录',\n          content: html,\n          closeIcon: true,\n          columnClass: 'custom-window-width',\n          confirmButton: false,\n          cancelButton: false\n        });\n\n        this.showHistoryByType = $('.showHistoryByType').selectize({\n          valueField: 'value',\n          labelField: 'label',\n          create: false,\n          onChange: function(){\n            _this.getFundHistory();\n          },\n          render: {\n            item: function(item, escape){\n              return '<div class=\"item\" data-value=\"'+ item.value +'\" title=\"'+ item.label +'\">' + escape(item.label) + '</div>';\n            },\n            option: function(item, escape){\n              var label = item.value;\n              return '<div class=\"option\" title=\"'+ item.label +'\">' + escape(item.label) +\n              '</div>';\n            }\n          }\n        })[0].selectize;\n\n        if (3 == this.org_info.theme) {\n          this.showHistoryByType.addOption([{\n            label: '全部变动分类',\n            value: 0\n          },{\n            label: '入金',\n            value: 5\n          },{\n            label: '出金',\n            value: 6\n          },{\n            label: '冻结',\n            value: 3\n          },{\n            label: '解冻',\n            value: 4\n          }]);\n        }else{\n          this.showHistoryByType.addOption([{\n            label: '全部变动分类',\n            value: 0\n          },{\n            label: '入金',\n            value: 1\n          },{\n            label: '出金',\n            value: 2\n          },{\n            label: '冻结',\n            value: 3\n          },{\n            label: '解冻',\n            value: 4\n          }]);\n        }\n        \n        this.showHistoryByType.setValue(0);\n\n        // this.getFundHistory();\n      },\n      getFundHistory: function(index){\n        var _this = this;\n        var getOpType = function(type){\n          var op_type = {\n            '1': '入金',\n            '2': '出金',\n            '3': '冻结',\n            '4': '解冻',\n            '5': '入金',\n            '6': '出金'\n          }\n          return op_type[type];\n        }\n        $.ajax({\n          url: prefix + '/portfolio/fund-history',\n          data: {\n            product_id: FD.product_id,\n            page: index || 1,\n            limit: 20,\n            op_type: this.showHistoryByType.getValue()\n          },\n          success: function({code, msg, data}){\n            if (0 == code) {\n              var str = '';\n              data.data.forEach(function(e){\n                if (_this.org_info.theme == 3 && (e.op_type == 5 || e.op_type == 6)) {\n                  str += `\n                  <tr>\n                    <td style=\"padding-left: 20px;text-align: left;\">` + getOpType(e.op_type) + `</td>\n                    <td style=\"padding-left: 20px;text-align: left;max-width: 300px;word-wrap: break-word;\">` + _this.numeralNumber(e.amount) + '(含保证金' + _this.numeralNumber(e.right_amount) + '，借款' + _this.numeralNumber(e.loan_amount) + `)</td>\n                    <td style=\"padding-left: 20px;text-align: left;\">` + e.created_at + `</td>\n                    <td style=\"padding-left: 20px;text-align: left;\">` + e.nick_name + `</td>\n                    <td style=\"padding-left: 20px;text-align: left;\">`+ (('' == e.remark) ? `--` : e.remark) +`</td>\n                  </tr>`;\n                }else{\n                  str += `\n                  <tr>\n                    <td style=\"padding-left: 20px;text-align: left;\">` + getOpType(e.op_type) + `</td>\n                    <td style=\"padding-left: 20px;text-align: left;max-width: 300px;word-wrap: break-word;\">` + _this.numeralNumber(e.amount) + `</td>\n                    <td style=\"padding-left: 20px;text-align: left;\">` + e.created_at + `</td>\n                    <td style=\"padding-left: 20px;text-align: left;\">` + e.nick_name + `</td>\n                    <td style=\"padding-left: 20px;text-align: left;\">`+ (('' == e.remark) ? `--` : e.remark) +`</td>\n                  </tr>`;\n                }\n              })\n              \n              $('.showHistoryTBody').html(str);\n              $('.historyPage').html(data.data_page_html);\n            }else{\n              $.omsAlert(msg);\n            }\n          },\n          error: function(){\n            $.failNotice();\n          }\n        })\n      },\n      doSave: function(){\n        var _this = this;\n        var changeMoney = this.changeMoney;\n        var amount = this.amount;\n        var right_amount = this.right_amount;\n        var op_type = this.op_type;\n        var remark = this.remark;\n        if (this.showSpecial()) {\n          if ('' == amount) {\n            amount = 0;\n          }\n          if ('' == right_amount) {\n            right_amount = 0;\n          }\n          if (/^\\d+(\\.\\d{1,2})?$/.test(amount) && /^\\d+(\\.\\d{1,2})?$/.test(right_amount)) {\n            ;\n          }else{\n            $.omsAlert('金额格式不对');\n            return false;\n          }\n          if (amount < 0 || right_amount < 0 || (amount == 0 && right_amount == 0)) {\n            $.omsAlert('金额必须大于0')\n            return false;\n          }\n\n          // if (0 >= this.afterRight_capital && 0 < this.afterLoan_capital) {\n          //   $.omsAlert('借款金额超过杠杆比例限制')\n          //   return false;\n          // }else{\n          //   if (this.afterLoan_capital / this.afterRight_capital > productHeader.groupInfo.lever_ratio) {\n          //     $.omsAlert('借款金额超过杠杆比例限制')\n          //     return false;\n          //   }\n          // }\n\n          if (amount + right_amount > this.freeMoney) {\n            if (1 == op_type) {\n              $.confirm({\n                title: '已达上限',\n                content: '<div style=\"text-align: center;height: 150px;line-height: 150px;\"><i class=\"warn-icon\"></i>慎重！账户可分配余额不足，或将导致无法买入证券，确定继续？</div>',\n                closeIcon: true,\n                confirmButton: ' 确定 ',\n                confirm: function(){\n                  doSubmitV2(_this, amount, right_amount, op_type, remark);\n                },\n                cancelButton: false\n              });\n            }else{\n              $.omsAlert(this.freeMoneyLabel + '不足');\n            }\n            return false;\n          }\n          doSubmitV2(_this, amount, right_amount, op_type, remark)\n        }else{\n          if (/^\\d+(\\.\\d{1,2})?$/.test(changeMoney)) {\n            ;\n          } else {\n            $.omsAlert('金额格式不对');\n            return false;\n          }\n          if (changeMoney > 0) {\n            ;\n          }else{\n            $.omsAlert('金额必须大于0');\n            return false;\n          }\n          if (changeMoney > this.freeMoney) {\n            if (1 == op_type) {\n              $.confirm({\n                title: '已达上限',\n                content: '<div style=\"text-align: center;height: 150px;line-height: 150px;\"><i class=\"warn-icon\"></i>慎重！账户可分配余额不足，或将导致无法买入证券，确定继续？</div>',\n                closeIcon: true,\n                confirmButton: ' 确定 ',\n                confirm: function(){\n                  doSubmit(_this, changeMoney, op_type, remark);\n                },\n                cancelButton: false\n              });\n            }else{\n              $.omsAlert(this.freeMoneyLabel + '不足');\n            }\n            return false;\n          }\n          doSubmit(_this, changeMoney, op_type, remark)\n        }\n      },\n      urlBack: function(){\n        location.href = prefix + '/product/base_lists';\n      }\n    }\n  });\n\n  cashInfo.getBaseAccountInfo();\n\n  var _search_get = function(url, name){\n    var params = {};\n    url.replace(/^\\?/,'').split('&').forEach(function(x){\n        params[ x.replace(/\\=.*/,'') ] = decodeURIComponent( x.replace(/.*\\=/,'') );\n    });\n\n    return params[name];\n  }\n\n  $(document).on('click', '.historyPage>.pagination a', function () {\n    var page = _search_get($(this).attr('href').match(/\\?.*/)[0], 'page');\n    cashInfo.getFundHistory(page);\n    return false;\n  });\n\n  function doSubmit(_this, changeMoney, op_type, remark){\n    $.startLoading('正在保存...');\n    $.ajax({\n      url: prefix + '/portfolio/fund-adjust',\n      type: 'post',\n      data: {\n        product_id: FD.product_id,\n        amount: changeMoney,\n        op_type: op_type,\n        remark: remark\n      },\n      success: function({code, msg, data}){\n        $.clearLoading();\n        if (0 == code) {\n          productHeader.getGroupInfo();\n          productHeader.getBalanceInfo();\n          cashInfo.getBaseAccountInfo();\n          _this.changeMoney = 0;\n          $.omsAlert('保存成功');\n        }else{\n          $.omsAlert(msg);\n        }\n      },\n      error: function(){\n        $.clearLoading();\n        $.failNotice();\n      }\n    })\n  }\n\n  function doSubmitV2(_this, amount, right_amount, op_type, remark){\n    $.startLoading('正在保存...');\n    $.ajax({\n      url: prefix + '/portfolio/fund-adjust',\n      type: 'post',\n      data: {\n        product_id: FD.product_id,\n        amount: amount,\n        right_amount: right_amount,\n        op_type: (op_type == 1 ? 5 : 6),\n        remark: remark\n      },\n      success: function({code, msg, data}){\n        $.clearLoading();\n        if (0 == code) {\n          productHeader.getGroupInfo();\n          productHeader.getBalanceInfo();\n          cashInfo.getBaseAccountInfo();\n          _this.amount = 0;\n          _this.right_amount = 0;\n          $.omsAlert('保存成功');\n        }else{\n          $.omsAlert(msg);\n        }\n      },\n      error: function(){\n        $.clearLoading();\n        $.failNotice();\n      }\n    })\n  }\n}\n"]}